/*! For license information please see main.b277e3e6.js.LICENSE.txt */
(()=>{"use strict";var e={630:(e,t,n)=>{n.r(t),n.d(t,{Headers:()=>i,Request:()=>o,Response:()=>l,default:()=>a,fetch:()=>s});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const s=r.fetch,a=r.fetch.bind(r),i=r.Headers,o=r.Request,l=r.Response},286:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(630)),a=r(n(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,n,r;let s=null,i=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),a=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&a&&a.length>1&&(o=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(s={code:"PGRST116",details:"Results contain ".concat(i.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,o=null,l=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(i=[],s=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(r=null===s||void 0===s?void 0:s.details)||void 0===r?void 0:r.includes("0 rows"))&&(s=null,l=200,c="OK"),s&&this.shouldThrowOnError)throw new a.default(s)}return{error:s,data:i,count:o,status:l,statusText:c}}));return this.shouldThrowOnError||(n=n.catch((e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}}))),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},210:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(829)),a=r(n(736)),i=n(745);class o{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new s.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:s=!1,count:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL("".concat(this.url,"/rpc/").concat(e));let l;r||s?(t=r?"HEAD":"GET",Object.entries(n).filter((e=>{let[t,n]=e;return void 0!==n})).map((e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]})).forEach((e=>{let[t,n]=e;o.searchParams.append(t,n)}))):(t="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer="count=".concat(i)),new a.default({method:t,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},736:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(374));class a extends s.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map((e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e))).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s="";"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w");const a=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(s,"fts").concat(a,".").concat(t)),this}match(e){return Object.entries(e).forEach((e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))})),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=a},829:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:s}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let a=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e))).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer="count=".concat(n)),new s.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push("count=".concat(t)),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>'"'.concat(e,'"')));this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=["resolution=".concat(n?"ignore":"merge","-duplicates")];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push("count=".concat(r)),a||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>'"'.concat(e,'"')));this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push("count=".concat(t)),this.headers.Prefer=n.join(","),new s.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push("count=".concat(e)),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new s.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},374:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(286));class a extends s.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=s?"".concat(s,".order"):"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s="undefined"===typeof r?"offset":"".concat(r,".offset"),a="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(s,"".concat(e)),this.url.searchParams.set(a,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:a="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.Accept)&&void 0!==i?i:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(a,'; for="').concat(l,'"; options=').concat(o,";"),this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=a},745:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(400);t.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(r.version)}},980:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const s=r(n(210));t.PostgrestClient=s.default;const a=r(n(829));t.PostgrestQueryBuilder=a.default;const i=r(n(736));t.PostgrestFilterBuilder=i.default;const o=r(n(374));t.PostgrestTransformBuilder=o.default;const l=r(n(286));t.PostgrestBuilder=l.default;const c=r(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:s.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}},400:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},730:(e,t,n)=>{var r=n(43),s=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,s,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var D,U=Object.assign;function M(e){if(void 0===D)try{throw Error()}catch(Za){var t=Za.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var z=!1;function F(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Ja){var r=Ja}Reflect.construct(e,[],t)}else{try{t.call()}catch(Ja){r=Ja}e.call(t.prototype)}else{try{throw Error()}catch(Ja){r=Ja}e()}}catch(Ja){if(Ja&&r&&"string"===typeof Ja.stack){for(var s=Ja.stack.split("\n"),a=r.stack.split("\n"),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(1!==i||1!==o)do{if(i--,0>--o||s[i]!==a[o]){var l="\n"+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function B(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case k:return"Portal";case _:return"Profiler";case N:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return W(e(t))}catch(Za){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,je=null;function Ne(e){if(e=ys(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=xs(t),we(e.stateNode,e.type,t))}}function _e(e){ke?je?je.push(e):je=[e]:ke=e}function Se(){if(ke){var e=ke,t=je;if(je=ke=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ee(e,t){return e(t)}function Ce(){}var Te=!1;function Pe(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ee(e,t,n)}finally{Te=!1,(null!==ke||null!==je)&&(Ce(),Se())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=xs(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ae=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(Qa){Ae=!1}function Le(e,t,n,r,s,a,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ie=!1,De=null,Ue=!1,Me=null,ze={onError:function(e){Ie=!0,De=e}};function Fe(e,t,n,r,s,a,i,o,l){Ie=!1,De=null,Le.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(r=s.return)){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return qe(s),e;if(i===r)return qe(s),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),null!==e?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ve=s.unstable_scheduleCallback,Ge=s.unstable_cancelCallback,$e=s.unstable_shouldYield,Je=s.unstable_requestPaint,Qe=s.unstable_now,Ye=s.unstable_getCurrentPriorityLevel,Xe=s.unstable_ImmediatePriority,Ze=s.unstable_UserBlockingPriority,et=s.unstable_NormalPriority,tt=s.unstable_LowPriority,nt=s.unstable_IdlePriority,rt=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var lt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~s;0!==o?r=ut(o):0!==(a&=i)&&(r=ut(a))}else 0!==(i=n&~s)?r=ut(i):0!==a&&(r=ut(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-at(t)),r|=e[n],t&=~s;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,kt,jt,Nt,_t=!1,St=[],Et=null,Ct=null,Tt=null,Pt=new Map,Ot=new Map,At=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function It(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=ys(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Dt(e){var t=vs(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Nt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ys(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Mt(e,t,n){Ut(e)&&n.delete(t)}function zt(){_t=!1,null!==Et&&Ut(Et)&&(Et=null),null!==Ct&&Ut(Ct)&&(Ct=null),null!==Tt&&Ut(Tt)&&(Tt=null),Pt.forEach(Mt),Ot.forEach(Mt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Ft(t,e)}if(0<St.length){Ft(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Ft(Et,e),null!==Ct&&Ft(Ct,e),null!==Tt&&Ft(Tt,e),Pt.forEach(t),Ot.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Dt(n),null===n.blockedOn&&At.shift()}var Wt=x.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var s=yt,a=Wt.transition;Wt.transition=null;try{yt=1,Vt(e,t,n,r)}finally{yt=s,Wt.transition=a}}function Kt(e,t,n,r){var s=yt,a=Wt.transition;Wt.transition=null;try{yt=4,Vt(e,t,n,r)}finally{yt=s,Wt.transition=a}}function Vt(e,t,n,r){if(qt){var s=$t(e,t,n,r);if(null===s)qr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Et=It(Et,e,t,n,r,s),!0;case"dragenter":return Ct=It(Ct,e,t,n,r,s),!0;case"mouseover":return Tt=It(Tt,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Pt.set(a,It(Pt.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Ot.set(a,It(Ot.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==s;){var a=ys(s);if(null!==a&&xt(a),null===(a=$t(e,t,n,r))&&qr(e,t,r,Gt,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function $t(e,t,n,r){if(Gt=null,null!==(e=vs(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Xe:return 1;case Ze:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Yt=null,Xt=null;function Zt(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,s="value"in Qt?Qt.value:Qt.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[a-t];t++);return Xt=s.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,s,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var sn,an,on,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(ln),un=U({},ln,{view:0,detail:0}),dn=rn(un),hn=U({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(sn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=sn=0,on=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=rn(hn),pn=rn(U({},hn,{dataTransfer:0})),mn=rn(U({},un,{relatedTarget:0})),gn=rn(U({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=U({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=rn(vn),bn=rn(U({},ln,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Nn(){return jn}var _n=U({},un,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=rn(_n),En=rn(U({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=rn(U({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Tn=rn(U({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=U({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=rn(Pn),An=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var In=u&&"TextEvent"in window&&!Ln,Dn=u&&(!Rn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Mn=!1;function zn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){_e(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Vn=null;function Gn(e){Ur(e,0)}function $n(e){if(G(bs(e)))return e}function Jn(e,t){if("change"===e)return t}var Qn=!1;if(u){var Yn;if(u){var Xn="oninput"in document;if(!Xn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Xn="function"===typeof Zn.oninput}Yn=Xn}else Yn=!1;Qn=Yn&&(!document.documentMode||9<document.documentMode)}function er(){Kn&&(Kn.detachEvent("onpropertychange",tr),Vn=Kn=null)}function tr(e){if("value"===e.propertyName&&$n(Vn)){var t=[];Hn(t,Vn,e,xe(e)),Pe(Gn,t)}}function nr(e,t,n){"focusin"===e?(er(),Vn=n,(Kn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Vn)}function sr(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!d.call(t,s)||!ir(e[s],t[s]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(ri){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=void 0===r.end?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=cr(n,a);var i=cr(n,r);s&&i&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,vr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==$(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&or(vr,r)||(vr=r,0<(r=Kr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},jr={};function Nr(e){if(kr[e])return kr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in jr)return kr[e]=n[t];return e}u&&(jr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var _r=Nr("animationend"),Sr=Nr("animationiteration"),Er=Nr("animationstart"),Cr=Nr("transitionend"),Tr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Tr.set(e,t),l(t,[e])}for(var Ar=0;Ar<Pr.length;Ar++){var Rr=Pr[Ar];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(_r,"onAnimationEnd"),Or(Sr,"onAnimationIteration"),Or(Er,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,i,o,l,c){if(Fe.apply(this,arguments),Ie){if(!Ie)throw Error(a(198));var u=De;Ie=!1,De=null,Ue||(Ue=!0,Me=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;Dr(s,o,c),a=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;Dr(s,o,c),a=l}}}if(Ue)throw e=Me,Ue=!1,Me=null,e}function Mr(e,t){var n=t[ps];void 0===n&&(n=t[ps]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Fr]){e[Fr]=!0,i.forEach((function(t){"selectionchange"!==t&&(Ir.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,zr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Jt(t)){case 1:var s=Ht;break;case 4:s=Kt;break;default:s=Vt}n=s.bind(null,t,n,e),s=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,s){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;i=i.return}for(;null!==o;){if(null===(i=vs(o)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}o=o.parentNode}}r=r.return}Pe((function(){var r=a,s=xe(n),i=[];e:{var o=Tr.get(e);if(void 0!==o){var l=cn,c=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":l=Sn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case _r:case Sr:case Er:l=gn;break;case Cr:l=Tn;break;case"scroll":l=dn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Oe(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,s),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vs(c)&&!c[fs])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vs(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:bs(l),f=null==c?o:bs(c),(o=new u(m,p+"leave",l,n,s)).target=d,o.relatedTarget=f,m=null,vs(s)===r&&((u=new u(h,p+"enter",c,n,s)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Vr(f))p++;for(f=0,m=h;m;m=Vr(m))f++;for(;0<p-f;)u=Vr(u),p--;for(;0<f-p;)h=Vr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Vr(u),h=Vr(h)}u=null}else u=null;null!==l&&Gr(i,o,l,u,!1),null!==c&&null!==d&&Gr(i,d,c,u,!0)}if("select"===(l=(o=r?bs(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Jn;else if(qn(o))if(Qn)g=ar;else{g=rr;var v=nr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(i,g,n,s):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?bs(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(mr=v,gr=r,vr=null);break;case"focusout":vr=gr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(i,n,s);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(i,n,s)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=Zt()):(Yt="value"in(Qt=s)?Qt.value:Qt.textContent,Bn=!0)),0<(v=Kr(r,b)).length&&(b=new bn(b,e,null,n,s),i.push({event:b,listeners:v}),y?b.data=y:null!==(y=Fn(n))&&(b.data=y))),(y=In?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(Mn=!0,Un);case"textInput":return(e=t.data)===Un&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&zn(e,t)?(e=Zt(),Xt=Yt=Qt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(s=new bn("onBeforeInput","beforeinput",null,n,s),i.push({event:s,listeners:r}),s.data=y))}Ur(i,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Oe(e,n))&&r.unshift(Hr(e,a,s)),null!=(a=Oe(e,t))&&r.push(Hr(e,a,s))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,s){for(var a=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Oe(n,a))&&i.unshift(Hr(n,l,o)):s||null!=(l=Oe(n,a))&&i.push(Hr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var $r=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Jr,"")}function Yr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function Xr(){}var Zr=null,es=null;function ts(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ns="function"===typeof setTimeout?setTimeout:void 0,rs="function"===typeof clearTimeout?clearTimeout:void 0,ss="function"===typeof Promise?Promise:void 0,as="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ss?function(e){return ss.resolve(null).then(e).catch(is)}:ns;function is(e){setTimeout((function(){throw e}))}function os(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Bt(t)}function ls(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cs(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),ds="__reactFiber$"+us,hs="__reactProps$"+us,fs="__reactContainer$"+us,ps="__reactEvents$"+us,ms="__reactListeners$"+us,gs="__reactHandles$"+us;function vs(e){var t=e[ds];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[ds]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cs(e);null!==e;){if(n=e[ds])return n;e=cs(e)}return t}n=(e=n).parentNode}return null}function ys(e){return!(e=e[ds]||e[fs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xs(e){return e[hs]||null}var ws=[],ks=-1;function js(e){return{current:e}}function Ns(e){0>ks||(e.current=ws[ks],ws[ks]=null,ks--)}function _s(e,t){ks++,ws[ks]=e.current,e.current=t}var Ss={},Es=js(Ss),Cs=js(!1),Ts=Ss;function Ps(e,t){var n=e.type.contextTypes;if(!n)return Ss;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Os(e){return null!==(e=e.childContextTypes)&&void 0!==e}function As(){Ns(Cs),Ns(Es)}function Rs(e,t,n){if(Es.current!==Ss)throw Error(a(168));_s(Es,t),_s(Cs,n)}function Ls(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(a(108,q(e)||"Unknown",s));return U({},n,r)}function Is(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ss,Ts=Es.current,_s(Es,e),_s(Cs,Cs.current),!0}function Ds(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ls(e,t,Ts),r.__reactInternalMemoizedMergedChildContext=e,Ns(Cs),Ns(Es),_s(Es,e)):Ns(Cs),_s(Cs,n)}var Us=null,Ms=!1,zs=!1;function Fs(e){null===Us?Us=[e]:Us.push(e)}function Bs(){if(!zs&&null!==Us){zs=!0;var e=0,t=yt;try{var n=Us;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Us=null,Ms=!1}catch(Ga){throw null!==Us&&(Us=Us.slice(e+1)),Ve(Xe,Bs),Ga}finally{yt=t,zs=!1}}return null}var Ws=[],qs=0,Hs=null,Ks=0,Vs=[],Gs=0,$s=null,Js=1,Qs="";function Ys(e,t){Ws[qs++]=Ks,Ws[qs++]=Hs,Hs=e,Ks=t}function Xs(e,t,n){Vs[Gs++]=Js,Vs[Gs++]=Qs,Vs[Gs++]=$s,$s=e;var r=Js;e=Qs;var s=32-at(r)-1;r&=~(1<<s),n+=1;var a=32-at(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Js=1<<32-at(t)+s|n<<s|r,Qs=a+e}else Js=1<<a|n<<s|r,Qs=e}function Zs(e){null!==e.return&&(Ys(e,1),Xs(e,1,0))}function ea(e){for(;e===Hs;)Hs=Ws[--qs],Ws[qs]=null,Ks=Ws[--qs],Ws[qs]=null;for(;e===$s;)$s=Vs[--Gs],Vs[Gs]=null,Qs=Vs[--Gs],Vs[Gs]=null,Js=Vs[--Gs],Vs[Gs]=null}var ta=null,na=null,ra=!1,sa=null;function aa(e,t){var n=Fc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ia(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ta=e,na=ls(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ta=e,na=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$s?{id:Js,overflow:Qs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Fc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ta=e,na=null,!0);default:return!1}}function oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ra){var t=na;if(t){var n=t;if(!ia(e,t)){if(oa(e))throw Error(a(418));t=ls(n.nextSibling);var r=ta;t&&ia(e,t)?aa(r,n):(e.flags=-4097&e.flags|2,ra=!1,ta=e)}}else{if(oa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ra=!1,ta=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ta=e}function ua(e){if(e!==ta)return!1;if(!ra)return ca(e),ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ts(e.type,e.memoizedProps)),t&&(t=na)){if(oa(e))throw da(),Error(a(418));for(;t;)aa(e,t),t=ls(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){na=ls(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}na=null}}else na=ta?ls(e.stateNode.nextSibling):null;return!0}function da(){for(var e=na;e;)e=ls(e.nextSibling)}function ha(){na=ta=null,ra=!1}function fa(e){null===sa?sa=[e]:sa.push(e)}var pa=x.ReactCurrentBatchConfig;function ma(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var s=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=s.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Wc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===j?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&va(a)===t.type)?((r=s(t,n.props)).ref=ma(e,t,n),r.return=e,r):((r=qc(n.type,n.key,n.props,null,e.mode,r)).ref=ma(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Hc(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=qc(t.type,t.key,t.props,null,e.mode,n)).ref=ma(e,null,t),n.return=e,n;case k:return(t=Gc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Hc(t,e.mode,n,null)).return=e,t;ga(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,r):null;case k:return n.key===s?u(e,t,n,r):null;case A:return f(e,t,(s=n._init)(n._payload),r)}if(te(n)||I(n))return null!==s?null:d(e,t,n,r,null);ga(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case A:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||I(r))return d(t,e=e.get(n)||null,r,s,null);ga(t,r)}return null}function m(s,a,o,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(s,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(s,d),a=i(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(s,d),ra&&Ys(s,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(s,o[m],l))&&(a=i(d,a,m),null===u?c=d:u.sibling=d,u=d);return ra&&Ys(s,m),c}for(d=r(s,d);m<o.length;m++)null!==(g=p(d,s,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=i(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(s,e)})),ra&&Ys(s,m),c}function g(s,o,l,c){var u=I(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(s,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(s,m),o=i(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(s,m),ra&&Ys(s,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(s,y.value,c))&&(o=i(y,o,g),null===d?u=y:d.sibling=y,d=y);return ra&&Ys(s,g),u}for(m=r(s,m);!y.done;g++,y=l.next())null!==(y=p(m,s,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=i(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(s,e)})),ra&&Ys(s,g),u}return function e(r,a,i,l){if("object"===typeof i&&null!==i&&i.type===j&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,u=a;null!==u;){if(u.key===c){if((c=i.type)===j){if(7===u.tag){n(r,u.sibling),(a=s(u,i.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&va(c)===u.type){n(r,u.sibling),(a=s(u,i.props)).ref=ma(r,u,i),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===j?((a=Hc(i.props.children,r.mode,l,i.key)).return=r,r=a):((l=qc(i.type,i.key,i.props,null,r.mode,l)).ref=ma(r,a,i),l.return=r,r=l)}return o(r);case k:e:{for(u=i.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(r,a.sibling),(a=s(a,i.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Gc(i,r.mode,l)).return=r,r=a}return o(r);case A:return e(r,a,(u=i._init)(i._payload),l)}if(te(i))return m(r,a,i,l);if(I(i))return g(r,a,i,l);ga(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(n(r,a.sibling),(a=s(a,i)).return=r,r=a):(n(r,a),(a=Vc(i,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var ba=ya(!0),xa=ya(!1),wa=js(null),ka=null,ja=null,Na=null;function _a(){Na=ja=ka=null}function Sa(e){var t=wa.current;Ns(wa),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ka=e,Na=ja=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Co=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(Na!==e)if(e={context:e,memoizedValue:t,next:null},null===ja){if(null===ka)throw Error(a(308));ja=e,ka.dependencies={lanes:0,firstContext:e}}else ja=ja.next=e;return t}var Pa=null;function Oa(e){null===Pa?Pa=[e]:Pa.push(e)}function Aa(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Oa(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ra(e,r)}function Ra(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var La=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ma(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ul)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ra(e,n)}return null===(s=r.interleaved)?(t.next=t,Oa(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ra(e,n)}function za(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ba(e,t,n,r){var s=e.updateQueue;La=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=s.baseState;for(i=0,u=c=l=null,o=a;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=U({},d,h);break e;case 2:La=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{i|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Kl|=i,e.lanes=i,e.memoizedState=d}}function Wa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(a(191,s));s.call(r)}}}var qa={},Ha=js(qa),Ka=js(qa),Va=js(qa);function Ya(e){if(e===qa)throw Error(a(174));return e}function Xa(e,t){switch(_s(Va,t),_s(Ka,e),_s(Ha,qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ns(Ha),_s(Ha,t)}function ei(){Ns(Ha),Ns(Ka),Ns(Va)}function ti(e){Ya(Va.current);var t=Ya(Ha.current),n=le(t,e.type);t!==n&&(_s(Ka,e),_s(Ha,n))}function ni(e){Ka.current===e&&(Ns(Ha),Ns(Ka))}var ai=js(0);function oi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var li=[];function ci(){for(var e=0;e<li.length;e++)li[e]._workInProgressVersionPrimary=null;li.length=0}var ui=x.ReactCurrentDispatcher,di=x.ReactCurrentBatchConfig,hi=0,fi=null,pi=null,mi=null,gi=!1,vi=!1,yi=0,bi=0;function xi(){throw Error(a(321))}function wi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function ki(e,t,n,r,s,i){if(hi=i,fi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ui.current=null===e||null===e.memoizedState?oo:lo,e=n(r,s),vi){i=0;do{if(vi=!1,yi=0,25<=i)throw Error(a(301));i+=1,mi=pi=null,t.updateQueue=null,ui.current=co,e=n(r,s)}while(vi)}if(ui.current=io,t=null!==pi&&null!==pi.next,hi=0,mi=pi=fi=null,gi=!1,t)throw Error(a(300));return e}function ji(){var e=0!==yi;return yi=0,e}function Ni(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mi?fi.memoizedState=mi=e:mi=mi.next=e,mi}function _i(){if(null===pi){var e=fi.alternate;e=null!==e?e.memoizedState:null}else e=pi.next;var t=null===mi?fi.memoizedState:mi.next;if(null!==t)mi=t,pi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(pi=e).memoizedState,baseState:pi.baseState,baseQueue:pi.baseQueue,queue:pi.queue,next:null},null===mi?fi.memoizedState=mi=e:mi=mi.next=e}return mi}function Si(e,t){return"function"===typeof t?t(e):t}function Ci(e){var t=_i(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=pi,s=r.baseQueue,i=n.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(null!==s){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((hi&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,fi.lanes|=d,Kl|=d}u=u.next}while(null!==u&&u!==i);null===c?o=r:c.next=l,ir(r,t.memoizedState)||(Co=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{i=s.lane,fi.lanes|=i,Kl|=i,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ti(e){var t=_i(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);ir(i,t.memoizedState)||(Co=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Pi(){}function Oi(e,t){var n=fi,r=_i(),s=t(),i=!ir(r.memoizedState,s);if(i&&(r.memoizedState=s,Co=!0),r=r.queue,qi(Li.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==mi&&1&mi.memoizedState.tag){if(n.flags|=2048,Mi(9,Ri.bind(null,n,r,s,t),void 0,null),null===Ml)throw Error(a(349));0!==(30&hi)||Ai(n,t,s)}return s}function Ai(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=fi.updateQueue)?(t={lastEffect:null,stores:null},fi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ri(e,t,n,r){t.value=n,t.getSnapshot=r,Ii(t)&&Di(e)}function Li(e,t,n){return n((function(){Ii(t)&&Di(e)}))}function Ii(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(ri){return!0}}function Di(e){var t=Ra(e,1);null!==t&&dc(t,e,1,-1)}function Ui(e){var t=Ni();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:e},t.queue=e,e=e.dispatch=no.bind(null,fi,e),[t.memoizedState,e]}function Mi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=fi.updateQueue)?(t={lastEffect:null,stores:null},fi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zi(){return _i().memoizedState}function Fi(e,t,n,r){var s=Ni();fi.flags|=e,s.memoizedState=Mi(1|t,n,void 0,void 0===r?null:r)}function Bi(e,t,n,r){var s=_i();r=void 0===r?null:r;var a=void 0;if(null!==pi){var i=pi.memoizedState;if(a=i.destroy,null!==r&&wi(r,i.deps))return void(s.memoizedState=Mi(t,n,a,r))}fi.flags|=e,s.memoizedState=Mi(1|t,n,a,r)}function Wi(e,t){return Fi(8390656,8,e,t)}function qi(e,t){return Bi(2048,8,e,t)}function Ki(e,t){return Bi(4,2,e,t)}function Vi(e,t){return Bi(4,4,e,t)}function Gi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $i(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bi(4,4,Gi.bind(null,t,e),n)}function Ji(){}function Qi(e,t){var n=_i();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yi(e,t){var n=_i();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xi(e,t,n){return 0===(21&hi)?(e.baseState&&(e.baseState=!1,Co=!0),e.memoizedState=n):(ir(n,t)||(n=pt(),fi.lanes|=n,Kl|=n,e.baseState=!0),t)}function Zi(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=di.transition;di.transition={};try{e(!1),t()}finally{yt=n,di.transition=r}}function eo(){return _i().memoizedState}function to(e,t,n){var r=uc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ro(e))so(t,n);else if(null!==(n=Aa(e,t,n,r))){dc(n,e,r,cc()),ao(n,t,r)}}function no(e,t,n){var r=uc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ro(e))so(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,n);if(s.hasEagerState=!0,s.eagerState=o,ir(o,i)){var l=t.interleaved;return null===l?(s.next=s,Oa(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(Ja){}null!==(n=Aa(e,t,s,r))&&(dc(n,e,r,s=cc()),ao(n,t,r))}}function ro(e){var t=e.alternate;return e===fi||null!==t&&t===fi}function so(e,t){vi=gi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ao(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var io={readContext:Ta,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},oo={readContext:Ta,useCallback:function(e,t){return Ni().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Wi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fi(4194308,4,Gi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fi(4,2,e,t)},useMemo:function(e,t){var n=Ni();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ni();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=to.bind(null,fi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ni().memoizedState=e},useState:Ui,useDebugValue:Ji,useDeferredValue:function(e){return Ni().memoizedState=e},useTransition:function(){var e=Ui(!1),t=e[0];return e=Zi.bind(null,e[1]),Ni().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fi,s=Ni();if(ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ml)throw Error(a(349));0!==(30&hi)||Ai(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Wi(Li.bind(null,r,i,e),[e]),r.flags|=2048,Mi(9,Ri.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ni(),t=Ml.identifierPrefix;if(ra){var n=Qs;t=":"+t+"R"+(n=(Js&~(1<<32-at(Js)-1)).toString(32)+n),0<(n=yi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lo={readContext:Ta,useCallback:Qi,useContext:Ta,useEffect:qi,useImperativeHandle:$i,useInsertionEffect:Ki,useLayoutEffect:Vi,useMemo:Yi,useReducer:Ci,useRef:zi,useState:function(){return Ci(Si)},useDebugValue:Ji,useDeferredValue:function(e){return Xi(_i(),pi.memoizedState,e)},useTransition:function(){return[Ci(Si)[0],_i().memoizedState]},useMutableSource:Pi,useSyncExternalStore:Oi,useId:eo,unstable_isNewReconciler:!1},co={readContext:Ta,useCallback:Qi,useContext:Ta,useEffect:qi,useImperativeHandle:$i,useInsertionEffect:Ki,useLayoutEffect:Vi,useMemo:Yi,useReducer:Ti,useRef:zi,useState:function(){return Ti(Si)},useDebugValue:Ji,useDeferredValue:function(e){var t=_i();return null===pi?t.memoizedState=e:Xi(t,pi.memoizedState,e)},useTransition:function(){return[Ti(Si)[0],_i().memoizedState]},useMutableSource:Pi,useSyncExternalStore:Oi,useId:eo,unstable_isNewReconciler:!1};function uo(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cc(),s=uc(e),a=Ua(r,s);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ma(e,a,s))&&(dc(t,e,s,r),za(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cc(),s=uc(e),a=Ua(r,s);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ma(e,a,s))&&(dc(t,e,s,r),za(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cc(),r=uc(e),s=Ua(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Ma(e,s,r))&&(dc(t,e,r,n),za(t,e,r))}};function po(e,t,n,r,s,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(s,a))}function mo(e,t,n){var r=!1,s=Ss,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(s=Os(t)?Ts:Es.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ps(e,s):Ss),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function go(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function vo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ia(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=Ta(a):(a=Os(t)?Ts:Es.current,s.context=Ps(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ho(e,t,a,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&fo.enqueueReplaceState(s,s.state,null),Ba(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function yo(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var s=n}catch(si){s="\nError generating stack: "+si.message+"\n"+si.stack}return{value:e,source:t,stack:s,digest:null}}function bo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function xo(e,t){try{console.error(t.value)}catch(Za){setTimeout((function(){throw Za}))}}var wo="function"===typeof WeakMap?WeakMap:Map;function ko(e,t,n){(n=Ua(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zl||(Zl=!0,ec=r),xo(0,t)},n}function jo(e,t,n){(n=Ua(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){xo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){xo(0,t),"function"!==typeof r&&(null===tc?tc=new Set([this]):tc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function No(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new wo;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Lc.bind(null,e,t,n),t.then(e,e))}function _o(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function So(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ua(-1,1)).tag=2,Ma(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var Eo=x.ReactCurrentOwner,Co=!1;function To(e,t,n,r){t.child=null===e?xa(t,null,n,r):ba(t,e.child,n,r)}function Po(e,t,n,r,s){n=n.render;var a=t.ref;return Ca(t,s),r=ki(e,t,n,r,a,s),n=ji(),null===e||Co?(ra&&n&&Zs(t),t.flags|=1,To(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zo(e,t,s))}function Oo(e,t,n,r,s){if(null===e){var a=n.type;return"function"!==typeof a||Bc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ao(e,t,a,r,s))}if(a=e.child,0===(e.lanes&s)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(i,r)&&e.ref===t.ref)return Zo(e,t,s)}return t.flags|=1,(e=Wc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if(or(a,r)&&e.ref===t.ref){if(Co=!1,t.pendingProps=r=a,0===(e.lanes&s))return t.lanes=e.lanes,Zo(e,t,s);0!==(131072&e.flags)&&(Co=!0)}}return Io(e,t,n,r,s)}function Ro(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_s(Wl,Bl),Bl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_s(Wl,Bl),Bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_s(Wl,Bl),Bl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_s(Wl,Bl),Bl|=r;return To(e,t,s,n),t.child}function Lo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Io(e,t,n,r,s){var a=Os(n)?Ts:Es.current;return a=Ps(t,a),Ca(t,s),n=ki(e,t,n,r,a,s),r=ji(),null===e||Co?(ra&&r&&Zs(t),t.flags|=1,To(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zo(e,t,s))}function Do(e,t,n,r,s){if(Os(n)){var a=!0;Is(t)}else a=!1;if(Ca(t,s),null===t.stateNode)Xo(e,t),mo(t,n,r),vo(t,n,r,s),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ta(c):c=Ps(t,c=Os(n)?Ts:Es.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&go(t,i,r,c),La=!1;var h=t.memoizedState;i.state=h,Ba(t,r,i,s),l=t.memoizedState,o!==r||h!==l||Cs.current||La?("function"===typeof u&&(ho(t,n,u,r),l=t.memoizedState),(o=La||po(t,n,o,r,h,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Da(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:uo(t.type,o),i.props=c,d=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ta(l):l=Ps(t,l=Os(n)?Ts:Es.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&go(t,i,r,l),La=!1,h=t.memoizedState,i.state=h,Ba(t,r,i,s);var p=t.memoizedState;o!==d||h!==p||Cs.current||La?("function"===typeof f&&(ho(t,n,f,r),p=t.memoizedState),(c=La||po(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Uo(e,t,n,r,a,s)}function Uo(e,t,n,r,s,a){Lo(e,t);var i=0!==(128&t.flags);if(!r&&!i)return s&&Ds(t,n,!1),Zo(e,t,a);r=t.stateNode,Eo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ba(t,e.child,null,a),t.child=ba(t,null,o,a)):To(e,t,o,a),t.memoizedState=r.state,s&&Ds(t,n,!0),t.child}function Mo(e){var t=e.stateNode;t.pendingContext?Rs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rs(0,t.context,!1),Xa(e,t.containerInfo)}function zo(e,t,n,r,s){return ha(),fa(s),t.flags|=256,To(e,t,n,r),t.child}var Fo,Bo,Wo,qo,Ho={dehydrated:null,treeContext:null,retryLane:0};function Ko(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vo(e,t,n){var r,s=t.pendingProps,i=ai.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),_s(ai,1&i),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Kc(l,s,0,null),e=Hc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ko(n),t.memoizedState=Ho,e):Go(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,s,i,o){if(n)return 256&t.flags?(t.flags&=-257,$o(e,t,o,r=bo(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Kc({mode:"visible",children:r.children},s,0,null),(i=Hc(i,s,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&ba(t,e.child,null,o),t.child.memoizedState=Ko(o),t.memoizedState=Ho,i);if(0===(1&t.mode))return $o(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,$o(e,t,o,r=bo(i=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),Co||l){if(null!==(r=Ml)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==i.retryLane&&(i.retryLane=s,Ra(e,s),dc(r,e,s,-1))}return Nc(),$o(e,t,o,r=bo(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Dc.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,na=ls(s.nextSibling),ta=t,ra=!0,sa=null,null!==e&&(Vs[Gs++]=Js,Vs[Gs++]=Qs,Vs[Gs++]=$s,Js=e.id,Qs=e.overflow,$s=t),t=Go(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,i,n);if(o){o=s.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==i?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Wc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Wc(r,o):(o=Hc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Ko(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Ho,s}return e=(o=e.child).sibling,s=Wc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Go(e,t){return(t=Kc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $o(e,t,n,r){return null!==r&&fa(r),ba(t,e.child,null,n),(e=Go(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Jo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Qo(e,t,n,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Yo(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(To(e,t,r.children,n),0!==(2&(r=ai.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jo(e,n,t);else if(19===e.tag)Jo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_s(ai,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===oi(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Qo(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===oi(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Qo(t,!0,n,null,a);break;case"together":Qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Kl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Wc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function el(e,t){if(!ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nl(e,t,n){var r=t.pendingProps;switch(ea(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tl(t),null;case 1:case 17:return Os(t.type)&&As(),tl(t),null;case 3:return r=t.stateNode,ei(),Ns(Cs),Ns(Es),ci(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==sa&&(mc(sa),sa=null))),Bo(e,t),tl(t),null;case 5:ni(t);var s=Ya(Va.current);if(n=t.type,null!==e&&null!=t.stateNode)Wo(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return tl(t),null}if(e=Ya(Ha.current),ua(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ds]=t,r[hs]=i,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(s=0;s<Lr.length;s++)Mr(Lr[s],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":Q(r,i),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Mr("invalid",r);break;case"textarea":se(r,i),Mr("invalid",r)}for(var l in ve(n,i),s=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Yr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Yr(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Mr("scroll",r)}switch(n){case"input":V(r),Z(r,i,!0);break;case"textarea":V(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Xr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ds]=t,e[hs]=r,Fo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),s=r;break;case"iframe":case"object":case"embed":Mr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Lr.length;s++)Mr(Lr[s],e);s=r;break;case"source":Mr("error",e),s=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),s=r;break;case"details":Mr("toggle",e),s=r;break;case"input":Q(e,r),s=J(e,r),Mr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=U({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Mr("invalid",e)}for(i in ve(n,s),c=s)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?me(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Mr("scroll",e):null!=u&&b(e,i,u,l))}switch(n){case"input":V(e),Z(e,r,!1);break;case"textarea":V(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return tl(t),null;case 6:if(e&&null!=t.stateNode)qo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ya(Va.current),Ya(Ha.current),ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[ds]=t,(i=r.nodeValue!==n)&&null!==(e=ta))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ds]=t,t.stateNode=r}return tl(t),null;case 13:if(Ns(ai),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ra&&null!==na&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,i=!1;else if(i=ua(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[ds]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;tl(t),i=!1}else null!==sa&&(mc(sa),sa=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ai.current)?0===ql&&(ql=3):Nc())),null!==t.updateQueue&&(t.flags|=4),tl(t),null);case 4:return ei(),Bo(e,t),null===e&&Br(t.stateNode.containerInfo),tl(t),null;case 10:return Sa(t.type._context),tl(t),null;case 19:if(Ns(ai),null===(i=t.memoizedState))return tl(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)el(i,!1);else{if(0!==ql||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=oi(e))){for(t.flags|=128,el(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _s(ai,1&ai.current|2),t.child}e=e.sibling}null!==i.tail&&Qe()>Yl&&(t.flags|=128,r=!0,el(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=oi(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),el(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ra)return tl(t),null}else 2*Qe()-i.renderingStartTime>Yl&&1073741824!==n&&(t.flags|=128,r=!0,el(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,n=ai.current,_s(ai,r?1&n|2:1&n),t):(tl(t),null);case 22:case 23:return xc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Bl)&&(tl(t),6&t.subtreeFlags&&(t.flags|=8192)):tl(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function rl(e,t){switch(ea(t),t.tag){case 1:return Os(t.type)&&As(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ei(),Ns(Cs),Ns(Es),ci(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ni(t),null;case 13:if(Ns(ai),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ns(ai),null;case 4:return ei(),null;case 10:return Sa(t.type._context),null;case 22:case 23:return xc(),null;default:return null}}Fo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Bo=function(){},Wo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ya(Ha.current);var a,i=null;switch(n){case"input":s=J(e,s),r=J(e,r),i=[];break;case"select":s=U({},s,{value:void 0}),r=U({},r,{value:void 0}),i=[];break;case"textarea":s=re(e,s),r=re(e,r),i=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(u in ve(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Mr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var sl=!1,al=!1,il="function"===typeof WeakSet?WeakSet:Set,ol=null;function ll(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(ri){Rc(e,t,ri)}else n.current=null}function cl(e,t,n){try{n()}catch(ri){Rc(e,t,ri)}}var ul=!1;function dl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&cl(t,n,a)}s=s.next}while(s!==r)}}function hl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function pl(e){var t=e.alternate;null!==t&&(e.alternate=null,pl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ds],delete t[hs],delete t[ps],delete t[ms],delete t[gs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ml(e){return 5===e.tag||3===e.tag||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}var bl=null,xl=!1;function wl(e,t,n){for(n=n.child;null!==n;)kl(e,t,n),n=n.sibling}function kl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,n)}catch(ii){}switch(n.tag){case 5:al||ll(n,t);case 6:var r=bl,s=xl;bl=null,wl(e,t,n),xl=s,null!==(bl=r)&&(xl?(e=bl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):bl.removeChild(n.stateNode));break;case 18:null!==bl&&(xl?(e=bl,n=n.stateNode,8===e.nodeType?os(e.parentNode,n):1===e.nodeType&&os(e,n),Bt(e)):os(bl,n.stateNode));break;case 4:r=bl,s=xl,bl=n.stateNode.containerInfo,xl=!0,wl(e,t,n),bl=r,xl=s;break;case 0:case 11:case 14:case 15:if(!al&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&cl(n,t,i),s=s.next}while(s!==r)}wl(e,t,n);break;case 1:if(!al&&(ll(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(ii){Rc(n,t,ii)}wl(e,t,n);break;case 21:wl(e,t,n);break;case 22:1&n.mode?(al=(r=al)||null!==n.memoizedState,wl(e,t,n),al=r):wl(e,t,n);break;default:wl(e,t,n)}}function jl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new il),t.forEach((function(t){var r=Uc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Nl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:bl=l.stateNode,xl=!1;break e;case 3:case 4:bl=l.stateNode.containerInfo,xl=!0;break e}l=l.return}if(null===bl)throw Error(a(160));kl(i,o,s),bl=null,xl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(Ja){Rc(s,t,Ja)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)_l(t,e),t=t.sibling}function _l(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nl(t,e),Sl(e),4&r){try{dl(3,e,e.return),hl(3,e)}catch($a){Rc(e,e.return,$a)}try{dl(5,e,e.return)}catch($a){Rc(e,e.return,$a)}}break;case 1:Nl(t,e),Sl(e),512&r&&null!==n&&ll(n,n.return);break;case 5:if(Nl(t,e),Sl(e),512&r&&null!==n&&ll(n,n.return),32&e.flags){var s=e.stateNode;try{de(s,"")}catch($a){Rc(e,e.return,$a)}}if(4&r&&null!=(s=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Y(s,i),ye(l,o);var u=ye(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?me(s,h):"dangerouslySetInnerHTML"===d?ue(s,h):"children"===d?de(s,h):b(s,d,h,u)}switch(l){case"input":X(s,i);break;case"textarea":ae(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(s,!!i.multiple,p,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(s,!!i.multiple,i.defaultValue,!0):ne(s,!!i.multiple,i.multiple?[]:"",!1))}s[hs]=i}catch($a){Rc(e,e.return,$a)}}break;case 6:if(Nl(t,e),Sl(e),4&r){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch($a){Rc(e,e.return,$a)}}break;case 3:if(Nl(t,e),Sl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch($a){Rc(e,e.return,$a)}break;case 4:default:Nl(t,e),Sl(e);break;case 13:Nl(t,e),Sl(e),8192&(s=e.child).flags&&(i=null!==s.memoizedState,s.stateNode.isHidden=i,!i||null!==s.alternate&&null!==s.alternate.memoizedState||(Ql=Qe())),4&r&&jl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(al=(u=al)||d,Nl(t,e),al=u):Nl(t,e),Sl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(ol=e,d=e.child;null!==d;){for(h=ol=d;null!==ol;){switch(p=(f=ol).child,f.tag){case 0:case 11:case 14:case 15:dl(4,f,f.return);break;case 1:ll(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch($a){Rc(r,n,$a)}}break;case 5:ll(f,f.return);break;case 22:if(null!==f.memoizedState){Pl(h);continue}}null!==p?(p.return=f,ol=p):Pl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{s=h.stateNode,u?"function"===typeof(i=s.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch($a){Rc(e,e.return,$a)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch($a){Rc(e,e.return,$a)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nl(t,e),Sl(e),4&r&&jl(e);case 21:}}function Sl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ml(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(de(s,""),r.flags&=-33),yl(e,gl(e),s);break;case 3:case 4:var i=r.stateNode.containerInfo;vl(e,gl(e),i);break;default:throw Error(a(161))}}catch(Ei){Rc(e,e.return,Ei)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function El(e,t,n){ol=e,Cl(e,t,n)}function Cl(e,t,n){for(var r=0!==(1&e.mode);null!==ol;){var s=ol,a=s.child;if(22===s.tag&&r){var i=null!==s.memoizedState||sl;if(!i){var o=s.alternate,l=null!==o&&null!==o.memoizedState||al;o=sl;var c=al;if(sl=i,(al=l)&&!c)for(ol=s;null!==ol;)l=(i=ol).child,22===i.tag&&null!==i.memoizedState?Ol(s):null!==l?(l.return=i,ol=l):Ol(s);for(;null!==a;)ol=a,Cl(a,t,n),a=a.sibling;ol=s,sl=o,al=c}Tl(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,ol=a):Tl(e)}}function Tl(e){for(;null!==ol;){var t=ol;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:al||hl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!al)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:uo(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Wa(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wa(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}al||512&t.flags&&fl(t)}catch(f){Rc(t,t.return,f)}}if(t===e){ol=null;break}if(null!==(n=t.sibling)){n.return=t.return,ol=n;break}ol=t.return}}function Pl(e){for(;null!==ol;){var t=ol;if(t===e){ol=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ol=n;break}ol=t.return}}function Ol(e){for(;null!==ol;){var t=ol;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{hl(4,t)}catch(Ei){Rc(t,n,Ei)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(Ei){Rc(t,s,Ei)}}var a=t.return;try{fl(t)}catch(Ei){Rc(t,a,Ei)}break;case 5:var i=t.return;try{fl(t)}catch(Ei){Rc(t,i,Ei)}}}catch(Ei){Rc(t,t.return,Ei)}if(t===e){ol=null;break}var o=t.sibling;if(null!==o){o.return=t.return,ol=o;break}ol=t.return}}var Al,Rl=Math.ceil,Ll=x.ReactCurrentDispatcher,Il=x.ReactCurrentOwner,Dl=x.ReactCurrentBatchConfig,Ul=0,Ml=null,zl=null,Fl=0,Bl=0,Wl=js(0),ql=0,Hl=null,Kl=0,Vl=0,Gl=0,$l=null,Jl=null,Ql=0,Yl=1/0,Xl=null,Zl=!1,ec=null,tc=null,nc=!1,rc=null,sc=0,ac=0,ic=null,oc=-1,lc=0;function cc(){return 0!==(6&Ul)?Qe():-1!==oc?oc:oc=Qe()}function uc(e){return 0===(1&e.mode)?1:0!==(2&Ul)&&0!==Fl?Fl&-Fl:null!==pa.transition?(0===lc&&(lc=pt()),lc):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function dc(e,t,n,r){if(50<ac)throw ac=0,ic=null,Error(a(185));gt(e,n,r),0!==(2&Ul)&&e===Ml||(e===Ml&&(0===(2&Ul)&&(Vl|=n),4===ql&&gc(e,Fl)),hc(e,r),1===n&&0===Ul&&0===(1&t.mode)&&(Yl=Qe()+500,Ms&&Bs()))}function hc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-at(a),o=1<<i,l=s[i];-1===l?0!==(o&n)&&0===(o&r)||(s[i]=ht(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=dt(e,e===Ml?Fl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ms=!0,Fs(e)}(vc.bind(null,e)):Fs(vc.bind(null,e)),as((function(){0===(6&Ul)&&Bs()})),n=null;else{switch(bt(r)){case 1:n=Xe;break;case 4:n=Ze;break;case 16:default:n=et;break;case 536870912:n=nt}n=Mc(n,fc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fc(e,t){if(oc=-1,lc=0,0!==(6&Ul))throw Error(a(327));var n=e.callbackNode;if(Oc()&&e.callbackNode!==n)return null;var r=dt(e,e===Ml?Fl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=_c(e,r);else{t=r;var s=Ul;Ul|=2;var i=jc();for(Ml===e&&Fl===t||(Xl=null,Yl=Qe()+500,wc(e,t));;)try{Ec();break}catch(ii){kc(e,ii)}_a(),Ll.current=i,Ul=s,null!==zl?t=0:(Ml=null,Fl=0,t=ql)}if(0!==t){if(2===t&&(0!==(s=ft(e))&&(r=s,t=pc(e,s))),1===t)throw n=Hl,wc(e,0),gc(e,r),hc(e,Qe()),n;if(6===t)gc(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!ir(a(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=_c(e,r))&&(0!==(i=ft(e))&&(r=i,t=pc(e,i))),1===t))throw n=Hl,wc(e,0),gc(e,r),hc(e,Qe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Pc(e,Jl,Xl);break;case 3:if(gc(e,r),(130023424&r)===r&&10<(t=Ql+500-Qe())){if(0!==dt(e,0))break;if(((s=e.suspendedLanes)&r)!==r){cc(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ns(Pc.bind(null,e,Jl,Xl),t);break}Pc(e,Jl,Xl);break;case 4:if(gc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-at(r);i=1<<o,(o=t[o])>s&&(s=o),r&=~i}if(r=s,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rl(r/1960))-r)){e.timeoutHandle=ns(Pc.bind(null,e,Jl,Xl),r);break}Pc(e,Jl,Xl);break;default:throw Error(a(329))}}}return hc(e,Qe()),e.callbackNode===n?fc.bind(null,e):null}function pc(e,t){var n=$l;return e.current.memoizedState.isDehydrated&&(wc(e,t).flags|=256),2!==(e=_c(e,t))&&(t=Jl,Jl=n,null!==t&&mc(t)),e}function mc(e){null===Jl?Jl=e:Jl.push.apply(Jl,e)}function gc(e,t){for(t&=~Gl,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function vc(e){if(0!==(6&Ul))throw Error(a(327));Oc();var t=dt(e,0);if(0===(1&t))return hc(e,Qe()),null;var n=_c(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=pc(e,r))}if(1===n)throw n=Hl,wc(e,0),gc(e,t),hc(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pc(e,Jl,Xl),hc(e,Qe()),null}function yc(e,t){var n=Ul;Ul|=1;try{return e(t)}finally{0===(Ul=n)&&(Yl=Qe()+500,Ms&&Bs())}}function bc(e){null!==rc&&0===rc.tag&&0===(6&Ul)&&Oc();var t=Ul;Ul|=1;var n=Dl.transition,r=yt;try{if(Dl.transition=null,yt=1,e)return e()}finally{yt=r,Dl.transition=n,0===(6&(Ul=t))&&Bs()}}function xc(){Bl=Wl.current,Ns(Wl)}function wc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rs(n)),null!==zl)for(n=zl.return;null!==n;){var r=n;switch(ea(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&As();break;case 3:ei(),Ns(Cs),Ns(Es),ci();break;case 5:ni(r);break;case 4:ei();break;case 13:case 19:Ns(ai);break;case 10:Sa(r.type._context);break;case 22:case 23:xc()}n=n.return}if(Ml=e,zl=e=Wc(e.current,null),Fl=Bl=t,ql=0,Hl=null,Gl=Vl=Kl=0,Jl=$l=null,null!==Pa){for(t=0;t<Pa.length;t++)if(null!==(r=(n=Pa[t]).interleaved)){n.interleaved=null;var s=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=s,r.next=i}n.pending=r}Pa=null}return e}function kc(e,t){for(;;){var n=zl;try{if(_a(),ui.current=io,gi){for(var r=fi.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}gi=!1}if(hi=0,mi=pi=fi=null,vi=!1,yi=0,Il.current=null,null===n||null===n.return){ql=1,Hl=t,zl=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Fl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=_o(o);if(null!==p){p.flags&=-257,So(p,o,l,0,t),1&p.mode&&No(i,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){No(i,u,t),Nc();break e}c=Error(a(426))}else if(ra&&1&l.mode){var v=_o(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),So(v,o,l,0,t),fa(yo(c,l));break e}}i=c=yo(c,l),4!==ql&&(ql=2),null===$l?$l=[i]:$l.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Fa(i,ko(0,c,t));break e;case 1:l=c;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===tc||!tc.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Fa(i,jo(i,l,t));break e}}i=i.return}while(null!==i)}Tc(n)}catch(x){t=x,zl===n&&null!==n&&(zl=n=n.return);continue}break}}function jc(){var e=Ll.current;return Ll.current=io,null===e?io:e}function Nc(){0!==ql&&3!==ql&&2!==ql||(ql=4),null===Ml||0===(268435455&Kl)&&0===(268435455&Vl)||gc(Ml,Fl)}function _c(e,t){var n=Ul;Ul|=2;var r=jc();for(Ml===e&&Fl===t||(Xl=null,wc(e,t));;)try{Sc();break}catch(Ga){kc(e,Ga)}if(_a(),Ul=n,Ll.current=r,null!==zl)throw Error(a(261));return Ml=null,Fl=0,ql}function Sc(){for(;null!==zl;)Cc(zl)}function Ec(){for(;null!==zl&&!$e();)Cc(zl)}function Cc(e){var t=Al(e.alternate,e,Bl);e.memoizedProps=e.pendingProps,null===t?Tc(e):zl=t,Il.current=null}function Tc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=nl(n,t,Bl)))return void(zl=n)}else{if(null!==(n=rl(n,t)))return n.flags&=32767,void(zl=n);if(null===e)return ql=6,void(zl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(zl=t);zl=t=e}while(null!==t);0===ql&&(ql=5)}function Pc(e,t,n){var r=yt,s=Dl.transition;try{Dl.transition=null,yt=1,function(e,t,n,r){do{Oc()}while(null!==rc);if(0!==(6&Ul))throw Error(a(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}(e,i),e===Ml&&(zl=Ml=null,Fl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||nc||(nc=!0,Mc(et,(function(){return Oc(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Dl.transition,Dl.transition=null;var o=yt;yt=1;var l=Ul;Ul|=4,Il.current=null,function(e,t){if(Zr=qt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(Hi){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===i&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(es={focusedElem:e,selectionRange:n},qt=!1,ol=t;null!==ol;)if(e=(t=ol).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ol=e;else for(;null!==ol;){t=ol;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:uo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(Hi){Rc(t,t.return,Hi)}if(null!==(e=t.sibling)){e.return=t.return,ol=e;break}ol=t.return}m=ul,ul=!1}(e,n),_l(n,e),fr(es),qt=!!Zr,es=Zr=null,e.current=n,El(n,e,s),Je(),Ul=l,yt=o,Dl.transition=i}else e.current=n;if(nc&&(nc=!1,rc=e,sc=s),i=e.pendingLanes,0===i&&(tc=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),hc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Zl)throw Zl=!1,e=ec,ec=null,e;0!==(1&sc)&&0!==e.tag&&Oc(),i=e.pendingLanes,0!==(1&i)?e===ic?ac++:(ac=0,ic=e):ac=0,Bs()}(e,t,n,r)}finally{Dl.transition=s,yt=r}return null}function Oc(){if(null!==rc){var e=bt(sc),t=Dl.transition,n=yt;try{if(Dl.transition=null,yt=16>e?16:e,null===rc)var r=!1;else{if(e=rc,rc=null,sc=0,0!==(6&Ul))throw Error(a(331));var s=Ul;for(Ul|=4,ol=e.current;null!==ol;){var i=ol,o=i.child;if(0!==(16&ol.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(ol=u;null!==ol;){var d=ol;switch(d.tag){case 0:case 11:case 15:dl(8,d,i)}var h=d.child;if(null!==h)h.return=d,ol=h;else for(;null!==ol;){var f=(d=ol).sibling,p=d.return;if(pl(d),d===u){ol=null;break}if(null!==f){f.return=p,ol=f;break}ol=p}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}ol=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,ol=o;else e:for(;null!==ol;){if(0!==(2048&(i=ol).flags))switch(i.tag){case 0:case 11:case 15:dl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,ol=y;break e}ol=i.return}}var b=e.current;for(ol=b;null!==ol;){var x=(o=ol).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,ol=x;else e:for(o=b;null!==ol;){if(0!==(2048&(l=ol).flags))try{switch(l.tag){case 0:case 11:case 15:hl(9,l)}}catch(k){Rc(l,l.return,k)}if(l===o){ol=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,ol=w;break e}ol=l.return}}if(Ul=s,Bs(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(k){}r=!0}return r}finally{yt=n,Dl.transition=t}}return!1}function Ac(e,t,n){e=Ma(e,t=ko(0,t=yo(n,t),1),1),t=cc(),null!==e&&(gt(e,1,t),hc(e,t))}function Rc(e,t,n){if(3===e.tag)Ac(e,e,n);else for(;null!==t;){if(3===t.tag){Ac(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tc||!tc.has(r))){t=Ma(t,e=jo(t,e=yo(n,e),1),1),e=cc(),null!==t&&(gt(t,1,e),hc(t,e));break}}t=t.return}}function Lc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cc(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(Fl&n)===n&&(4===ql||3===ql&&(130023424&Fl)===Fl&&500>Qe()-Ql?wc(e,0):Gl|=n),hc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=cc();null!==(e=Ra(e,t))&&(gt(e,t,n),hc(e,n))}function Dc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Uc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Mc(e,t){return Ve(e,t)}function zc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fc(e,t,n,r){return new zc(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wc(e,t){var n=e.alternate;return null===n?((n=Fc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qc(e,t,n,r,s,i){var o=2;if(r=e,"function"===typeof e)Bc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case j:return Hc(n.children,s,i,t);case N:o=8,s|=8;break;case _:return(e=Fc(12,n,t,2|s)).elementType=_,e.lanes=i,e;case T:return(e=Fc(13,n,t,s)).elementType=T,e.lanes=i,e;case P:return(e=Fc(19,n,t,s)).elementType=P,e.lanes=i,e;case R:return Kc(n,s,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case E:o=9;break e;case C:o=11;break e;case O:o=14;break e;case A:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Fc(o,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function Hc(e,t,n,r){return(e=Fc(7,e,r,t)).lanes=n,e}function Kc(e,t,n,r){return(e=Fc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Vc(e,t,n){return(e=Fc(6,e,null,t)).lanes=n,e}function Gc(e,t,n){return(t=Fc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Jc(e,t,n,r,s,a,i,o,l){return e=new $c(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Fc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ia(a),e}function Qc(e){if(!e)return Ss;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Os(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Os(n))return Ls(e,n,t)}return t}function Yc(e,t,n,r,s,a,i,o,l){return(e=Jc(n,r,!0,e,0,a,0,o,l)).context=Qc(null),n=e.current,(a=Ua(r=cc(),s=uc(n))).callback=void 0!==t&&null!==t?t:null,Ma(n,a,s),e.current.lanes=s,gt(e,s,r),hc(e,r),e}function Xc(e,t,n,r){var s=t.current,a=cc(),i=uc(s);return n=Qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ua(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ma(s,t,i))&&(dc(e,s,i,a),za(e,s,i)),i}function Zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function eu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function tu(e,t){eu(e,t),(e=e.alternate)&&eu(e,t)}Al=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Cs.current)Co=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Co=!1,function(e,t,n){switch(t.tag){case 3:Mo(t),ha();break;case 5:ti(t);break;case 1:Os(t.type)&&Is(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;_s(wa,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_s(ai,1&ai.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Vo(e,t,n):(_s(ai,1&ai.current),null!==(e=Zo(e,t,n))?e.sibling:null);_s(ai,1&ai.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Yo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),_s(ai,ai.current),r)break;return null;case 22:case 23:return t.lanes=0,Ro(e,t,n)}return Zo(e,t,n)}(e,t,n);Co=0!==(131072&e.flags)}else Co=!1,ra&&0!==(1048576&t.flags)&&Xs(t,Ks,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xo(e,t),e=t.pendingProps;var s=Ps(t,Es.current);Ca(t,n),s=ki(null,t,r,e,s,n);var i=ji();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Os(r)?(i=!0,Is(t)):i=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Ia(t),s.updater=fo,t.stateNode=s,s._reactInternals=t,vo(t,r,e,n),t=Uo(null,t,r,!0,i,n)):(t.tag=0,ra&&i&&Zs(t),To(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xo(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=uo(r,e),s){case 0:t=Io(null,t,r,e,n);break e;case 1:t=Do(null,t,r,e,n);break e;case 11:t=Po(null,t,r,e,n);break e;case 14:t=Oo(null,t,r,uo(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Io(e,t,r,s=t.elementType===r?s:uo(r,s),n);case 1:return r=t.type,s=t.pendingProps,Do(e,t,r,s=t.elementType===r?s:uo(r,s),n);case 3:e:{if(Mo(t),null===e)throw Error(a(387));r=t.pendingProps,s=(i=t.memoizedState).element,Da(e,t),Ba(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=zo(e,t,r,n,s=yo(Error(a(423)),t));break e}if(r!==s){t=zo(e,t,r,n,s=yo(Error(a(424)),t));break e}for(na=ls(t.stateNode.containerInfo.firstChild),ta=t,ra=!0,sa=null,n=xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===s){t=Zo(e,t,n);break e}To(e,t,r,n)}t=t.child}return t;case 5:return ti(t),null===e&&la(t),r=t.type,s=t.pendingProps,i=null!==e?e.memoizedProps:null,o=s.children,ts(r,s)?o=null:null!==i&&ts(r,i)&&(t.flags|=32),Lo(e,t),To(e,t,o,n),t.child;case 6:return null===e&&la(t),null;case 13:return Vo(e,t,n);case 4:return Xa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ba(t,null,r,n):To(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,Po(e,t,r,s=t.elementType===r?s:uo(r,s),n);case 7:return To(e,t,t.pendingProps,n),t.child;case 8:case 12:return To(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,_s(wa,r._currentValue),r._currentValue=o,null!==i)if(ir(i.value,o)){if(i.children===s.children&&!Cs.current){t=Zo(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Ua(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Ea(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ea(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}To(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ca(t,n),r=r(s=Ta(s)),t.flags|=1,To(e,t,r,n),t.child;case 14:return s=uo(r=t.type,t.pendingProps),Oo(e,t,r,s=uo(r.type,s),n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:uo(r,s),Xo(e,t),t.tag=1,Os(r)?(e=!0,Is(t)):e=!1,Ca(t,n),mo(t,r,s),vo(t,r,s,n),Uo(null,t,r,!0,e,n);case 19:return Yo(e,t,n);case 22:return Ro(e,t,n)}throw Error(a(156,t.tag))};var nu="function"===typeof reportError?reportError:function(e){console.error(e)};function ru(e){this._internalRoot=e}function su(e){this._internalRoot=e}function au(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function iu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ou(){}function lu(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if("function"===typeof s){var o=s;s=function(){var e=Zc(i);o.call(e)}}Xc(t,i,e,s)}else i=function(e,t,n,r,s){if(s){if("function"===typeof r){var a=r;r=function(){var e=Zc(i);a.call(e)}}var i=Yc(t,r,e,0,null,!1,0,"",ou);return e._reactRootContainer=i,e[fs]=i.current,Br(8===e.nodeType?e.parentNode:e),bc(),i}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=Zc(l);o.call(e)}}var l=Jc(e,0,!1,null,0,!1,0,"",ou);return e._reactRootContainer=l,e[fs]=l.current,Br(8===e.nodeType?e.parentNode:e),bc((function(){Xc(t,l,n,r)})),l}(n,t,e,s,r);return Zc(i)}su.prototype.render=ru.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Xc(e,t,null,null)},su.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;bc((function(){Xc(null,e,null,null)})),t[fs]=null}},su.prototype.unstable_scheduleHydration=function(e){if(e){var t=jt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Dt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),hc(t,Qe()),0===(6&Ul)&&(Yl=Qe()+500,Bs()))}break;case 13:bc((function(){var t=Ra(e,1);if(null!==t){var n=cc();dc(t,e,1,n)}})),tu(e,1)}},wt=function(e){if(13===e.tag){var t=Ra(e,134217728);if(null!==t)dc(t,e,134217728,cc());tu(e,134217728)}},kt=function(e){if(13===e.tag){var t=uc(e),n=Ra(e,t);if(null!==n)dc(n,e,t,cc());tu(e,t)}},jt=function(){return yt},Nt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=xs(r);if(!s)throw Error(a(90));G(r),X(r,s)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=yc,Ce=bc;var cu={usingClientEntryPoint:!1,Events:[ys,bs,xs,_e,Se,yc]},uu={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},du={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{rt=hu.inject(du),st=hu}catch(Qa){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!au(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!au(e))throw Error(a(299));var n=!1,r="",s=nu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Jc(e,1,!1,null,0,n,0,r,s),e[fs]=t.current,Br(8===e.nodeType?e.parentNode:e),new ru(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return bc(e)},t.hydrate=function(e,t,n){if(!iu(t))throw Error(a(200));return lu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!au(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,s=!1,i="",o=nu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Yc(t,null,e,1,null!=n?n:null,s,0,i,o),e[fs]=t.current,Br(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new su(t)},t.render=function(e,t,n){if(!iu(t))throw Error(a(200));return lu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!iu(e))throw Error(a(40));return!!e._reactRootContainer&&(bc((function(){lu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fs]=null}))})),!0)},t.unstable_batchedUpdates=yc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!iu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return lu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,j={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var s,a={},i=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,s)&&!N.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===a[s]&&(a[s]=l[s]);return{$$typeof:n,type:e,key:i,ref:o,props:a,_owner:j.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,s,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===a?"."+C(l,0):a,w(i)?(s="",null!=e&&(s=e.replace(E,"$&/")+"/"),T(i,t,s,"",(function(e){return e}))):null!=i&&(S(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+C(o=e[c],c);l+=T(o,t,s,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,s,u=a+C(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],s=0;return T(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},R={transition:null},L={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:j};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=j.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!N.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:a,ref:i,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<s&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,R(k);else{var t=r(u);null!==t&&L(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(S),S=-1),p=!0;var a=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var o=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&s(c),x(n)}else s(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&L(w,d.startTime-n),l=!1}return l}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,N=!1,_=null,S=-1,E=5,C=-1;function T(){return!(t.unstable_now()-C<E)}function P(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?j():(N=!1,_=null)}}else N=!1}if("function"===typeof b)j=function(){b(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,A=O.port2;O.port1.onmessage=P,j=function(){A.postMessage(null)}}else j=function(){v(P,0)};function R(e){_=e,N||(N=!0,j())}function L(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(y(S),S=-1):g=!0,L(w,a-i))):(e.sortIndex=o,n(c,e),m||p||(m=!0,R(k))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Ga){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>pe,hasStandardBrowserEnv:()=>ge,hasStandardBrowserWebWorkerEnv:()=>ve,navigator:()=>me,origin:()=>ye});var s=n(43),a=n.t(s,2),i=n(391);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function l(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){return function(){return e.apply(t,arguments)}}const{toString:f}=Object.prototype,{getPrototypeOf:p}=Object,m=(g=Object.create(null),e=>{const t=f.call(e);return g[t]||(g[t]=t.slice(8,-1).toLowerCase())});var g;const v=e=>(e=e.toLowerCase(),t=>m(t)===e),y=e=>t=>typeof t===e,{isArray:b}=Array,x=y("undefined");const w=v("ArrayBuffer");const k=y("string"),j=y("function"),N=y("number"),_=e=>null!==e&&"object"===typeof e,S=e=>{if("object"!==m(e))return!1;const t=p(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},E=v("Date"),C=v("File"),T=v("Blob"),P=v("FileList"),O=v("URLSearchParams"),[A,R,L,I]=["ReadableStream","Request","Response","Headers"].map(v);function D(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),b(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=s?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let i;for(n=0;n<a;n++)i=r[n],t.call(null,e[i],i,e)}}function U(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const M="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,z=e=>!x(e)&&e!==M;const F=(B="undefined"!==typeof Uint8Array&&p(Uint8Array),e=>B&&e instanceof B);var B;const W=v("HTMLFormElement"),q=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),H=v("RegExp"),K=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};D(n,((n,s)=>{let a;!1!==(a=t(n,s,e))&&(r[s]=a||n)})),Object.defineProperties(e,r)};const V=v("AsyncFunction"),G=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],M.addEventListener("message",(e=>{let{source:t,data:s}=e;t===M&&s===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),M.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,j(M.postMessage)),$="undefined"!==typeof queueMicrotask?queueMicrotask.bind(M):"undefined"!==typeof process&&process.nextTick||G,J={isArray:b,isArrayBuffer:w,isBuffer:function(e){return null!==e&&!x(e)&&null!==e.constructor&&!x(e.constructor)&&j(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||j(e.append)&&("formdata"===(t=m(e))||"object"===t&&j(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&w(e.buffer),t},isString:k,isNumber:N,isBoolean:e=>!0===e||!1===e,isObject:_,isPlainObject:S,isReadableStream:A,isRequest:R,isResponse:L,isHeaders:I,isUndefined:x,isDate:E,isFile:C,isBlob:T,isRegExp:H,isFunction:j,isStream:e=>_(e)&&j(e.pipe),isURLSearchParams:O,isTypedArray:F,isFileList:P,forEach:D,merge:function e(){const{caseless:t}=z(this)&&this||{},n={},r=(r,s)=>{const a=t&&U(n,s)||s;S(n[a])&&S(r)?n[a]=e(n[a],r):S(r)?n[a]=e({},r):b(r)?n[a]=r.slice():n[a]=r};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&D(arguments[s],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return D(t,((t,r)=>{n&&j(t)?e[r]=h(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,a,i;const o={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],r&&!r(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==n&&p(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:m,kindOfTest:v,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(b(e))return e;let t=e.length;if(!N(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:W,hasOwnProperty:q,hasOwnProp:q,reduceDescriptors:K,freezeMethods:e=>{K(e,((t,n)=>{if(j(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];j(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return b(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:U,global:M,isContextDefined:z,isSpecCompliantForm:function(e){return!!(e&&j(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(_(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const s=b(e)?[]:{};return D(e,((e,t)=>{const a=n(e,r+1);!x(a)&&(s[t]=a)})),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:V,isThenable:e=>e&&(_(e)||j(e))&&j(e.then)&&j(e.catch),setImmediate:G,asap:$};function Q(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}J.inherits(Q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const Y=Q.prototype,X={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{X[e]={value:e}})),Object.defineProperties(Q,X),Object.defineProperty(Y,"isAxiosError",{value:!0}),Q.from=(e,t,n,r,s,a)=>{const i=Object.create(Y);return J.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Q.call(i,e.message,t,n,r,s),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const Z=Q;function ee(e){return J.isPlainObject(e)||J.isArray(e)}function te(e){return J.endsWith(e,"[]")?e.slice(0,-2):e}function ne(e,t,n){return e?e.concat(t).map((function(e,t){return e=te(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const re=J.toFlatObject(J,{},null,(function(e){return/^is[A-Z]/.test(e)}));const se=function(e,t,n){if(!J.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=J.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!J.isUndefined(t[e])}))).metaTokens,s=n.visitor||c,a=n.dots,i=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&J.isSpecCompliantForm(t);if(!J.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(J.isDate(e))return e.toISOString();if(!o&&J.isBlob(e))throw new Z("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(e)||J.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let o=e;if(e&&!s&&"object"===typeof e)if(J.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(J.isArray(e)&&function(e){return J.isArray(e)&&!e.some(ee)}(e)||(J.isFileList(e)||J.endsWith(n,"[]"))&&(o=J.toArray(e)))return n=te(n),o.forEach((function(e,r){!J.isUndefined(e)&&null!==e&&t.append(!0===i?ne([n],r,a):null===i?n:n+"[]",l(e))})),!1;return!!ee(e)||(t.append(ne(s,n,a),l(e)),!1)}const u=[],d=Object.assign(re,{defaultVisitor:c,convertValue:l,isVisitable:ee});if(!J.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!J.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),J.forEach(n,(function(n,a){!0===(!(J.isUndefined(n)||null===n)&&s.call(t,n,J.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])})),u.pop()}}(e),t};function ae(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ie(e,t){this._pairs=[],e&&se(e,this,t)}const oe=ie.prototype;oe.append=function(e,t){this._pairs.push([e,t])},oe.toString=function(e){const t=e?function(t){return e.call(this,t,ae)}:ae;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const le=ie;function ce(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ue(e,t,n){if(!t)return e;const r=n&&n.encode||ce;J.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(a=s?s(t,n):J.isURLSearchParams(t)?t.toString():new le(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const de=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},he={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fe={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:le,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},pe="undefined"!==typeof window&&"undefined"!==typeof document,me="object"===typeof navigator&&navigator||void 0,ge=pe&&(!me||["ReactNative","NativeScript","NS"].indexOf(me.product)<0),ve="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ye=pe&&window.location.href||"http://localhost",be=d(d({},r),fe);const xe=function(e){function t(e,n,r,s){let a=e[s++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),o=s>=e.length;if(a=!a&&J.isArray(r)?r.length:a,o)return J.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!i;r[a]&&J.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],s)&&J.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}(r[a])),!i}if(J.isFormData(e)&&J.isFunction(e.entries)){const n={};return J.forEachEntry(e,((e,r)=>{t(function(e){return J.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const we={transitional:he,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=J.isObject(e);s&&J.isHTMLForm(e)&&(e=new FormData(e));if(J.isFormData(e))return r?JSON.stringify(xe(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return se(e,new be.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return be.isNode&&J.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=J.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return se(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(J.isString(e))try{return(t||JSON.parse)(e),J.trim(e)}catch(Ga){if("SyntaxError"!==Ga.name)throw Ga}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||we.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Ga){if(n){if("SyntaxError"===Ga.name)throw Z.from(Ga,Z.ERR_BAD_RESPONSE,this,null,this.response);throw Ga}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:be.classes.FormData,Blob:be.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],(e=>{we.headers[e]={}}));const ke=we,je=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ne=Symbol("internals");function _e(e){return e&&String(e).trim().toLowerCase()}function Se(e){return!1===e||null==e?e:J.isArray(e)?e.map(Se):String(e)}function Ee(e,t,n,r,s){return J.isFunction(r)?r.call(this,t,n):(s&&(t=n),J.isString(t)?J.isString(r)?-1!==t.indexOf(r):J.isRegExp(r)?r.test(t):void 0:void 0)}class Ce{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=_e(t);if(!s)throw new Error("header name must be a non-empty string");const a=J.findKey(r,s);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Se(e))}const a=(e,t)=>J.forEach(e,((e,n)=>s(e,n,t)));if(J.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(J.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&je[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(J.isHeaders(e))for(const[i,o]of e.entries())s(o,i,n);else null!=e&&s(t,e,n);return this}get(e,t){if(e=_e(e)){const n=J.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(J.isFunction(t))return t.call(this,e,n);if(J.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_e(e)){const n=J.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ee(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=_e(e)){const s=J.findKey(n,e);!s||t&&!Ee(0,n[s],s,t)||(delete n[s],r=!0)}}return J.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!Ee(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return J.forEach(this,((r,s)=>{const a=J.findKey(n,s);if(a)return t[a]=Se(r),void delete t[s];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(s):String(s).trim();i!==s&&delete t[s],t[i]=Se(r),n[i]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return J.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&J.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Ne]=this[Ne]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=_e(e);t[r]||(!function(e,t){const n=J.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})}))}(n,e),t[r]=!0)}return J.isArray(e)?e.forEach(r):r(e),this}}Ce.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),J.reduceDescriptors(Ce.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),J.freezeMethods(Ce);const Te=Ce;function Pe(e,t){const n=this||ke,r=t||n,s=Te.from(r.headers);let a=r.data;return J.forEach(e,(function(e){a=e.call(n,a,s.normalize(),t?t.status:void 0)})),s.normalize(),a}function Oe(e){return!(!e||!e.__CANCEL__)}function Ae(e,t,n){Z.call(this,null==e?"canceled":e,Z.ERR_CANCELED,t,n),this.name="CanceledError"}J.inherits(Ae,Z,{__CANCEL__:!0});const Re=Ae;function Le(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Z("Request failed with status code "+n.status,[Z.ERR_BAD_REQUEST,Z.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Ie=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,a=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[i];s||(s=l),n[a]=o,r[a]=l;let u=i,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const De=function(e,t){let n,r,s=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=a,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-s;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=a?i(l,e):(n=l,r||(r=setTimeout((()=>{r=null,i(n)}),a-t)))},()=>n&&i(n)]},Ue=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=Ie(50,250);return De((n=>{const a=n.loaded,i=n.lengthComputable?n.total:void 0,o=a-r,l=s(o);r=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),n)},Me=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ze=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return J.asap((()=>e(...n)))},Fe=be.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,be.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(be.origin),be.navigator&&/(msie|trident)/i.test(be.navigator.userAgent)):()=>!0,Be=be.hasStandardBrowserEnv?{write(e,t,n,r,s,a){const i=[e+"="+encodeURIComponent(t)];J.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),J.isString(r)&&i.push("path="+r),J.isString(s)&&i.push("domain="+s),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function We(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const qe=e=>e instanceof Te?d({},e):e;function He(e,t){t=t||{};const n={};function r(e,t,n,r){return J.isPlainObject(e)&&J.isPlainObject(t)?J.merge.call({caseless:r},e,t):J.isPlainObject(t)?J.merge({},t):J.isArray(t)?t.slice():t}function s(e,t,n,s){return J.isUndefined(t)?J.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function a(e,t){if(!J.isUndefined(t))return r(void 0,t)}function i(e,t){return J.isUndefined(t)?J.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,s,a){return a in t?r(n,s):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,n)=>s(qe(e),qe(t),0,!0)};return J.forEach(Object.keys(Object.assign({},e,t)),(function(r){const a=l[r]||s,i=a(e[r],t[r],r);J.isUndefined(i)&&a!==o||(n[r]=i)})),n}const Ke=e=>{const t=He({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Te.from(o),t.url=ue(We(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),J.isFormData(r))if(be.hasStandardBrowserEnv||be.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(be.hasStandardBrowserEnv&&(s&&J.isFunction(s)&&(s=s(t)),s||!1!==s&&Fe(t.url))){const e=a&&i&&Be.read(i);e&&o.set(a,e)}return t},Ve="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Ke(e);let s=r.data;const a=Te.from(r.headers).normalize();let i,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Te.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Le((function(e){t(e),p()}),(function(e){n(e),p()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new Z("Request aborted",Z.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Z("Network Error",Z.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||he;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Z(t,s.clarifyTimeoutError?Z.ETIMEDOUT:Z.ECONNABORTED,e,m)),m=null},void 0===s&&a.setContentType(null),"setRequestHeader"in m&&J.forEach(a.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),J.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=Ue(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=Ue(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{m&&(n(!t||t.type?new Re(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===be.protocols.indexOf(v)?n(new Z("Unsupported protocol "+v+":",Z.ERR_BAD_REQUEST,e)):m.send(s||null)}))},Ge=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Z?t:new Re(t instanceof Error?t.message:t))}};let a=t&&setTimeout((()=>{a=null,s(new Z("timeout ".concat(t," of ms exceeded"),Z.ETIMEDOUT))}),t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:o}=r;return o.unsubscribe=()=>J.asap(i),o}};function $e(e,t){this.v=e,this.k=t}function Je(e){return function(){return new Qe(e.apply(this,arguments))}}function Qe(e){var t,n;function r(t,n){try{var a=e[t](n),i=a.value,o=i instanceof $e;Promise.resolve(o?i.v:i).then((function(n){if(o){var l="return"===t?"return":"next";if(!i.k||n.done)return r(l,n);n=e[l](n).value}s(a.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,s){return new Promise((function(a,i){var o={key:e,arg:s,resolve:a,reject:i,next:null};n?n=n.next=o:(t=n=o,r(e,s))}))},"function"!=typeof e.return&&(this.return=void 0)}function Ye(e){return new $e(e,0)}function Xe(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new $e(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Ze(e){var t,n,r,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);s--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new et(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function et(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return et=function(e){this.s=e,this.n=e.next},et.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new et(e)}Qe.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Qe.prototype.next=function(e){return this._invoke("next",e)},Qe.prototype.throw=function(e){return this._invoke("throw",e)},Qe.prototype.return=function(e){return this._invoke("return",e)};const tt=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},nt=function(){var e=Je((function*(e,t){var n,r=!1,s=!1;try{for(var a,i=Ze(rt(e));r=!(a=yield Ye(i.next())).done;r=!1){const e=a.value;yield*Xe(Ze(tt(e,t)))}}catch(o){s=!0,n=o}finally{try{r&&null!=i.return&&(yield Ye(i.return()))}finally{if(s)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),rt=function(){var e=Je((function*(e){if(e[Symbol.asyncIterator])return void(yield*Xe(Ze(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Ye(t.read());if(e)break;yield n}}finally{yield Ye(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),st=(e,t,n,r)=>{const s=nt(e,t);let a,i=0,o=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return o(),void e.close();let a=r.byteLength;if(n){let e=i+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),s.return())},{highWaterMark:2})},at="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,it=at&&"function"===typeof ReadableStream,ot=at&&("function"===typeof TextEncoder?(lt=new TextEncoder,e=>lt.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var lt;const ct=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Ga){return!1}},ut=it&&ct((()=>{let e=!1;const t=new Request(be.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),dt=it&&ct((()=>J.isReadableStream(new Response("").body))),ht={stream:dt&&(e=>e.body)};var ft;at&&(ft=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ht[e]&&(ht[e]=J.isFunction(ft[e])?t=>t[e]():(t,n)=>{throw new Z("Response type '".concat(e,"' is not supported"),Z.ERR_NOT_SUPPORT,n)})})));const pt=async(e,t)=>{const n=J.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(J.isBlob(e))return e.size;if(J.isSpecCompliantForm(e)){const t=new Request(be.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return J.isArrayBufferView(e)||J.isArrayBuffer(e)?e.byteLength:(J.isURLSearchParams(e)&&(e+=""),J.isString(e)?(await ot(e)).byteLength:void 0)})(t):n},mt=at&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:a,timeout:i,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:f}=Ke(e);c=c?(c+"").toLowerCase():"text";let p,m=Ge([s,a&&a.toAbortSignal()],i);const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let v;try{if(l&&ut&&"get"!==n&&"head"!==n&&0!==(v=await pt(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(J.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Me(v,Ue(ze(l)));r=st(n.body,65536,e,t)}}J.isString(h)||(h=h?"include":"omit");const s="credentials"in Request.prototype;p=new Request(t,d(d({},f),{},{signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:s?h:void 0}));let a=await fetch(p);const i=dt&&("stream"===c||"response"===c);if(dt&&(o||i&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=J.toFiniteNumber(a.headers.get("content-length")),[n,r]=o&&Me(t,Ue(ze(o),!0))||[];a=new Response(st(a.body,65536,n,(()=>{r&&r(),g&&g()})),e)}c=c||"text";let y=await ht[J.findKey(ht,c)||"text"](a,e);return!i&&g&&g(),await new Promise(((t,n)=>{Le(t,n,{data:y,headers:Te.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:p})}))}catch(y){if(g&&g(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new Z("Network Error",Z.ERR_NETWORK,e,p),{cause:y.cause||y});throw Z.from(y,y&&y.code,e,p)}}),gt={http:null,xhr:Ve,fetch:mt};J.forEach(gt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Ga){}Object.defineProperty(e,"adapterName",{value:t})}}));const vt=e=>"- ".concat(e),yt=e=>J.isFunction(e)||null===e||!1===e,bt=e=>{e=J.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!yt(n)&&(r=gt[(t=String(n)).toLowerCase()],void 0===r))throw new Z("Unknown adapter '".concat(t,"'"));if(r)break;s[t||"#"+a]=r}if(!r){const e=Object.entries(s).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(vt).join("\n"):" "+vt(e[0]):"as no adapter specified";throw new Z("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function xt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Re(null,e)}function wt(e){xt(e),e.headers=Te.from(e.headers),e.data=Pe.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return bt(e.adapter||ke.adapter)(e).then((function(t){return xt(e),t.data=Pe.call(e,e.transformResponse,t),t.headers=Te.from(t.headers),t}),(function(t){return Oe(t)||(xt(e),t&&t.response&&(t.response.data=Pe.call(e,e.transformResponse,t.response),t.response.headers=Te.from(t.response.headers))),Promise.reject(t)}))}const kt="1.8.4",jt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{jt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Nt={};jt.transitional=function(e,t,n){function r(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,a)=>{if(!1===e)throw new Z(r(s," has been removed"+(t?" in "+t:"")),Z.ERR_DEPRECATED);return t&&!Nt[s]&&(Nt[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,a)}},jt.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const _t={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Z("options must be an object",Z.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],i=t[a];if(i){const t=e[a],n=void 0===t||i(t,a,e);if(!0!==n)throw new Z("option "+a+" must be "+n,Z.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Z("Unknown option "+a,Z.ERR_BAD_OPTION)}},validators:jt},St=_t.validators;class Et{constructor(e){this.defaults=e,this.interceptors={request:new de,response:new de}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Ga){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=He(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&_t.assertOptions(n,{silentJSONParsing:St.transitional(St.boolean),forcedJSONParsing:St.transitional(St.boolean),clarifyTimeoutError:St.transitional(St.boolean)},!1),null!=r&&(J.isFunction(r)?t.paramsSerializer={serialize:r}:_t.assertOptions(r,{encode:St.function,serialize:St.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),_t.assertOptions(t,{baseUrl:St.spelling("baseURL"),withXsrfToken:St.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&J.merge(s.common,s[t.method]);s&&J.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=Te.concat(a,s);const i=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!o){const e=[wt.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=i.length;let h=t;for(d=0;d<u;){const e=i[d++],t=i[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=wt.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return ue(We((e=He(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}J.forEach(["delete","get","head","options"],(function(e){Et.prototype[e]=function(t,n){return this.request(He(n||{},{method:e,url:t,data:(n||{}).data}))}})),J.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,s){return this.request(He(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Et.prototype[e]=t(),Et.prototype[e+"Form"]=t(!0)}));const Ct=Et;class Tt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,s){n.reason||(n.reason=new Re(e,r,s),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Tt((function(t){e=t}));return{token:t,cancel:e}}}const Pt=Tt;const Ot={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ot).forEach((e=>{let[t,n]=e;Ot[n]=t}));const At=Ot;const Rt=function e(t){const n=new Ct(t),r=h(Ct.prototype.request,n);return J.extend(r,Ct.prototype,n,{allOwnKeys:!0}),J.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(He(t,n))},r}(ke);Rt.Axios=Ct,Rt.CanceledError=Re,Rt.CancelToken=Pt,Rt.isCancel=Oe,Rt.VERSION=kt,Rt.toFormData=se,Rt.AxiosError=Z,Rt.Cancel=Rt.CanceledError,Rt.all=function(e){return Promise.all(e)},Rt.spread=function(e){return function(t){return e.apply(null,t)}},Rt.isAxiosError=function(e){return J.isObject(e)&&!0===e.isAxiosError},Rt.mergeConfig=He,Rt.AxiosHeaders=Te,Rt.formToJSON=e=>xe(J.isHTMLForm(e)?new FormData(e):e),Rt.getAdapter=bt,Rt.HttpStatusCode=At,Rt.default=Rt;const Lt=Rt;class It extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class Dt extends It{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ut extends It{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Mt extends It{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var zt;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(zt||(zt={}));var Ft=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(Ga){a(Ga)}}function o(e){try{l(r.throw(e))}catch(Ga){a(Ga)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))};class Bt{constructor(e){let{headers:t={},customFetch:r,region:s=zt.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=s,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return Ft(this,void 0,void 0,(function*(){try{const{headers:r,method:s,body:a}=t;let i={},{region:o}=t;o||(o=this.region);const l=new URL("".concat(this.url,"/").concat(e));let c;o&&"any"!==o&&(i["x-region"]=o,l.searchParams.set("forceFunctionRegion",o)),a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&a instanceof Blob||a instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",c=a):"string"===typeof a?(i["Content-Type"]="text/plain",c=a):"undefined"!==typeof FormData&&a instanceof FormData?c=a:(i["Content-Type"]="application/json",c=JSON.stringify(a)));const u=yield this.fetch(l.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),r),body:c}).catch((e=>{throw new Dt(e)})),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new Ut(u);if(!u.ok)throw new Mt(u);let h,f=(null!==(n=u.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return h="application/json"===f?yield u.json():"application/octet-stream"===f?yield u.blob():"text/event-stream"===f?u:"multipart/form-data"===f?yield u.formData():yield u.text(),{data:h,error:null,response:u}}catch(r){return{data:null,error:r,response:r instanceof Mt||r instanceof Ut?r.context:void 0}}}))}}var Wt=n(980);const{PostgrestClient:qt,PostgrestQueryBuilder:Ht,PostgrestFilterBuilder:Kt,PostgrestTransformBuilder:Vt,PostgrestBuilder:Gt,PostgrestError:$t}=Wt;const Jt=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(e," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(e," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},Qt="realtime-js/".concat("2.15.1"),Yt=1e4;var Xt,Zt,en,tn,nn,rn;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Xt||(Xt={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Zt||(Zt={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(en||(en={})),function(e){e.websocket="websocket"}(tn||(tn={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(nn||(nn={}));class sn{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),s=t.getUint8(2);let a=this.HEADER_LENGTH+2;const i=n.decode(e.slice(a,a+r));a+=r;const o=n.decode(e.slice(a,a+s));a+=s;return{ref:null,topic:i,event:o,payload:JSON.parse(n.decode(e.slice(a,e.byteLength)))}}}class an{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(rn||(rn={}));const on=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce(((n,s)=>(n[s]=ln(s,e,t,r),n)),{})},ln=(e,t,n,r)=>{const s=t.find((t=>t.name===e)),a=null===s||void 0===s?void 0:s.type,i=n[e];return a&&!r.includes(a)?cn(a,i):un(i)},cn=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return pn(t,n)}switch(e){case rn.bool:return dn(t);case rn.float4:case rn.float8:case rn.int2:case rn.int4:case rn.int8:case rn.numeric:case rn.oid:return hn(t);case rn.json:case rn.jsonb:return fn(t);case rn.timestamp:return mn(t);case rn.abstime:case rn.date:case rn.daterange:case rn.int4range:case rn.int8range:case rn.money:case rn.reltime:case rn.text:case rn.time:case rn.timestamptz:case rn.timetz:case rn.tsrange:case rn.tstzrange:default:return un(t)}},un=e=>e,dn=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},hn=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},fn=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},pn=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const s=e.slice(1,n);try{r=JSON.parse("["+s+"]")}catch(Ri){r=s?s.split(","):[]}return r.map((e=>cn(t,e)))}return e},mn=e=>"string"===typeof e?e.replace(" ","T"):e,gn=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class vn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Yt;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter((e=>e.status===t)).forEach((e=>e.callback(n)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var yn,bn,xn,wn;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(yn||(yn={}));class kn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kn.syncState(this.state,e,t,n),this.pendingDiffs.forEach((e=>{this.state=kn.syncDiff(this.state,e,t,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=kn.syncDiff(this.state,e,t,n),r())})),this.onJoin(((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave(((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,n,r){const s=this.cloneDeep(e),a=this.transformState(t),i={},o={};return this.map(s,((e,t)=>{a[e]||(o[e]=t)})),this.map(a,((e,t)=>{const n=s[e];if(n){const r=t.map((e=>e.presence_ref)),s=n.map((e=>e.presence_ref)),a=t.filter((e=>s.indexOf(e.presence_ref)<0)),l=n.filter((e=>r.indexOf(e.presence_ref)<0));a.length>0&&(i[e]=a),l.length>0&&(o[e]=l)}else i[e]=t})),this.syncDiff(s,{joins:i,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:s,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(s,((t,r)=>{var s;const a=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(r),a.length>0){const n=e[t].map((e=>e.presence_ref)),r=a.filter((e=>n.indexOf(e.presence_ref)<0));e[t].unshift(...r)}n(t,a,r)})),this.map(a,((t,n)=>{let s=e[t];if(!s)return;const a=n.map((e=>e.presence_ref));s=s.filter((e=>a.indexOf(e.presence_ref)<0)),e[t]=s,r(t,s,n),0===s.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((n=>t(n,e[n])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):r,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(bn||(bn={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(xn||(xn={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(wn||(wn={}));class jn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new vn(this,en.join,this.params,this.timeout),this.rejoinTimer=new an((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=Zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=Zt.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("error",(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())})),this._on(en.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new kn(this),this.broadcastEndpointURL=gn(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Zt.closed){const{config:{broadcast:s,presence:a,private:i}}=this.params,o=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((e=>e.filter)))&&void 0!==r?r:[],l=!!this.bindings[xn.PRESENCE]&&this.bindings[xn.PRESENCE].length>0,c={},u={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:o,private:i};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError((t=>null===e||void 0===e?void 0:e(wn.CHANNEL_ERROR,t))),this._onClose((()=>null===e||void 0===e?void 0:e(wn.CLOSED))),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,s=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,a=[];for(let r=0;r<s;r++){const s=t[r],{filter:{event:i,schema:o,table:l,filter:c}}=s,u=n&&n[r];if(!u||u.event!==i||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=Zt.errored,void(null===e||void 0===e||e(wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},s),{id:u.id}))}return this.bindings.postgres_changes=a,void(e&&e(wn.SUBSCRIBED))}null===e||void 0===e||e(wn.SUBSCRIBED)})).receive("error",(t=>{this.state=Zt.errored,null===e||void 0===e||e(wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null===e||void 0===e||e(wn.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Zt.joined&&e===xn.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then((()=>this.subscribe()))),this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise((n=>{var r,s,a;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(s=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===s?void 0:s.broadcast)||void 0===a?void 0:a.ack)||n("ok"),i.receive("ok",(()=>n("ok"))),i.receive("error",(()=>n("error"))),i.receive("timeout",(()=>n("timed out")))}));{const{event:a,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(s){return"AbortError"===s.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Zt.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(en.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise((r=>{n=new vn(this,en.leave,{},e),n.receive("ok",(()=>{t(),r("ok")})).receive("timeout",(()=>{t(),r("timed out")})).receive("error",(()=>{r("error")})),n.send(),this._canPush()||n.trigger("ok",{})})).finally((()=>{null===n||void 0===n||n.destroy()}))}teardown(){this.pushBuffer.forEach((e=>e.destroy())),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Zt.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,s=setTimeout((()=>r.abort()),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(s),a}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new vn(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,s;const a=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=en;if(n&&[i,o,l,c].indexOf(a)>=0&&n!==this._joinRef())return;let u=this._onMessage(a,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===a})).map((e=>e.callback(u,n))):null===(s=this.bindings[a])||void 0===s||s.filter((e=>{var n,r,s,i,o,l;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return a&&(null===(r=t.ids)||void 0===r?void 0:r.includes(a))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const n=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a})).map((e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:s,errors:a}=e,i={schema:t,table:n,commit_timestamp:r,eventType:s,new:{},old:{},errors:a};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,n)}))}_isClosed(){return this.state===Zt.closed}_isJoined(){return this.state===Zt.joined}_isJoining(){return this.state===Zt.joining}_isLeaving(){return this.state===Zt.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&jn.isEqual(e.filter,t))}))),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(en.close,{},e)}_onError(e){this._on(en.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=on(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=on(e.columns,e.old_record)),t}}const Nn=()=>{},_n=25e3,Sn=10,En=100,Cn=[1e3,2e3,5e3,1e4];class Tn{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yt,this.transport=null,this.heartbeatIntervalMs=_n,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nn,this.ref=0,this.reconnectTimer=null,this.logger=Nn,this.conn=null,this.sendBuffer=[],this.serializer=new sn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)})).catch((e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")}))}:fetch),function(){return t(...arguments)}},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(tn.websocket),this.httpEndpoint=gn(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jt.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout((()=>{this._setConnectionState("disconnected")}),100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xt.connecting:return nn.Connecting;case Xt.open:return nn.Open;case Xt.closing:return nn.Closing;default:return nn.Closed}}isConnected(){return this.connectionState()===nn.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find((e=>e.topic===n));if(r)return r;{const n=new jn("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:s}=e,a=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push","".concat(t," ").concat(n," (").concat(s,")"),r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout((()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()}),En);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t.topic!==e.topic))}_onConnMessage(e){this.decode(e.data,(e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:s}=e,a=s?"(".concat(s,")"):"",i=r.status||"";this.log("receive","".concat(i," ").concat(t," ").concat(n," ").concat(a).trim(),r),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(n,r,s))),this._triggerStateCallbacks("message",e)}))}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach((e=>e.teardown()))}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach((e=>e._trigger(en.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach((t=>{const n={access_token:e,version:Qt};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(en.access_token,{access_token:e})})))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch((t=>{this.log("error","error setting auth in ".concat(e),t)}))}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach((n=>{try{n(t)}catch(Ga){this.log("error","error in ".concat(e," callback"),Ga)}}))}catch(Ga){this.log("error","error triggering ".concat(e," callbacks"),Ga)}}_setupReconnectionTimer(){this.reconnectTimer=new an((async()=>{setTimeout((async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Sn)}),this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,s,a,i,o,l;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:Yt,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:_n,this.worker=null!==(s=null===e||void 0===e?void 0:e.worker)&&void 0!==s&&s,this.accessToken=null!==(a=null===e||void 0===e?void 0:e.accessToken)&&void 0!==a?a:null,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(i=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==i?i:e=>Cn[e-1]||1e4,this.encode=null!==(o=null===e||void 0===e?void 0:e.encode)&&void 0!==o?o:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null===e||void 0===e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class Pn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function On(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class An extends Pn{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Rn extends Pn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Ln=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(Ga){a(Ga)}}function o(e){try{l(r.throw(e))}catch(Ga){a(Ga)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))};const In=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},Dn=e=>{if(Array.isArray(e))return e.map((e=>Dn(e)));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((e=>{let[n,r]=e;const s=n.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[s]=Dn(r)})),t};var Un=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(Ga){a(Ga)}}function o(e){try{l(r.throw(e))}catch(Ga){a(Ga)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))};const Mn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zn=(e,t,r)=>Un(void 0,void 0,void 0,(function*(){const s=yield Ln(void 0,void 0,void 0,(function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response}));e instanceof s&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then((n=>{const r=e.status||500,s=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new An(Mn(n),r,s))})).catch((e=>{t(new Rn(Mn(e),e))})):t(new Rn(Mn(e),e))})),Fn=(e,t,n,r)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(s.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,(null===t||void 0===t?void 0:t.duplex)&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n)):s};function Bn(e,t,n,r,s,a){return Un(this,void 0,void 0,(function*(){return new Promise(((i,o)=>{e(n,Fn(t,r,s,a)).then((e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()})).then((e=>i(e))).catch((e=>zn(e,o,r)))}))}))}function Wn(e,t,n,r){return Un(this,void 0,void 0,(function*(){return Bn(e,"GET",t,n,r)}))}function qn(e,t,n,r,s){return Un(this,void 0,void 0,(function*(){return Bn(e,"POST",t,r,s,n)}))}function Hn(e,t,n,r,s){return Un(this,void 0,void 0,(function*(){return Bn(e,"PUT",t,r,s,n)}))}function Kn(e,t,n,r,s){return Un(this,void 0,void 0,(function*(){return Bn(e,"DELETE",t,r,s,n)}))}var Vn=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(Ga){a(Ga)}}function o(e){try{l(r.throw(e))}catch(Ga){a(Ga)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))};const Gn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$n={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Jn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=In(r)}uploadOrUpdate(e,t,n,r){return Vn(this,void 0,void 0,(function*(){try{let s;const a=Object.assign(Object.assign({},$n),r);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)});const o=a.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),o&&s.append("metadata",this.encodeMetadata(o)),s.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),o&&s.append("metadata",this.encodeMetadata(o))):(s=n,i["cache-control"]="max-age=".concat(a.cacheControl),i["content-type"]=a.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===r||void 0===r?void 0:r.headers)&&(i=Object.assign(Object.assign({},i),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?Hn:qn)(this.fetch,"".concat(this.url,"/object/").concat(c),s,Object.assign({headers:i},(null===a||void 0===a?void 0:a.duplex)?{duplex:a.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(s){if(On(s))return{data:null,error:s};throw s}}))}upload(e,t,n){return Vn(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}uploadToSignedUrl(e,t,n,r){return Vn(this,void 0,void 0,(function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),i=new URL(this.url+"/object/upload/sign/".concat(a));i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:$n.upsert},r),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,a["cache-control"]="max-age=".concat(t.cacheControl),a["content-type"]=t.contentType);return{data:{path:s,fullPath:(yield Hn(this.fetch,i.toString(),e,{headers:a})).Key},error:null}}catch(o){if(On(o))return{data:null,error:o};throw o}}))}createSignedUploadUrl(e,t){return Vn(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const s=yield qn(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),a=new URL(this.url+s.url),i=a.searchParams.get("token");if(!i)throw new Pn("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:i},error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}}))}update(e,t,n){return Vn(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}move(e,t,n){return Vn(this,void 0,void 0,(function*(){try{return{data:yield qn(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}}))}copy(e,t,n){return Vn(this,void 0,void 0,(function*(){try{return{data:{path:(yield qn(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}}))}createSignedUrl(e,t,n){return Vn(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e),s=yield qn(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const a=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return s={signedUrl:encodeURI("".concat(this.url).concat(s.signedURL).concat(a))},{data:s,error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}}))}createSignedUrls(e,t,n){return Vn(this,void 0,void 0,(function*(){try{const r=yield qn(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),s=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(s)):null}))),error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}}))}download(e,t){return Vn(this,void 0,void 0,(function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),s=r?"?".concat(r):"";try{const t=this._getFinalPath(e),r=yield Wn(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(t).concat(s),{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(a){if(On(a))return{data:null,error:a};throw a}}))}info(e){return Vn(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield Wn(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:Dn(e),error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}}))}exists(e){return Vn(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return Un(this,void 0,void 0,(function*(){return Bn(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)}))}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(On(n)&&n instanceof Rn){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}}))}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==s&&r.push(s);const a="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&r.push(i);let o=r.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(a,"/public/").concat(n).concat(o))}}}remove(e){return Vn(this,void 0,void 0,(function*(){try{return{data:yield Kn(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(On(t))return{data:null,error:t};throw t}}))}list(e,t,n){return Vn(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},Gn),t),{prefix:e||""});return{data:yield qn(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const Qn={"X-Client-Info":"storage-js/".concat("2.10.5")};var Yn=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(Ga){a(Ga)}}function o(e){try{l(r.throw(e))}catch(Ga){a(Ga)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))};class Xn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const s=new URL(e);if(null===r||void 0===r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."))}this.url=s.href,this.headers=Object.assign(Object.assign({},Qn),t),this.fetch=In(n)}listBuckets(){return Yn(this,void 0,void 0,(function*(){try{return{data:yield Wn(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(On(e))return{data:null,error:e};throw e}}))}getBucket(e){return Yn(this,void 0,void 0,(function*(){try{return{data:yield Wn(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(On(t))return{data:null,error:t};throw t}}))}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Yn(this,void 0,void 0,(function*(){try{return{data:yield qn(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}}))}updateBucket(e,t){return Yn(this,void 0,void 0,(function*(){try{return{data:yield Hn(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}}))}emptyBucket(e){return Yn(this,void 0,void 0,(function*(){try{return{data:yield qn(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(On(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return Yn(this,void 0,void 0,(function*(){try{return{data:yield Kn(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(On(t))return{data:null,error:t};throw t}}))}}class Zn extends Xn{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new Jn(this.url,this.headers,e,this.fetch)}}let er="";er="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const tr={headers:{"X-Client-Info":"supabase-js-".concat(er,"/").concat("2.55.0")}},nr={schema:"public"},rr={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sr={};var ar=n(630),ir=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(Ga){a(Ga)}}function o(e){try{l(r.throw(e))}catch(Ga){a(Ga)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))};const or=e=>{let t;return t=e||("undefined"===typeof fetch?ar.default:fetch),function(){return t(...arguments)}},lr=(e,t,n)=>{const r=or(n),s="undefined"===typeof Headers?ar.Headers:Headers;return(n,a)=>ir(void 0,void 0,void 0,(function*(){var i;const o=null!==(i=yield t())&&void 0!==i?i:e;let l=new s(null===a||void 0===a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(o)),r(n,Object.assign(Object.assign({},a),{headers:l}))}))};var cr=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(Ga){a(Ga)}}function o(e){try{l(r.throw(e))}catch(Ga){a(Ga)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))};const ur="2.71.1",dr=3e4,hr=9e4,fr={"X-Client-Info":"gotrue-js/".concat(ur)},pr="X-Supabase-Api-Version",mr={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},gr=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class vr extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function yr(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class br extends vr{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class xr extends vr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class wr extends vr{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class kr extends wr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class jr extends wr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Nr extends wr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class _r extends wr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sr extends wr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Er extends wr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Cr(e){return yr(e)&&"AuthRetryableFetchError"===e.name}class Tr extends wr{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Pr extends wr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Or="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ar=" \t\n\r=".split(""),Rr=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ar.length;t+=1)e[Ar[t].charCodeAt(0)]=-2;for(let t=0;t<Or.length;t+=1)e[Or[t].charCodeAt(0)]=t;return e})();function Lr(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Or[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Or[e]),t.queuedBits-=6}}function Ir(e,t,n){const r=Rr[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Dr(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let i=0;i<e.length;i+=1)Ir(e.charCodeAt(i),s,a);return t.join("")}function Ur(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function Mr(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Ur(r,t)}}function zr(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let s=0;s<e.length;s+=1)Ir(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Fr(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach((e=>Lr(e,n,r))),Lr(null,n,r),t.join("")}const Br=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Wr={tested:!1,writable:!1},qr=()=>{if(!Br())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(Ga){return!1}if(Wr.tested)return Wr.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Wr.tested=!0,Wr.writable=!0}catch(Ga){Wr.tested=!0,Wr.writable=!1}return Wr.writable};const Hr=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},Kr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Vr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Gr=async(e,t)=>{await e.removeItem(t)};class $r{constructor(){this.promise=new $r.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function Jr(e){const t=e.split(".");if(3!==t.length)throw new Pr("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!gr.test(t[n]))throw new Pr("JWT not in base64url format");return{header:JSON.parse(Dr(t[0])),payload:JSON.parse(Dr(t[1])),signature:zr(t[2]),raw:{header:t[0],payload:t[1]}}}function Qr(e){return("0"+e.toString(16)).substr(-2)}async function Yr(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Qr).join("")}();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Kr(e,"".concat(t,"-code-verifier"),s);const a=await Yr(r);return[a,r===a?"plain":"s256"]}$r.promiseConstructor=Promise;const Zr=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const es=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ts(e){if(!es.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ns(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function rs(e){return JSON.parse(JSON.stringify(e))}var ss=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const as=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),is=[502,503,504];async function os(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new Er(as(e),0);if(is.includes(e.status))throw new Er(as(e),e.status);let r,s;try{r=await e.json()}catch(Ga){throw new xr(as(Ga),Ga)}const a=function(e){const t=e.headers.get(pr);if(!t)return null;if(!t.match(Zr))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(Ga){return null}}(e);if(a&&a.getTime()>=mr.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?s=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(s=r.error_code),s){if("weak_password"===s)throw new Tr(as(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===s)throw new kr}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0))throw new Tr(as(r),e.status,r.weak_password.reasons);throw new br(as(r),e.status||500,s)}async function ls(e,t,n,r){var s;const a=Object.assign({},null===r||void 0===r?void 0:r.headers);a[pr]||(a[pr]=mr.name),(null===r||void 0===r?void 0:r.jwt)&&(a.Authorization="Bearer ".concat(r.jwt));const i=null!==(s=null===r||void 0===r?void 0:r.query)&&void 0!==s?s:{};(null===r||void 0===r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,r,s,a){const i=((e,t,n,r)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))})(t,r,s,a);let o;try{o=await e(n,Object.assign({},i))}catch(Ga){throw console.error(Ga),new Er(as(Ga),0)}o.ok||await os(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(Ga){await os(Ga)}}(e,t,n+o,{headers:a,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function cs(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function us(e){const t=cs(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function ds(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function hs(e){return{data:e,error:null}}function fs(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,i=ss(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},user:Object.assign({},i)},error:null}}function ps(e){return e}const ms=["global","local","others"];var gs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};class vs{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Hr(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ms[0];if(ms.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(ms.join(", ")));try{return await ls(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(yr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await ls(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ds})}catch(n){if(yr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=gs(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await ls(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:fs,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(yr(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ls(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:ds})}catch(t){if(yr(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,s,a,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await ls(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:ps});if(c.error)throw c.error;const u=await c.json(),d=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t})),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(yr(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){ts(e);try{return await ls(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:ds})}catch(t){if(yr(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ts(e);try{return await ls(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:ds})}catch(n){if(yr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ts(e);try{return await ls(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:ds})}catch(n){if(yr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ts(e.userId);try{const{data:t,error:n}=await ls(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(yr(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ts(e.userId),ts(e.id);try{return{data:await ls(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(yr(t))return{data:null,error:t};throw t}}}function ys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const bs=!!(globalThis&&qr()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class xs extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ws extends xs{}async function ks(e,t,n){bs&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout((()=>{r.abort(),bs&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},(async r=>{if(!r){if(0===t)throw bs&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ws('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(bs)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(Ga){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",Ga)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}bs&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{bs&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Ga){"undefined"!==typeof self&&(self.globalThis=self)}}();const js={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fr,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ns(e,t,n){return await n()}const _s={};class Ss{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ss.nextInstanceID,Ss.nextInstanceID+=1,this.instanceID>0&&Br()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},js),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new vs({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Hr(r.fetch),this.lock=r.lock||Ns,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Br()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=ks:this.lock=Ns,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:qr()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ys(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=ys(this.memoryStorage)),Br()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Ga){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Ga)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=_s[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){_s[this.storageKey]=Object.assign(Object.assign({},_s[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=_s[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){_s[this.storageKey]=Object.assign(Object.assign({},_s[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(ur,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((e,n)=>{t[n]=e}))}catch(Ga){}return n.searchParams.forEach(((e,n)=>{t[n]=e})),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Br()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),function(e){return yr(e)&&"AuthImplicitGrantRedirectError"===e.name}(s)){const t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout((async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return yr(t)?{error:t}:{error:new xr("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const s=await ls(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:cs}),{data:a,error:i}=s;if(i||!a)return{data:{user:null,session:null},error:i};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(s){if(yr(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,n,r;try{let s;if("email"in e){const{email:n,password:r,options:a}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await Xr(this.storage,this.storageKey)),s=await ls(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:o},xform:cs})}else{if(!("phone"in e))throw new Nr("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:i}=e;s=await ls(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:a,data:null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(r=null===i||void 0===i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:cs})}}const{data:a,error:i}=s;if(i||!a)return{data:{user:null,session:null},error:i};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(s){if(yr(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:s}=e;t=await ls(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:us})}else{if(!("phone"in e))throw new Nr("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:s}=e;t=await ls(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:us})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new jr}}catch(t){if(yr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,n,r,s,a,i,o,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let v;if(Br())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(y.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(y.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map((e=>"- ".concat(e)))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await ls(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:Fr(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:cs});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new jr}}catch(m){if(yr(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await Vr(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:s}=await ls(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:cs});if(await Gr(this.storage,"".concat(this.storageKey,"-code-verifier")),s)throw s;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:s}):{data:{user:null,session:null,redirectType:null},error:new jr}}catch(s){if(yr(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:s,nonce:a}=e,i=await ls(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:cs}),{data:o,error:l}=i;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new jr}}catch(t){if(yr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,s,a;try{if("email"in e){const{email:r,options:s}=e;let a=null,i=null;"pkce"===this.flowType&&([a,i]=await Xr(this.storage,this.storageKey));const{error:o}=await ls(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(n=null===s||void 0===s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:a,code_challenge_method:i},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:o}=await ls(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(s=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(a=null===n||void 0===n?void 0:n.channel)&&void 0!==a?a:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new Nr("You must provide either an email or phone number.")}catch(i){if(yr(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,n;try{let r,s;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:a,error:i}=await ls(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:cs});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,l=a.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(yr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let s=null,a=null;return"pkce"===this.flowType&&([s,a]=await Xr(this.storage,this.storageKey)),await ls(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:hs})}catch(s){if(yr(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new kr;const{error:r}=await ls(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}))}catch(e){if(yr(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:s}=e,{error:a}=await ls(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:n,type:r,options:s}=e,{data:a,error:i}=await ls(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:i}}throw new Nr("You must provide either an email or phone number and a type")}catch(t){if(yr(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(Ga){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Ga){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Vr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<hr;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await Vr(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=ns()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await ls(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:ds}):await this._useSession((async e=>{var t,n,r;const{data:s,error:a}=e;if(a)throw a;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await ls(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:ds}):{data:{user:null},error:new kr}}))}catch(t){if(yr(t))return function(e){return yr(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Gr(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession((async n=>{const{data:r,error:s}=n;if(s)throw s;if(!r.session)throw new kr;const a=r.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await Xr(this.storage,this.storageKey));const{data:l,error:c}=await ls(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:a.access_token,xform:ds});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}}))}catch(n){if(yr(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new kr;const t=Date.now()/1e3;let n=t,r=!0,s=null;const{payload:a}=Jr(e.access_token);if(a.exp&&(n=a.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:r,error:a}=await this._getUser(e.access_token);if(a)throw a;s={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(yr(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var n;if(!e){const{data:r,error:s}=t;if(s)throw s;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new kr;const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(yr(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Br())throw new _r("No browser detected.");if(e.error||e.error_description||e.error_code)throw new _r(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Sr("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new _r("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Sr("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:s,refresh_token:a,expires_in:i,expires_at:o,token_type:l}=e;if(!s||!i||!a||!l)throw new _r("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=dr&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(s);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:s,expires_in:u,expires_at:d,refresh_token:a,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(yr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Vr(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession((async t=>{var n;const{data:r,error:s}=t;if(s)return{error:s};const a=null===(n=r.session)||void 0===n?void 0:n.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!function(e){return yr(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Gr(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession((async t=>{var n,r;try{const{data:{session:r},error:s}=t;if(s)throw s;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(s){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await Xr(this.storage,this.storageKey,!0));try{return await ls(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(yr(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(yr(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession((async t=>{var n,r,s,a,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await ls(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(a=o.session)||void 0===a?void 0:a.access_token)&&void 0!==i?i:void 0})}));if(r)throw r;return Br()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(yr(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var n,r;const{data:s,error:a}=t;if(a)throw a;return await ls(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})}))}catch(t){if(yr(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const n=Date.now();return await function(e,t){const n=new Promise(((n,r)=>{(async()=>{for(let s=0;s<1/0;s++)try{const r=await e(s);if(!t(s,null,r))return void n(r)}catch(Ga){if(!t(s,Ga))return void r(Ga)}})()}));return n}((async n=>(n>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await ls(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:cs}))),((e,t)=>{const r=200*Math.pow(2,e);return t&&Cr(t)&&Date.now()+r-n<dr}))}catch(n){if(this._debug(t,"error",n),yr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Br()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Vr(this.storage,this.storageKey);if(s&&this.userStorage){let t=await Vr(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:s.user},await Kr(this.userStorage,this.storageKey+"-user",t)),s.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:ns()}else if(s&&!s.user&&!s.user){const e=await Vr(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(s.user=e.user,await Gr(this.storage,this.storageKey+"-user"),await Kr(this.storage,this.storageKey,s)):s.user=ns()}if(this._debug(n,"session from storage",s),!this._isValidSession(s))return this._debug(n,"session is not valid"),void(null!==s&&await this._removeSession());const a=1e3*(null!==(t=s.expires_at)&&void 0!==t?t:1/0)-Date.now()<hr;if(this._debug(n,"session has".concat(a?"":" not"," expired with margin of ").concat(hr,"s")),a){if(this.autoRefreshToken&&s.refresh_token){const{error:e}=await this._callRefreshToken(s.refresh_token);e&&(console.error(e),Cr(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(s.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(s.user=e.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return this._debug(n,"error",s),void console.error(s)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new kr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new $r;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new kr;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(s){if(this._debug(r,"error",s),yr(s)){const e={session:null,error:s};return Cr(s)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],s=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(e,t)}catch(Ga){r.push(Ga)}}));if(await Promise.all(s),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Kr(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=rs(e);await Kr(this.storage,this.storageKey,r)}else{const e=rs(t);await Kr(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await Gr(this.storage,this.storageKey),await Gr(this.storage,this.storageKey+"-code-verifier"),await Gr(this.storage,this.storageKey+"-user"),this.userStorage&&await Gr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Br()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Ga){console.error("removing visibilitychange callback failed",Ga)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),dr);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const e=Date.now();try{return await this._useSession((async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/dr);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(dr,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)}))}catch(Ga){console.error("Auto refresh tick failed with error. This is likely a transient error.",Ga)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(Ga){if(!(Ga.isAcquireTimeout||Ga instanceof xs))throw Ga;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Br()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await Xr(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await ls(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(yr(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var n,r;const{data:s,error:a}=t;if(a)return{data:null,error:a};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await ls(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(n=null===s||void 0===s?void 0:s.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),{data:o,error:null})}))}catch(t){if(yr(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;if(s)return{data:null,error:s};const{data:a,error:i}=await ls(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:i})}))}catch(t){if(yr(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await ls(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(yr(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),s=n.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:n,totp:r,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,n;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Jr(r.access_token);let i=null;a.aal&&(i=a.aal);let o=i;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:a.amr||[]},error:null}}))))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find((t=>t.kid===e));if(t)return t;const n=Date.now();if(t=this.jwks.keys.find((t=>t.kid===e)),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:s}=await ls(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(s)throw s;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find((t=>t.kid===e)),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:s,signature:a,raw:{header:i,payload:o}}=Jr(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(s.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:s,header:r,signature:a},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,a,function(e){const t=[];return Mr(e,(e=>t.push(e))),new Uint8Array(t)}("".concat(i,".").concat(o))))throw new Pr("Invalid JWT signature");return{data:{claims:s,header:r,signature:a},error:null}}catch(n){if(yr(n))return{data:null,error:n};throw n}}}Ss.nextInstanceID=0;const Es=Ss;class Cs extends Es{constructor(e){super(e)}}var Ts=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(Ga){a(Ga)}}function o(e){try{l(r.throw(e))}catch(Ga){a(Ga)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))};class Ps{constructor(e,t,n){var r,s,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(i);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c="sb-".concat(l.hostname.split(".")[0],"-auth-token"),u=function(e,t){var n,r;const{db:s,auth:a,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===o||void 0===o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>cr(this,void 0,void 0,(function*(){return""}))};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:nr,realtime:sr,auth:Object.assign(Object.assign({},rr),{storageKey:c}),global:tr});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(s=u.global.headers)&&void 0!==s?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(a=u.auth)&&void 0!==a?a:{},this.headers,u.global.fetch),this.fetch=lr(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new qt(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Zn(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Bt(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Ts(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey}))}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:i,storageKey:o,flowType:l,lock:c,debug:u}=e;const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Cs({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:o,autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:i,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Tn(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)}))}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Os=((e,t,n)=>new Ps(e,t,n))({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_URL||"https://zwrwtqspeyajttnuzwkl.supabase.co",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3cnd0cXNwZXlhanR0bnV6d2tsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM3Njk0MTMsImV4cCI6MjA2OTM0NTQxM30.gxthiDpPp0fXGgQefRqMyJkDaNheQsLskd3biIkiNIM",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}});function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},As.apply(this,arguments)}var Rs;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Rs||(Rs={}));const Ls="popstate";function Is(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Ds(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Ga){}}}function Us(e,t){return{usr:e.state,key:e.key,idx:t}}function Ms(e,t,n,r){return void 0===n&&(n=null),As({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Fs(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function zs(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Fs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Bs(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,o=Rs.Pop,l=null,c=u();function u(){return(i.state||{idx:null}).idx}function d(){o=Rs.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:f.location,delta:t})}function h(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:zs(e);return n=n.replace(/ $/,"%20"),Is(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,i.replaceState(As({},i.state,{idx:c}),""));let f={get action(){return o},get location(){return e(s,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ls,d),l=e,()=>{s.removeEventListener(Ls,d),l=null}},createHref:e=>t(s,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=Rs.Push;let r=Ms(f.location,e,t);n&&n(r,e),c=u()+1;let d=Us(r,c),h=f.createHref(r);try{i.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;s.location.assign(h)}a&&l&&l({action:o,location:f.location,delta:1})},replace:function(e,t){o=Rs.Replace;let r=Ms(f.location,e,t);n&&n(r,e),c=u();let s=Us(r,c),d=f.createHref(r);i.replaceState(s,"",d),a&&l&&l({action:o,location:f.location,delta:0})},go:e=>i.go(e)};return f}var Ws;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Ws||(Ws={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function qs(e,t,n){return void 0===n&&(n="/"),Hs(e,t,n,!1)}function Hs(e,t,n,r){let s=sa(("string"===typeof t?Fs(t):t).pathname||"/",n);if(null==s)return null;let a=Ks(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o){let e=ra(s);i=ta(a[o],e,r)}return i}function Ks(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};i.relativePath.startsWith("/")&&(Is(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let o=ca([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(Is(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),Ks(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:ea(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Vs(e.path))s(e,t,r);else s(e,t)})),t}function Vs(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return s?[a,""]:[a];let i=Vs(r.join("/")),o=[];return o.push(...i.map((e=>""===e?a:[a,e].join("/")))),s&&o.push(...i),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const Gs=/^:[\w-]+$/,$s=3,Js=2,Qs=1,Ys=10,Xs=-2,Zs=e=>"*"===e;function ea(e,t){let n=e.split("/"),r=n.length;return n.some(Zs)&&(r+=Xs),t&&(r+=Js),n.filter((e=>!Zs(e))).reduce(((e,t)=>e+(Gs.test(t)?$s:""===t?Qs:Ys)),r)}function ta(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},a="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=na({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=na({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),i.push({params:s,pathname:ca([a,u.pathname]),pathnameBase:ua(ca([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=ca([a,u.pathnameBase]))}return i}function na(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Ds("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let a=new RegExp(s,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:a,pathnameBase:i,pattern:e}}function ra(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return Ds(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function sa(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function aa(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ia(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function oa(e,t){let n=ia(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function la(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=Fs(e):(s=As({},e),Is(!s.pathname||!s.pathname.includes("?"),aa("?","pathname","search",s)),Is(!s.pathname||!s.pathname.includes("#"),aa("#","pathname","hash",s)),Is(!s.search||!s.search.includes("#"),aa("#","search","hash",s)));let a,i=""===e||""===s.pathname,o=i?"/":s.pathname;if(null==o)a=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?Fs(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:da(r),hash:ha(s)}}(s,a),c=o&&"/"!==o&&o.endsWith("/"),u=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const ca=e=>e.join("/").replace(/\/\/+/g,"/"),ua=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),da=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ha=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function fa(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const pa=["post","put","patch","delete"],ma=(new Set(pa),["get",...pa]);new Set(ma),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function ga(){return ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ga.apply(this,arguments)}const va=s.createContext(null);const ya=s.createContext(null);const ba=s.createContext(null);const xa=s.createContext(null);const wa=s.createContext({outlet:null,matches:[],isDataRoute:!1});const ka=s.createContext(null);function ja(){return null!=s.useContext(xa)}function Na(){return ja()||Is(!1),s.useContext(xa).location}function _a(e){s.useContext(ba).static||s.useLayoutEffect(e)}function Sa(){let{isDataRoute:e}=s.useContext(wa);return e?function(){let{router:e}=Ia(Ra.UseNavigateStable),t=Ua(La.UseNavigateStable),n=s.useRef(!1);return _a((()=>{n.current=!0})),s.useCallback((function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,ga({fromRouteId:t},s)))}),[e,t])}():function(){ja()||Is(!1);let e=s.useContext(va),{basename:t,future:n,navigator:r}=s.useContext(ba),{matches:a}=s.useContext(wa),{pathname:i}=Na(),o=JSON.stringify(oa(a,n.v7_relativeSplatPath)),l=s.useRef(!1);return _a((()=>{l.current=!0})),s.useCallback((function(n,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof n)return void r.go(n);let a=la(n,JSON.parse(o),i,"path"===s.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:ca([t,a.pathname])),(s.replace?r.replace:r.push)(a,s.state,s)}),[t,r,o,i,e])}()}function Ea(e,t,n,r){ja()||Is(!1);let{navigator:a}=s.useContext(ba),{matches:i}=s.useContext(wa),o=i[i.length-1],l=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,d=Na();if(t){var h;let e="string"===typeof t?Fs(t):t;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||Is(!1),u=e}else u=d;let f=u.pathname||"/",p=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=qs(e,{pathname:p});let g=Aa(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ca([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ca([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),i,n,r);return t&&g?s.createElement(xa.Provider,{value:{location:ga({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Rs.Pop}},g):g}function Ca(){let e=function(){var e;let t=s.useContext(ka),n=Da(La.UseRouteError),r=Ua(La.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=fa(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:a},n):null,null)}const Ta=s.createElement(Ca,null);class Pa extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(wa.Provider,{value:this.props.routeContext},s.createElement(ka.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Oa(e){let{routeContext:t,match:n,children:r}=e,a=s.useContext(va);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(wa.Provider,{value:t},r)}function Aa(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||Is(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<o.length;s++){let e=o[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((e,r,a)=>{let i,d=!1,h=null,f=null;var p;n&&(i=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||Ta,c&&(u<0&&0===a?(p="route-fallback",!1||Ma[p]||(Ma[p]=!0),d=!0,f=null):u===a&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,a+1)),g=()=>{let t;return t=i?h:d?f:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(Oa,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?s.createElement(Pa,{location:n.location,revalidation:n.revalidation,component:h,error:i,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var Ra=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ra||{}),La=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(La||{});function Ia(e){let t=s.useContext(va);return t||Is(!1),t}function Da(e){let t=s.useContext(ya);return t||Is(!1),t}function Ua(e){let t=function(){let e=s.useContext(wa);return e||Is(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||Is(!1),n.route.id}const Ma={};function za(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function Fa(e){Is(!1)}function Ba(e){let{basename:t="/",children:n=null,location:r,navigationType:a=Rs.Pop,navigator:i,static:o=!1,future:l}=e;ja()&&Is(!1);let c=t.replace(/^\/*/,"/"),u=s.useMemo((()=>({basename:c,navigator:i,static:o,future:ga({v7_relativeSplatPath:!1},l)})),[c,l,i,o]);"string"===typeof r&&(r=Fs(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,g=s.useMemo((()=>{let e=sa(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:a}}),[c,d,h,f,p,m,a]);return null==g?null:s.createElement(ba.Provider,{value:u},s.createElement(xa.Provider,{children:n,value:g}))}function Wa(e){let{children:t,location:n}=e;return Ea(qa(t),n)}new Promise((()=>{}));s.Component;function qa(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,((e,r)=>{if(!s.isValidElement(e))return;let a=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,qa(e.props.children,a));e.type!==Fa&&Is(!1),e.props.index&&e.props.children&&Is(!1);let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=qa(e.props.children,a)),n.push(i)})),n}const Ha={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000";const Ka=new class{constructor(){this.baseURL="".concat(Ha,"/api")}async getSubscriptionStatus(e){try{const t=await fetch("".concat(this.baseURL,"/subscriptions/status?user_id=").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getAuthToken())}});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(t){return console.error("Error fetching subscription status:",t),{has_active_subscription:!1,subscription:null,next_billing_date:null,trial_days_remaining:null}}}async createCheckoutSession(e,t){try{const r=await fetch("".concat(this.baseURL,"/subscriptions/create-checkout"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getAuthToken())},body:JSON.stringify({plan:e,user_id:t,success_url:"".concat(window.location.origin,"/subscription/success"),cancel_url:"".concat(window.location.origin,"/subscription/cancelled")})});if(!r.ok){var n;const e=await r.json();throw new Error((null===(n=e.detail)||void 0===n?void 0:n.message)||"HTTP error! status: ".concat(r.status))}const s=await r.json();return{success:!0,checkoutUrl:s.checkout_url,sessionId:s.session_id}}catch(r){return console.error("Error creating checkout session:",r),{success:!1,error:r.message}}}async cancelSubscription(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{const s=await fetch("".concat(this.baseURL,"/subscriptions/cancel"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getAuthToken())},body:JSON.stringify({userId:e,subscriptionId:t,cancelAtPeriodEnd:n})});if(!s.ok){var r;const e=await s.json();throw new Error((null===(r=e.detail)||void 0===r?void 0:r.message)||"HTTP error! status: ".concat(s.status))}return await s.json()}catch(s){throw console.error("Error cancelling subscription:",s),s}}async reactivateSubscription(e,t){try{const r=await fetch("".concat(this.baseURL,"/subscriptions/reactivate"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getAuthToken())},body:JSON.stringify({userId:e,subscriptionId:t})});if(!r.ok){var n;const e=await r.json();throw new Error((null===(n=e.detail)||void 0===n?void 0:n.message)||"HTTP error! status: ".concat(r.status))}return await r.json()}catch(r){throw console.error("Error reactivating subscription:",r),r}}async getBillingHistory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{const n=await fetch("".concat(this.baseURL,"/subscriptions/billing-history?user_id=").concat(e,"&limit=").concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getAuthToken())}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return(await n.json()).payments||[]}catch(n){return console.error("Error fetching billing history:",n),[]}}async openCustomerPortal(e){try{const t=await fetch("".concat(this.baseURL,"/subscriptions/customer-portal"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getAuthToken())},body:JSON.stringify({userId:e,returnUrl:window.location.href})});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const n=await t.json();return n.portalUrl&&(window.location.href=n.portalUrl),n}catch(t){throw console.error("Error opening customer portal:",t),t}}getAvailablePlans(){return[{id:"monthly",name:"Monthly Plan",price:4.99,currency:"USD",interval:"month",productId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_DODO_MONTHLY_PRODUCT_ID,features:["Unlimited assessments","Advanced analytics","Priority support","Export results"]},{id:"yearly",name:"Yearly Plan",price:49,currency:"USD",interval:"year",productId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_DODO_YEARLY_PRODUCT_ID,features:["Unlimited assessments","Advanced analytics","Priority support","Export results","Save 17% annually"],popular:!0}]}getAuthToken(){return localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token")}getPlanDisplayName(e){return{monthly:"Monthly Plan",yearly:"Annual Plan",free:"Free Plan",unlimited:"Premium Plan"}[e]||e||"Free Plan"}getPlanPricing(e){return{monthly:{price:"$4.99",period:"/month"},yearly:{price:"$49.00",period:"/year"},free:{price:"Free",period:""},unlimited:{price:"Premium",period:""}}[e]||{price:"Free",period:""}}getStatusBadgeColor(e){return{active:"bg-green-100 text-green-800",trialing:"bg-blue-100 text-blue-800",past_due:"bg-yellow-100 text-yellow-800",canceled:"bg-gray-100 text-gray-800",unpaid:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800"}getPaymentStatusColor(e){return{succeeded:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",failed:"bg-red-100 text-red-800",refunded:"bg-gray-100 text-gray-800"}[e]||"bg-gray-100 text-gray-800"}formatPrice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"usd";return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e/100)}formatDate(e){return e?new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(e)):"N/A"}};function Va(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let Ga={data:""},$a=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Ga,Ja=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Qa=/\/\*[^]*?\*\/|  +/g,Ya=/\n+/g,Xa=(e,t)=>{let n="",r="",s="";for(let a in e){let i=e[a];"@"==a[0]?"i"==a[1]?n=a+" "+i+";":r+="f"==a[1]?Xa(i,a):a+"{"+Xa(i,"k"==a[1]?"":t)+"}":"object"==typeof i?r+=Xa(i,t?t.replace(/([^,])+/g,(e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):a):null!=i&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Xa.p?Xa.p(a,i):a+":"+i+";")}return n+(t&&s?t+"{"+s+"}":s)+r},Za={},ei=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+ei(e[n]);return t}return e},ti=(e,t,n,r,s)=>{let a=ei(e),i=Za[a]||(Za[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!Za[i]){let t=a!==e?e:(e=>{let t,n,r=[{}];for(;t=Ja.exec(e.replace(Qa,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Ya," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Ya," ").trim();return r[0]})(e);Za[i]=Xa(s?{["@keyframes "+i]:t}:t,n?"":"."+i)}let o=n&&Za.g?Za.g:null;return n&&(Za.g=Za[i]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Za[i],t,r,o),i};function ni(e){let t=this||{},n=e.call?e(t.p):e;return ti(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,s)=>{let a=t[s];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":Xa(e,""):!1===e?"":e}return e+r+(null==a?"":a)}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,$a(t.target),t.g,t.o,t.k)}ni.bind({g:1});let ri,si,ai,ii=ni.bind({k:1});function oi(e,t){let n=this||{};return function(){let r=arguments;function s(a,i){let o=Object.assign({},a),l=o.className||s.className;n.p=Object.assign({theme:si&&si()},o),n.o=/ *go\d+/.test(l),o.className=ni.apply(n,r)+(l?" "+l:""),t&&(o.ref=i);let c=e;return e[0]&&(c=o.as||e,delete o.as),ai&&c[0]&&ai(o),ri(c,o)}return t?t(s):s}}var li,ci,ui,di,hi,fi,pi,mi,gi,vi,yi,bi,xi,wi,ki,ji,Ni=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,_i=(()=>{let e=0;return()=>(++e).toString()})(),Si=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Ei="default",Ci=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return d(d({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return d(d({},e),{},{toasts:e.toasts.map((e=>e.id===t.toast.id?d(d({},e),t.toast):e))});case 2:let{toast:r}=t;return Ci(e,{type:e.toasts.find((e=>e.id===r.id))?1:0,toast:r});case 3:let{toastId:s}=t;return d(d({},e),{},{toasts:e.toasts.map((e=>e.id===s||void 0===s?d(d({},e),{},{dismissed:!0,visible:!1}):e))});case 4:return void 0===t.toastId?d(d({},e),{},{toasts:[]}):d(d({},e),{},{toasts:e.toasts.filter((e=>e.id!==t.toastId))});case 5:return d(d({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return d(d({},e),{},{pausedAt:void 0,toasts:e.toasts.map((e=>d(d({},e),{},{pauseDuration:e.pauseDuration+a})))})}},Ti=[],Pi={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Oi={},Ai=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ei;Oi[t]=Ci(Oi[t]||Pi,e),Ti.forEach((e=>{let[n,r]=e;n===t&&r(Oi[t])}))},Ri=e=>Object.keys(Oi).forEach((t=>Ai(e,t))),Li=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei;return t=>{Ai(t,e)}},Ii={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Di=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return d(d({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||_i()})}(t,e,n);return Li(r.toasterId||(e=>Object.keys(Oi).find((t=>Oi[t].toasts.some((t=>t.id===e)))))(r.id))({type:2,toast:r}),r.id},Ui=(e,t)=>Di("blank")(e,t);Ui.error=Di("error"),Ui.success=Di("success"),Ui.loading=Di("loading"),Ui.custom=Di("custom"),Ui.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Li(t)(n):Ri(n)},Ui.dismissAll=e=>Ui.dismiss(void 0,e),Ui.remove=(e,t)=>{let n={type:4,toastId:e};t?Li(t)(n):Ri(n)},Ui.removeAll=e=>Ui.remove(void 0,e),Ui.promise=(e,t,n)=>{let r=Ui.loading(t.loading,d(d({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then((e=>{let s=t.success?Ni(t.success,e):void 0;return s?Ui.success(s,d(d({id:r},n),null==n?void 0:n.success)):Ui.dismiss(r),e})).catch((e=>{let s=t.error?Ni(t.error,e):void 0;s?Ui.error(s,d(d({id:r},n),null==n?void 0:n.error)):Ui.dismiss(r)})),e};var Mi=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ei,[n,r]=(0,s.useState)(Oi[t]||Pi),a=(0,s.useRef)(Oi[t]);(0,s.useEffect)((()=>(a.current!==Oi[t]&&r(Oi[t]),Ti.push([t,r]),()=>{let e=Ti.findIndex((e=>{let[n]=e;return n===t}));e>-1&&Ti.splice(e,1)})),[t]);let i=n.toasts.map((t=>{var n,r,s;return d(d(d(d({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Ii[t.type],style:d(d(d({},e.style),null==(s=e[t.type])?void 0:s.style),t.style)})}));return d(d({},n),{},{toasts:i})}(e,t),a=(0,s.useRef)(new Map).current,i=(0,s.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(a.has(e))return;let n=setTimeout((()=>{a.delete(e),o({type:4,toastId:e})}),t);a.set(e,n)}),[]);(0,s.useEffect)((()=>{if(r)return;let e=Date.now(),s=n.map((n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout((()=>Ui.dismiss(n.id,t)),r);n.visible&&Ui.dismiss(n.id)}));return()=>{s.forEach((e=>e&&clearTimeout(e)))}}),[n,r,t]);let o=(0,s.useCallback)(Li(t),[t]),l=(0,s.useCallback)((()=>{o({type:5,time:Date.now()})}),[o]),c=(0,s.useCallback)(((e,t)=>{o({type:1,toast:{id:e,height:t}})}),[o]),u=(0,s.useCallback)((()=>{r&&o({type:6,time:Date.now()})}),[r,o]),h=(0,s.useCallback)(((e,t)=>{let{reverseOrder:r=!1,gutter:s=8,defaultPosition:a}=t||{},i=n.filter((t=>(t.position||a)===(e.position||a)&&t.height)),o=i.findIndex((t=>t.id===e.id)),l=i.filter(((e,t)=>t<o&&e.visible)).length;return i.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+s),0)}),[n]);return(0,s.useEffect)((()=>{n.forEach((e=>{if(e.dismissed)i(e.id,e.removeDelay);else{let t=a.get(e.id);t&&(clearTimeout(t),a.delete(e.id))}}))}),[n,i]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:h}}},zi=ii(li||(li=Va(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Fi=ii(ci||(ci=Va(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Bi=ii(ui||(ui=Va(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Wi=oi("div")(di||(di=Va(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),(e=>e.primary||"#ff4b4b"),zi,Fi,(e=>e.secondary||"#fff"),Bi),qi=ii(hi||(hi=Va(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Hi=oi("div")(fi||(fi=Va(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),(e=>e.secondary||"#e0e0e0"),(e=>e.primary||"#616161"),qi),Ki=ii(pi||(pi=Va(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Vi=ii(mi||(mi=Va(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Gi=oi("div")(gi||(gi=Va(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),(e=>e.primary||"#61d345"),Ki,Vi,(e=>e.secondary||"#fff")),$i=oi("div")(vi||(vi=Va(["\n  position: absolute;\n"]))),Ji=oi("div")(yi||(yi=Va(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Qi=ii(bi||(bi=Va(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Yi=oi("div")(xi||(xi=Va(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Qi),Xi=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:a}=t;return void 0!==n?"string"==typeof n?s.createElement(Yi,null,n):n:"blank"===r?null:s.createElement(Ji,null,s.createElement(Hi,d({},a)),"loading"!==r&&s.createElement($i,null,"error"===r?s.createElement(Wi,d({},a)):s.createElement(Gi,d({},a))))},Zi=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),eo=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),to=oi("div")(wi||(wi=Va(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),no=oi("div")(ki||(ki=Va(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),ro=s.memo((e=>{let{toast:t,position:n,style:r,children:a}=e,i=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,s]=Si()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Zi(n),eo(n)];return{animation:t?"".concat(ii(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(ii(s)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},o=s.createElement(Xi,{toast:t}),l=s.createElement(no,d({},t.ariaProps),Ni(t.message,t));return s.createElement(to,{className:t.className,style:d(d(d({},i),r),t.style)},"function"==typeof a?a({icon:o,message:l}):s.createElement(s.Fragment,null,o,l))}));!function(e,t,n,r){Xa.p=t,ri=e,si=n,ai=r}(s.createElement);var so=e=>{let{id:t,className:n,style:r,onHeightUpdate:a,children:i}=e,o=s.useCallback((e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;a(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,a]);return s.createElement("div",{ref:o,className:n,style:r},i)},ao=ni(ji||(ji=Va(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),io=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:a,children:i,toasterId:o,containerStyle:l,containerClassName:c}=e,{toasts:u,handlers:h}=Mi(r,o);return s.createElement("div",{"data-rht-toaster":o||"",style:d({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:h.startPause,onMouseLeave:h.endPause},u.map((e=>{let r=e.position||n,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return d(d({left:0,right:0,display:"flex",position:"absolute",transition:Si()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),s)})(r,h.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:n}));return s.createElement(so,{id:e.id,key:e.id,onHeightUpdate:h.updateHeight,className:e.visible?ao:"",style:o},"custom"===e.type?Ni(e.message,e):i?i(e):s.createElement(ro,{toast:e,position:r}))})))},oo=Ui,lo=n(579);const co=e=>{let{darkMode:t}=e;const n=Sa(),r=Na(),[a,i]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(!1),[d,h]=(0,s.useState)(null),[f]=(0,s.useState)(Date.now()),p=(0,s.useMemo)((()=>new URLSearchParams(r.search)),[r.search]),m=p.get("payment_id"),g=p.get("subscription_id"),v=p.get("status");(0,s.useEffect)((()=>{let e=!1;return(async()=>{var t;const{data:r}=await Os.auth.getUser(),s=(null===r||void 0===r||null===(t=r.user)||void 0===t?void 0:t.id)||null;if(!s)return oo.error("Please sign in to complete activation"),void n("/",{replace:!0});i(s);const a=async()=>{try{const e=await Ka.getSubscriptionStatus(s);if(h(e),null!==e&&void 0!==e&&e.hasActiveSubscription)return u(!0),l(!1),void oo.success("Unlimited access enabled")}catch(Ga){}!e&&Date.now()-f<12e4?setTimeout(a,3e3):l(!1)};a()})(),()=>{e=!0}}),[n,f]);const y={bg:t?"bg-gray-900":"bg-gray-50",card:t?"bg-gray-800 border-gray-700":"bg-white border-gray-200",text:t?"text-white":"text-gray-900",textSecondary:t?"text-gray-300":"text-gray-600"};return(0,lo.jsxs)("div",{className:"min-h-screen ".concat(y.bg," py-10 px-6"),children:[(0,lo.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,lo.jsx)("div",{className:"".concat(y.card," border rounded-2xl shadow-lg overflow-hidden"),children:(0,lo.jsxs)("div",{className:"p-8",children:[(0,lo.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,lo.jsx)("h1",{className:"text-2xl font-bold ".concat(y.text),children:"Payment Success"}),(0,lo.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:c?"Active":o?"Verifying":"Pending"})]}),(0,lo.jsx)("p",{className:"".concat(y.textSecondary," mb-6"),children:c?"Your subscription is now active. Enjoy unlimited access.":o?"We are verifying your payment and activating your subscription. This usually takes a few seconds.":"We could not confirm activation yet. You can refresh or open the customer portal to review payment status."}),(m||g||v)&&(0,lo.jsxs)("div",{className:"mb-6 text-xs opacity-75",children:[(0,lo.jsx)("div",{className:"".concat(y.textSecondary),children:"Reference details:"}),(0,lo.jsxs)("div",{className:"mt-1 space-y-1",children:[m&&(0,lo.jsxs)("div",{className:"break-all",children:["payment_id: ",m]}),g&&(0,lo.jsxs)("div",{className:"break-all",children:["subscription_id: ",g]}),v&&(0,lo.jsxs)("div",{className:"break-all",children:["status: ",v]})]})]}),(0,lo.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-8",children:[(0,lo.jsx)("button",{onClick:()=>n("/dashboard"),className:"inline-flex items-center justify-center px-4 py-3 rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:"Go to Dashboard"}),(0,lo.jsx)("button",{onClick:async()=>{if(a)try{await Ka.openCustomerPortal(a)}catch(Ga){oo.error("Unable to open customer portal")}},className:"inline-flex items-center justify-center px-4 py-3 rounded-md border border-gray-300 bg-white text-gray-800 hover:bg-gray-50",children:"Open Customer Portal"}),(0,lo.jsx)("button",{onClick:()=>window.location.href="/",className:"inline-flex items-center justify-center px-4 py-3 rounded-md border border-gray-300 bg-white text-gray-800 hover:bg-gray-50",children:"Back to Home"}),!c&&(0,lo.jsx)("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center justify-center px-4 py-3 rounded-md text-white bg-green-600 hover:bg-green-700",children:"Refresh Status"})]})]})})}),(0,lo.jsx)(io,{position:"top-right"})]})},uo=e=>{let{user:t,onBack:n,darkMode:r}=e;const[a,i]=(0,s.useState)(null),[o,l]=(0,s.useState)([]),[c,u]=(0,s.useState)(!0),[d,h]=(0,s.useState)(!1),[f,p]=(0,s.useState)(!1);(0,s.useEffect)((()=>{null!==t&&void 0!==t&&t.id&&m()}),[t]);const m=async()=>{try{u(!0);const[e,n]=await Promise.all([Ka.getSubscriptionStatus(t.id),Ka.getBillingHistory(t.id,20)]);console.log("Subscription status:",e),console.log("Billing history:",n),i(e),l(n)}catch(e){console.error("Failed to load subscription data:",e),oo.error("Failed to load subscription information")}finally{u(!1)}},g=async function(){var e,n;let r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null!==a&&void 0!==a&&null!==(e=a.subscription)&&void 0!==e&&e.dodo_subscription_id||null!==a&&void 0!==a&&null!==(n=a.subscription)&&void 0!==n&&n.id)try{h(!0);const e=a.subscription.dodo_subscription_id||a.subscription.id;await Ka.cancelSubscription(t.id,e,r),oo.success(r?"Subscription will be cancelled at period end":"Subscription cancelled immediately"),p(!1),await m()}catch(s){console.error("Cancellation failed:",s),oo.error("Failed to cancel subscription")}finally{h(!1)}else oo.error("No active subscription to cancel")};if(c)return(0,lo.jsx)("div",{className:"min-h-screen ".concat(r?"bg-gray-900":"bg-gray-50"," p-6"),children:(0,lo.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,lo.jsxs)("div",{className:"animate-pulse",children:[(0,lo.jsx)("div",{className:"h-8 bg-gray-300 rounded w-1/3 mb-6"}),(0,lo.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,lo.jsx)("div",{className:"h-6 bg-gray-300 rounded w-1/4 mb-4"}),(0,lo.jsxs)("div",{className:"space-y-3",children:[(0,lo.jsx)("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),(0,lo.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})]})})});const v={background:r?"bg-gray-900":"bg-gray-50",card:r?"bg-gray-800 border-gray-700":"bg-white border-gray-200",text:r?"text-white":"text-gray-900",textSecondary:r?"text-gray-300":"text-gray-600",textMuted:r?"text-gray-400":"text-gray-500",tableHeader:r?"bg-gray-700":"bg-gray-50",tableRow:r?"bg-gray-800":"bg-white",tableBorder:r?"divide-gray-700":"divide-gray-200"},y=null===a||void 0===a?void 0:a.has_active_subscription,b=null===a||void 0===a?void 0:a.subscription;return(0,lo.jsxs)("div",{className:"min-h-screen ".concat(v.background," p-6"),children:[(0,lo.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,lo.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,lo.jsxs)("div",{children:[(0,lo.jsx)("h1",{className:"text-3xl font-bold ".concat(v.text),children:"Subscription Management"}),(0,lo.jsx)("p",{className:v.textSecondary,children:"Manage your subscription and billing"})]}),(0,lo.jsxs)("button",{onClick:n,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})]}),(0,lo.jsxs)("div",{className:"".concat(v.card," border rounded-lg shadow-sm p-6 mb-6"),children:[(0,lo.jsx)("h2",{className:"text-xl font-semibold ".concat(v.text," mb-4"),children:"Current Subscription"}),y&&b?(0,lo.jsxs)("div",{className:"space-y-4",children:[(0,lo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lo.jsxs)("div",{children:[(0,lo.jsx)("h3",{className:"text-lg font-medium ".concat(v.text),children:Ka.getPlanDisplayName(b.plan_type)}),(0,lo.jsxs)("p",{className:v.textSecondary,children:[Ka.getPlanPricing(b.plan_type).price,Ka.getPlanPricing(b.plan_type).period]})]}),(0,lo.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(Ka.getStatusBadgeColor(b.status)),children:b.status})]}),b.cancel_at_period_end&&(0,lo.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:(0,lo.jsxs)("div",{className:"flex",children:[(0,lo.jsx)("div",{className:"flex-shrink-0",children:(0,lo.jsx)("svg",{className:"h-5 w-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,lo.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,lo.jsxs)("div",{className:"ml-3",children:[(0,lo.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Subscription Scheduled for Cancellation"}),(0,lo.jsx)("div",{className:"mt-2 text-sm text-yellow-700",children:(0,lo.jsxs)("p",{children:["Your subscription will end on ",Ka.formatDate(b.current_period_end)]})})]})]})}),(0,lo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.next_billing_date&&(0,lo.jsxs)("div",{className:"text-center p-4 ".concat(r?"bg-gray-700":"bg-gray-50"," rounded-lg"),children:[(0,lo.jsx)("p",{className:"text-sm ".concat(v.textMuted),children:"Next Billing Date"}),(0,lo.jsx)("p",{className:"text-lg font-semibold ".concat(v.text),children:Ka.formatDate(a.next_billing_date)})]}),null!==a.trial_days_remaining&&void 0!==a.trial_days_remaining&&(0,lo.jsxs)("div",{className:"text-center p-4 ".concat(r?"bg-blue-900":"bg-blue-50"," rounded-lg"),children:[(0,lo.jsx)("p",{className:"text-sm ".concat(v.textMuted),children:"Trial Days Remaining"}),(0,lo.jsx)("p",{className:"text-lg font-semibold ".concat(r?"text-blue-200":"text-blue-600"),children:a.trial_days_remaining})]}),(0,lo.jsxs)("div",{className:"text-center p-4 ".concat(r?"bg-green-900":"bg-green-50"," rounded-lg"),children:[(0,lo.jsx)("p",{className:"text-sm ".concat(v.textMuted),children:"Access Status"}),(0,lo.jsx)("p",{className:"text-lg font-semibold ".concat(r?"text-green-200":"text-green-600"),children:"Active"})]})]}),(0,lo.jsxs)("div",{className:"flex flex-wrap gap-4 pt-4 border-t",children:[(0,lo.jsxs)("button",{onClick:async()=>{try{await Ka.openCustomerPortal(t.id)}catch(e){console.error("Failed to open customer portal:",e),oo.error("Failed to open payment management portal")}},className:"inline-flex items-center px-4 py-2 border ".concat(r?"border-gray-600 text-gray-200 bg-gray-700 hover:bg-gray-600":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50"," rounded-md shadow-sm text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Update Payment Method"]}),b.cancel_at_period_end?(0,lo.jsx)("button",{onClick:async()=>{var e,n;if(null!==a&&void 0!==a&&null!==(e=a.subscription)&&void 0!==e&&e.dodo_subscription_id||null!==a&&void 0!==a&&null!==(n=a.subscription)&&void 0!==n&&n.id)try{h(!0);const e=a.subscription.dodo_subscription_id||a.subscription.id;await Ka.reactivateSubscription(t.id,e),oo.success("Subscription reactivated successfully"),await m()}catch(r){console.error("Reactivation failed:",r),oo.error("Failed to reactivate subscription")}finally{h(!1)}else oo.error("No subscription to reactivate")},disabled:d,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:d?"Processing...":"Reactivate Subscription"}):(0,lo.jsx)("button",{onClick:()=>p(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Cancel Subscription"})]})]}):(0,lo.jsxs)("div",{className:"text-center py-8",children:[(0,lo.jsx)("svg",{className:"mx-auto h-12 w-12 ".concat(v.textMuted),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),(0,lo.jsx)("h3",{className:"mt-2 text-sm font-medium ".concat(v.text),children:"No Active Subscription"}),(0,lo.jsx)("p",{className:"mt-1 text-sm ".concat(v.textMuted),children:"You're currently on the free plan with limited access."}),(0,lo.jsx)("div",{className:"mt-6",children:(0,lo.jsxs)("button",{onClick:()=>window.location.href="/pricing",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Upgrade Now"]})})]})]}),(0,lo.jsxs)("div",{className:"".concat(v.card," border rounded-lg shadow-sm p-6"),children:[(0,lo.jsx)("h2",{className:"text-xl font-semibold ".concat(v.text," mb-4"),children:"Billing History"}),o&&o.length>0?(0,lo.jsx)("div",{className:"overflow-hidden",children:(0,lo.jsx)("div",{className:"overflow-x-auto",children:(0,lo.jsxs)("table",{className:"min-w-full divide-y ".concat(v.tableBorder),children:[(0,lo.jsx)("thead",{className:v.tableHeader,children:(0,lo.jsxs)("tr",{children:[(0,lo.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium ".concat(v.textMuted," uppercase tracking-wider"),children:"Date"}),(0,lo.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium ".concat(v.textMuted," uppercase tracking-wider"),children:"Amount"}),(0,lo.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium ".concat(v.textMuted," uppercase tracking-wider"),children:"Status"}),(0,lo.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium ".concat(v.textMuted," uppercase tracking-wider"),children:"Payment Method"})]})}),(0,lo.jsx)("tbody",{className:"".concat(v.tableRow," divide-y ").concat(v.tableBorder),children:o.map(((e,t)=>(0,lo.jsxs)("tr",{children:[(0,lo.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm ".concat(v.text),children:Ka.formatDate(e.created_at)}),(0,lo.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm ".concat(v.text),children:Ka.formatPrice(e.amount_cents,e.currency)}),(0,lo.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,lo.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(Ka.getPaymentStatusColor(e.status)),children:e.status})}),(0,lo.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm ".concat(v.text),children:e.payment_method_type||"Card"})]},e.id||t)))})]})})}):(0,lo.jsxs)("div",{className:"text-center py-8",children:[(0,lo.jsx)("svg",{className:"mx-auto h-12 w-12 ".concat(v.textMuted),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,lo.jsx)("h3",{className:"mt-2 text-sm font-medium ".concat(v.text),children:"No Billing History"}),(0,lo.jsx)("p",{className:"mt-1 text-sm ".concat(v.textMuted),children:"Your billing history will appear here once you make payments."})]})]}),f&&(0,lo.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,lo.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,lo.jsxs)("div",{className:"mt-3 text-center",children:[(0,lo.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,lo.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,lo.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mt-4",children:"Cancel Subscription"}),(0,lo.jsx)("div",{className:"mt-2 px-7 py-3",children:(0,lo.jsx)("p",{className:"text-sm text-gray-500",children:"Are you sure you want to cancel your subscription? You can choose to cancel immediately or at the end of your billing period."})}),(0,lo.jsxs)("div",{className:"items-center px-4 py-3 space-y-2",children:[(0,lo.jsx)("button",{onClick:()=>g(!0),disabled:d,className:"w-full px-4 py-2 bg-yellow-500 text-white text-base font-medium rounded-md shadow-sm hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-300 disabled:opacity-50",children:d?"Processing...":"Cancel at Period End"}),(0,lo.jsx)("button",{onClick:()=>g(!1),disabled:d,className:"w-full px-4 py-2 bg-red-500 text-white text-base font-medium rounded-md shadow-sm hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-300 disabled:opacity-50",children:d?"Processing...":"Cancel Immediately"}),(0,lo.jsx)("button",{onClick:()=>p(!1),disabled:d,className:"w-full px-4 py-2 bg-gray-500 text-white text-base font-medium rounded-md shadow-sm hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-300 disabled:opacity-50",children:"Keep Subscription"})]})]})})})]}),(0,lo.jsx)(io,{position:"top-right"})]})},ho="".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,"/api"),fo=e=>{let{onBack:t,user:n}=e;const[r,a]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null),l=async e=>{if(null!==n&&void 0!==n&&n.id){o(e),a(!0);try{await Ka.redirectToCheckout(n.id,e)}catch(t){console.error("Plan selection failed:",t)}finally{a(!1),o(null)}}else oo.error("Please sign in to subscribe")},c=["Unlimited essay marking","Advanced analytics and insights","Detailed feedback and suggestions","Progress tracking","Priority support"],u={id:"unlimited_monthly",name:"Unlimited Monthly",price:"$4.99",period:"/month",features:c},d={id:"unlimited_yearly",name:"Unlimited Yearly",price:"$49",period:"/year",features:[...c.slice(0,-1),"Priority support (higher priority)"]};return(0,lo.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,lo.jsxs)("div",{className:"text-center mb-10",children:[(0,lo.jsx)("h1",{className:"text-4xl font-fredoka font-bold mb-3",children:"Choose your plan"}),(0,lo.jsx)("span",{className:"inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-sm font-fredoka",children:"Intro pricing"})]}),(0,lo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[(0,lo.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8",children:[(0,lo.jsxs)("div",{className:"text-center mb-6",children:[(0,lo.jsx)("h2",{className:"text-2xl font-fredoka font-bold text-gray-900 mb-2",children:u.name}),(0,lo.jsxs)("div",{className:"flex items-end justify-center gap-2",children:[(0,lo.jsx)("span",{className:"text-4xl font-bold text-blue-600",children:u.price}),(0,lo.jsx)("span",{className:"text-gray-600 mb-1",children:u.period})]}),(0,lo.jsx)("p",{className:"text-gray-600 font-fredoka mt-2",children:"Unlimited access, billed monthly"})]}),(0,lo.jsx)("div",{className:"space-y-3 mb-6",children:u.features.map(((e,t)=>(0,lo.jsxs)("div",{className:"flex items-start",children:[(0,lo.jsx)("div",{className:"flex-shrink-0 w-5 h-5 bg-green-500 text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5",children:"\u2713"}),(0,lo.jsx)("span",{className:"text-gray-700 font-fredoka",children:e})]},t)))}),(0,lo.jsx)("button",{onClick:()=>l("monthly"),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold py-4 px-6 rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200 transform hover:scale-105 font-fredoka text-lg",children:"Get Unlimited - $4.99/m"}),(0,lo.jsx)("p",{className:"text-sm text-gray-500 font-fredoka text-center mt-4",children:"\ud83d\udd12 Secure payment \u2022 Cancel anytime \u2022 No setup fees"})]}),(0,lo.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-blue-500 p-8 relative overflow-hidden",children:[(0,lo.jsx)("div",{className:"absolute top-0 right-0 bg-blue-500 text-white px-4 py-2 rounded-bl-lg font-bold text-sm",children:"BEST VALUE"}),(0,lo.jsxs)("div",{className:"text-center mb-6",children:[(0,lo.jsx)("h2",{className:"text-2xl font-fredoka font-bold text-gray-900 mb-2",children:d.name}),(0,lo.jsxs)("div",{className:"flex items-end justify-center gap-2",children:[(0,lo.jsx)("span",{className:"text-4xl font-bold text-blue-600",children:d.price}),(0,lo.jsx)("span",{className:"text-gray-600 mb-1",children:d.period})]}),(0,lo.jsx)("p",{className:"text-gray-600 font-fredoka mt-2",children:"Same features, billed yearly"})]}),(0,lo.jsx)("div",{className:"space-y-3 mb-6",children:d.features.map(((e,t)=>(0,lo.jsxs)("div",{className:"flex items-start",children:[(0,lo.jsx)("div",{className:"flex-shrink-0 w-5 h-5 bg-green-500 text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5",children:"\u2713"}),(0,lo.jsx)("span",{className:"text-gray-700 font-fredoka",children:e})]},t)))}),(0,lo.jsx)("button",{onClick:()=>l("yearly"),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold py-4 px-6 rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200 transform hover:scale-105 font-fredoka text-lg",children:"Get Unlimited - $49/year"}),(0,lo.jsx)("p",{className:"text-sm text-gray-500 font-fredoka text-center mt-4",children:"Includes higher priority support"})]})]})]})},po=e=>{let{isVisible:t,onClose:n}=e;return t?(0,lo.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,lo.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[(0,lo.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,lo.jsx)("h2",{className:"text-xl font-fredoka font-bold text-gray-900",children:"Keyboard Shortcuts"}),(0,lo.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:(0,lo.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,lo.jsxs)("div",{className:"space-y-3",children:[(0,lo.jsxs)("div",{className:"flex justify-between items-center",children:[(0,lo.jsx)("span",{className:"font-fredoka text-sm text-gray-700",children:"Dashboard"}),(0,lo.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-mono",children:"Alt + 1"})]}),(0,lo.jsxs)("div",{className:"flex justify-between items-center",children:[(0,lo.jsx)("span",{className:"font-fredoka text-sm text-gray-700",children:"Analytics"}),(0,lo.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-mono",children:"Alt + 2"})]}),(0,lo.jsxs)("div",{className:"flex justify-between items-center",children:[(0,lo.jsx)("span",{className:"font-fredoka text-sm text-gray-700",children:"History"}),(0,lo.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-mono",children:"Alt + 3"})]}),(0,lo.jsxs)("div",{className:"flex justify-between items-center",children:[(0,lo.jsx)("span",{className:"font-fredoka text-sm text-gray-700",children:"Account"}),(0,lo.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-mono",children:"Alt + 4"})]}),(0,lo.jsxs)("div",{className:"flex justify-between items-center",children:[(0,lo.jsx)("span",{className:"font-fredoka text-sm text-gray-700",children:"Submit Form"}),(0,lo.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-mono",children:"Ctrl + Enter"})]}),(0,lo.jsxs)("div",{className:"flex justify-between items-center",children:[(0,lo.jsx)("span",{className:"font-fredoka text-sm text-gray-700",children:"Go Back/Close"}),(0,lo.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-mono",children:"Escape"})]}),(0,lo.jsx)("div",{className:"border-t pt-3 mt-3",children:(0,lo.jsxs)("p",{className:"text-xs text-gray-500 font-fredoka",children:["Press ",(0,lo.jsx)("kbd",{className:"px-1 bg-gray-100 rounded",children:"?"})," to show this help again"]})})]})]})}):null},mo=e=>{let{onBack:t,upgradeType:n,page:r="analytics"}=e;const s="analytics"===r;return(0,lo.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[(0,lo.jsx)("div",{className:"w-full bg-white shadow-sm border-b border-gray-200",children:(0,lo.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lo.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,lo.jsxs)("button",{onClick:t,className:"text-blue-600 hover:text-blue-800 flex items-center font-fredoka",children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]}),(0,lo.jsx)("h1",{className:"text-xl font-fredoka font-bold text-gray-900",children:s?"Analytics Dashboard":"Marking History"}),(0,lo.jsx)("div",{className:"bg-red-100 text-red-700 px-3 py-1 rounded-full text-xs font-fredoka font-medium",children:"\ud83d\udd12 Locked"})]})})}),(0,lo.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,lo.jsxs)("div",{className:"text-center mb-12",children:[(0,lo.jsxs)("div",{className:"relative inline-block mb-8",children:[(0,lo.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:(0,lo.jsxs)("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,lo.jsx)("rect",{x:"6",y:"10",width:"12",height:"8",rx:"3",strokeWidth:"2"}),(0,lo.jsx)("path",{d:"M9 10V7a3 3 0 116 0v3",strokeWidth:"2"}),(0,lo.jsx)("circle",{cx:"12",cy:"14",r:"1.5",fill:"currentColor"})]})}),(0,lo.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-yellow-400 rounded-full animate-bounce"}),(0,lo.jsx)("div",{className:"absolute -bottom-2 -left-2 w-4 h-4 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"0.5s"}})]}),(0,lo.jsx)("h1",{className:"text-4xl font-fredoka font-bold text-gray-900 mb-4",children:s?"\ud83d\udcca Analytics Dashboard":"\ud83d\udcda Marking History"}),(0,lo.jsx)("p",{className:"text-xl font-fredoka text-gray-600 max-w-2xl mx-auto mb-8",children:s?"Unlock detailed insights into your writing progress, skill development, and personalized recommendations.":"Access your complete marking history and track your progress over time."})]}),(0,lo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:s?(0,lo.jsxs)(lo.Fragment,{children:[(0,lo.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200 relative overflow-hidden",children:[(0,lo.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/20 to-transparent"}),(0,lo.jsxs)("div",{className:"relative",children:[(0,lo.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udcc8"}),(0,lo.jsx)("h3",{className:"font-fredoka font-bold text-gray-900 mb-2",children:"Performance Tracking"}),(0,lo.jsx)("p",{className:"font-fredoka text-gray-600 text-sm",children:"Monitor your improvement across different question types"})]})]}),(0,lo.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200 relative overflow-hidden",children:[(0,lo.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 to-transparent"}),(0,lo.jsxs)("div",{className:"relative",children:[(0,lo.jsx)("div",{className:"text-3xl mb-3",children:"\ud83c\udfaf"}),(0,lo.jsx)("h3",{className:"font-fredoka font-bold text-gray-900 mb-2",children:"Skill Analysis"}),(0,lo.jsx)("p",{className:"font-fredoka text-gray-600 text-sm",children:"Identify strengths and areas for improvement"})]})]}),(0,lo.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200 relative overflow-hidden",children:[(0,lo.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500/20 to-transparent"}),(0,lo.jsxs)("div",{className:"relative",children:[(0,lo.jsx)("div",{className:"text-3xl mb-3",children:"\ud83c\udfc6"}),(0,lo.jsx)("h3",{className:"font-fredoka font-bold text-gray-900 mb-2",children:"Achievement System"}),(0,lo.jsx)("p",{className:"font-fredoka text-gray-600 text-sm",children:"Earn badges and track your writing milestones"})]})]})]}):(0,lo.jsxs)(lo.Fragment,{children:[(0,lo.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200 relative overflow-hidden",children:[(0,lo.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/20 to-transparent"}),(0,lo.jsxs)("div",{className:"relative",children:[(0,lo.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udccb"}),(0,lo.jsx)("h3",{className:"font-fredoka font-bold text-gray-900 mb-2",children:"Complete History"}),(0,lo.jsx)("p",{className:"font-fredoka text-gray-600 text-sm",children:"Access all your past essay evaluations"})]})]}),(0,lo.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200 relative overflow-hidden",children:[(0,lo.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/20 to-transparent"}),(0,lo.jsxs)("div",{className:"relative",children:[(0,lo.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udd0d"}),(0,lo.jsx)("h3",{className:"font-fredoka font-bold text-gray-900 mb-2",children:"Detailed Reviews"}),(0,lo.jsx)("p",{className:"font-fredoka text-gray-600 text-sm",children:"Re-read AI feedback and track improvements"})]})]}),(0,lo.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200 relative overflow-hidden",children:[(0,lo.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-500/20 to-transparent"}),(0,lo.jsxs)("div",{className:"relative",children:[(0,lo.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udcca"}),(0,lo.jsx)("h3",{className:"font-fredoka font-bold text-gray-900 mb-2",children:"Progress Timeline"}),(0,lo.jsx)("p",{className:"font-fredoka text-gray-600 text-sm",children:"See how your writing has evolved over time"})]})]})]})}),(0,lo.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-gray-200 max-w-2xl mx-auto",children:[(0,lo.jsxs)("h2",{className:"text-2xl font-fredoka font-bold text-gray-900 mb-6 text-center",children:["\ud83d\ude80 Upgrade to Unlock ",s?"Analytics":"History"]}),(0,lo.jsx)("div",{className:"space-y-4 mb-8",children:(0,lo.jsxs)("div",{className:"flex items-center p-4 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl text-white",children:[(0,lo.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mr-4",children:(0,lo.jsx)("span",{className:"text-white font-bold text-sm",children:"\u221e"})}),(0,lo.jsxs)("div",{className:"flex-1",children:[(0,lo.jsx)("h3",{className:"font-fredoka font-bold text-white",children:"Unlimited Plans"}),(0,lo.jsxs)("p",{className:"font-fredoka text-white/90 text-sm",children:["Unlimited questions + ",s?"Analytics Dashboard":"Complete History"," + Everything"]})]})]})}),(0,lo.jsx)("div",{className:"text-center",children:(0,lo.jsx)("button",{onClick:t,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-4 rounded-xl font-fredoka font-bold hover:from-blue-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:"\ud83c\udfaf View Pricing"})})]})]})]})},go=e=>{let{onBack:t,userStats:n,user:r,evaluations:a,onUpgrade:i}=e;const[o,l]=(0,s.useState)("week"),[c,u]=(0,s.useState)("all");if(!(()=>{var e;return"unlimited"===(null===(e=n.currentPlan)||void 0===e?void 0:e.toLowerCase())})())return(0,lo.jsx)(mo,{onBack:t,upgradeType:"unlimited",page:"analytics"});const h=(a||[]).map((e=>{const t=(e.grade||"").match(/(\d+)\s*\/\s*(\d+)/),n=t?Number(t[1]):0,r=t?Number(t[2]):0,s=new Date(e.timestamp),a="".concat(s.getFullYear(),"-").concat(String(s.getMonth()+1).padStart(2,"0"),"-").concat(String(s.getDate()).padStart(2,"0")),i=(e.question_type||"unknown").toLowerCase(),o="string"===typeof e.ao1_marks?Number((e.ao1_marks.match(/\d+/)||[0])[0]):0,l="string"===typeof e.ao2_marks?Number((e.ao2_marks.match(/\d+/)||[0])[0]):0,c="string"===typeof e.reading_marks?Number((e.reading_marks.match(/\d+/)||[0])[0]):0,u="string"===typeof e.writing_marks?Number((e.writing_marks.match(/\d+/)||[0])[0]):0,h=r>0?n/r*100:0;return d(d({},e),{},{score:n,max:r,percent:h,dateKey:a,type:i,ao1:o,ao2:l,reading:c,writing:u})})),f=Object.values(h.reduce(((e,t)=>(e[t.dateKey]||(e[t.dateKey]={date:t.dateKey,total:0,count:0}),e[t.dateKey].total+=t.score,e[t.dateKey].count+=1,e)),{})).sort(((e,t)=>e.date.localeCompare(t.date))).map((e=>({date:e.date,average:Number((e.total/e.count).toFixed(2))}))),p=h.reduce(((e,t)=>{const n=t.type.replace("_"," ");return e[n]||(e[n]={type:n,total:0,count:0}),e[n].total+=t.score,e[n].count+=1,e}),{}),m=Object.values(p).map((e=>({type:e.type,average:Number((e.total/e.count).toFixed(2)),count:e.count}))),g=(h.map((e=>({date:e.dateKey,AO1:e.ao1,AO2:e.ao2,Reading:e.reading,Writing:e.writing}))),"week"===o?7:"month"===o?30:"quarter"===o?90:null),v=g?new Date(Date.now()-24*g*60*60*1e3):null,y=v?h.filter((e=>new Date(e.dateKey)>=v)):h,b=Object.values(y.reduce(((e,t)=>(e[t.dateKey]||(e[t.dateKey]={date:t.dateKey,total:0,count:0}),e[t.dateKey].total+=t.max>0?t.score/t.max*100:0,e[t.dateKey].count+=1,e)),{})).sort(((e,t)=>e.date.localeCompare(t.date))).map((e=>({date:e.date,average:Number((e.total/e.count).toFixed(2))}))),x=y.reduce(((e,t)=>{const n=t.type.replace("_"," ");return e[n]||(e[n]={type:n,total:0,count:0}),e[n].total+=t.max>0?t.score/t.max*100:0,e[n].count+=1,e}),{}),w=Object.values(x).map((e=>({type:e.type,average:Number((e.total/e.count).toFixed(2)),count:e.count}))),k=y.map((e=>({date:e.dateKey,AO1:e.ao1,AO2:e.ao2,Reading:e.reading,Writing:e.writing}))),j=w.map((e=>({name:e.type,value:e.count}))),N=(j.reduce(((e,t)=>e+t.value),0),y.length);return(0,lo.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,lo.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,lo.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lo.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,lo.jsxs)("button",{onClick:t,className:"text-blue-600 hover:text-blue-800 flex items-center",children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]}),(0,lo.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Analytics Dashboard"}),(0,lo.jsx)("div",{})]})})}),(0,lo.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[(0,lo.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,lo.jsx)("div",{className:"flex items-center gap-2",children:["week","month","quarter","all"].map((e=>(0,lo.jsx)("button",{onClick:()=>l(e),className:"px-3 py-1.5 rounded-full text-sm border ".concat(o===e?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"),children:"week"===e?"7d":"month"===e?"30d":"quarter"===e?"90d":"All"},e)))}),(0,lo.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",(0,lo.jsx)("span",{className:"font-semibold text-gray-900",children:N})," responses"]})]}),(0,lo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,lo.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100",children:[(0,lo.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Average"}),(0,lo.jsxs)("div",{className:"text-3xl font-bold text-blue-600",children:[Math.round(b.reduce(((e,t)=>e+t.average),0)/(b.length||1)||0),"%"]}),(0,lo.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Across selected range (percent)"})]}),(0,lo.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100",children:[(0,lo.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Active Days"}),(0,lo.jsx)("div",{className:"text-3xl font-bold text-emerald-600",children:new Set(null===b||void 0===b?void 0:b.map((e=>e.date))).size||0}),(0,lo.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Days with submissions"})]}),(0,lo.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100",children:[(0,lo.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Types Attempted"}),(0,lo.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:w.length}),(0,lo.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Unique question types"})]}),(0,lo.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100",children:[(0,lo.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Best"}),(0,lo.jsxs)("div",{className:"text-3xl font-bold text-orange-600",children:[Math.round(Math.max(...h.map((e=>e.max>0?e.score/e.max*100:0)),0)),"%"]}),(0,lo.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Highest single percentage"})]})]}),(0,lo.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100",children:[(0,lo.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,lo.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Type Insights"}),(0,lo.jsx)("span",{className:"text-xs bg-emerald-50 text-emerald-700 px-2 py-1 rounded-full",children:"Top performers"})]}),(0,lo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:w.sort(((e,t)=>t.average-e.average)).slice(0,6).map(((e,t)=>(0,lo.jsxs)("div",{className:"rounded-xl border border-gray-100 p-4 bg-gray-50",children:[(0,lo.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,lo.jsx)("div",{className:"font-medium capitalize text-gray-900 truncate",children:e.type}),(0,lo.jsxs)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-white border border-gray-200",children:["#",t+1]})]}),(0,lo.jsxs)("div",{className:"text-sm text-gray-600",children:["Average ",(0,lo.jsx)("span",{className:"font-semibold text-gray-900",children:e.average})," \u2022 Attempts ",(0,lo.jsx)("span",{className:"font-semibold text-gray-900",children:e.count})]})]},e.type)))})]}),(0,lo.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100",children:[(0,lo.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,lo.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Recommendations"}),(0,lo.jsx)("span",{className:"text-xs bg-pink-50 text-pink-700 px-2 py-1 rounded-full",children:"Next steps"})]}),(0,lo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.sort(((e,t)=>e.average-t.average)).slice(0,3).map((e=>(0,lo.jsxs)("div",{className:"rounded-xl border border-gray-100 p-4 bg-gray-50",children:[(0,lo.jsxs)("div",{className:"font-semibold capitalize text-gray-900 mb-1",children:["Practice more: ",e.type]}),(0,lo.jsxs)("ul",{className:"list-disc pl-5 text-sm text-gray-700 space-y-1",children:[(0,lo.jsx)("li",{children:"Review model answers and mark schemes for this type"}),(0,lo.jsx)("li",{children:"Focus on structure and clarity; set a word goal of +10%"}),(0,lo.jsx)("li",{children:"Attempt 2 new prompts this week in this category"})]})]},e.type))),(0,lo.jsxs)("div",{className:"rounded-xl border border-gray-100 p-4 bg-gray-50",children:[(0,lo.jsx)("div",{className:"font-semibold text-gray-900 mb-1",children:"General Tips"}),(0,lo.jsxs)("ul",{className:"list-disc pl-5 text-sm text-gray-700 space-y-1",children:[(0,lo.jsx)("li",{children:"Keep a personal glossary of advanced vocabulary"}),(0,lo.jsx)("li",{children:"Summarize feedback into 3 bullet points after each attempt"}),(0,lo.jsx)("li",{children:"Re-attempt your lowest-scoring type after 48 hours"})]})]})]})]}),(0,lo.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100",children:[(0,lo.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,lo.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Component Strengths"}),(0,lo.jsx)("span",{className:"text-xs bg-indigo-50 text-indigo-700 px-2 py-1 rounded-full",children:"AO & Submarks"})]}),(0,lo.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["AO1","AO2","Reading","Writing"].map((e=>{const t=k.map((t=>t[e]||0)),n=Math.round(t.reduce(((e,t)=>e+t),0)/(t.length||1)),r=Math.max(...t,0);return(0,lo.jsxs)("div",{className:"rounded-xl border border-gray-100 p-4 bg-gray-50",children:[(0,lo.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:e}),(0,lo.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:n}),(0,lo.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Best: ",r]})]},e)}))})]}),(0,lo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,lo.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100 hover:shadow-md transition-shadow",children:[(0,lo.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:N}),(0,lo.jsx)("div",{className:"text-gray-600",children:"Total Responses"})]}),(0,lo.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100 hover:shadow-md transition-shadow",children:[(0,lo.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:Object.keys(f).length}),(0,lo.jsx)("div",{className:"text-gray-600",children:"Active Days"})]}),(0,lo.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100 hover:shadow-md transition-shadow",children:[(0,lo.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:m.length}),(0,lo.jsx)("div",{className:"text-gray-600",children:"Types Attempted"})]}),(0,lo.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100 hover:shadow-md transition-shadow",children:[(0,lo.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:Math.max(...h.map((e=>e.score)),0)}),(0,lo.jsx)("div",{className:"text-gray-600",children:"Best Score"})]})]})]})]})},vo=e=>{let{onBack:t,evaluations:n,userPlan:r}=e;const[a,i]=(0,s.useState)(null),[o,l]=(0,s.useState)(""),[c,u]=(0,s.useState)("all"),[d,h]=(0,s.useState)("newest"),[f,p]=(0,s.useState)([]),[m,g]=(0,s.useState)(!1),v=e=>{if(!e)return[];const t={igcse_writers_effect:{READING:15},igcse_descriptive:{READING:16,WRITING:24},igcse_narrative:{READING:16,WRITING:24},igcse_summary:{READING:10,WRITING:5},alevel_directed:{AO1:5,AO2:5},alevel_directed_writing:{AO1:5,AO2:5},alevel_comparative:{AO1:5,AO3:10},alevel_text_analysis:{AO1:5,AO3:20}},n=e.question_type,r=[];return({igcse_writers_effect:["READING"],igcse_descriptive:["READING","WRITING"],igcse_narrative:["READING","WRITING"],igcse_summary:["READING","WRITING"],alevel_directed:["AO1","AO2"],alevel_directed_writing:["AO1","AO2"],alevel_comparative:["AO1","AO3"],alevel_text_analysis:["AO1","AO3"]}[n]||[]).forEach((s=>{var a;let i="";"READING"===s&&(i=e.reading_marks||""),"WRITING"===s&&(i=e.writing_marks||""),"AO1"===s&&(i=e.ao1_marks||""),"AO2"===s&&(i=e.ao2_marks||""),"AO3"===s&&(i=e.ao2_marks||e.ao1_marks||"");const o=((e,t)=>{if(!e||"string"!==typeof e)return"";const n=e.replace(/\|/g," ").replace(/\s+/g," ").trim(),r=n.match(/(\d+)\s*\/\s*(\d+)/);if(r)return"".concat(r[1],"/").concat(r[2]);const s=n.match(/(\d+)\s*(?:out of|of)\s*(\d+)/i);if(s)return"".concat(s[1],"/").concat(s[2]);const a=n.match(/\d+/);return a&&t?"".concat(a[0],"/").concat(t):a?a[0]:""})(i,null===(a=t[n])||void 0===a?void 0:a[s]);o&&r.push({label:s,value:o})})),r},y=n.filter((e=>{const t=""===o||e.student_response.toLowerCase().includes(o.toLowerCase())||e.feedback.toLowerCase().includes(o.toLowerCase())||e.question_type.toLowerCase().includes(o.toLowerCase())||e.grade.toLowerCase().includes(o.toLowerCase()),n="all"===c||e.question_type.includes(c);return t&&n})).sort(((e,t)=>{var n,r,s,a;const i=new Date(e.timestamp),o=new Date(t.timestamp);switch(d){case"oldest":return i-o;case"newest":default:return o-i;case"grade_high":const l=parseInt((null===(n=e.grade.match(/\d+/))||void 0===n?void 0:n[0])||0);return parseInt((null===(r=t.grade.match(/\d+/))||void 0===r?void 0:r[0])||0)-l;case"grade_low":return parseInt((null===(s=e.grade.match(/\d+/))||void 0===s?void 0:s[0])||0)-parseInt((null===(a=t.grade.match(/\d+/))||void 0===a?void 0:a[0])||0)}}));if((0,s.useEffect)((()=>{const e=e=>{a&&"Escape"===e.key&&(e.preventDefault(),i(null)),m&&"Escape"===e.key&&(e.preventDefault(),g(!1))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[a,m]),"unlimited"!==(null===r||void 0===r?void 0:r.toLowerCase()))return(0,lo.jsx)(mo,{onBack:t,upgradeType:"unlimited",page:"history"});const b=e=>{let{a:t,b:n}=e;const r=new Set((t||[]).map((e=>e.trim().toLowerCase()))),s=new Set((n||[]).map((e=>e.trim().toLowerCase()))),a=[...s].filter((e=>!r.has(e))),i=[...r].filter((e=>!s.has(e)));return(0,lo.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[a.map(((e,t)=>(0,lo.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800 border border-green-200",children:["+ ",e]},"added-".concat(t)))),i.map(((e,t)=>(0,lo.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full bg-red-100 text-red-800 border border-red-200",children:["- ",e]},"removed-".concat(t))))]})},x=e=>{var t,n,r,s;let{a:a,b:i,onClose:o}=e;if(!a||!i)return null;const l=parseInt((null===(t=a.grade.match(/\d+/))||void 0===t?void 0:t[0])||0),c=parseInt((null===(n=a.grade.match(/\/(\d+)/))||void 0===n?void 0:n[1])||0),u=parseInt((null===(r=i.grade.match(/\d+/))||void 0===r?void 0:r[0])||0),d=parseInt((null===(s=i.grade.match(/\/(\d+)/))||void 0===s?void 0:s[1])||0),h=v(a),f=v(i);return(0,lo.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-label":"Compare Evaluations",children:(0,lo.jsxs)("div",{className:"bg-white rounded-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto p-6",children:[(0,lo.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,lo.jsx)("h2",{className:"text-xl font-bold",children:"Side-by-side Comparison"}),(0,lo.jsx)("button",{onClick:o,"aria-label":"Close compare",className:"text-gray-500 hover:text-gray-700",children:(0,lo.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,lo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,lo.jsxs)("div",{className:"border rounded-xl p-4",children:[(0,lo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lo.jsxs)("div",{children:[(0,lo.jsx)("div",{className:"text-sm text-gray-500",children:new Date(a.timestamp).toLocaleString()}),(0,lo.jsx)("div",{className:"font-semibold",children:a.question_type.replace("_"," ").replace(/\b\w/g,(e=>e.toUpperCase()))})]}),(0,lo.jsx)("div",{className:"text-blue-600 font-bold text-xl",children:a.grade})]}),(0,lo.jsx)("div",{className:"mt-3",children:(0,lo.jsx)("div",{className:"w-full h-2 bg-gray-200 rounded-full",children:(0,lo.jsx)("div",{className:"h-2 bg-blue-500 rounded-full",style:{width:c?"".concat(l/c*100,"%"):"0%"}})})}),(0,lo.jsxs)("div",{className:"mt-4",children:[(0,lo.jsx)("h4",{className:"font-semibold mb-2",children:"Submarks"}),(0,lo.jsx)("div",{className:"flex flex-wrap gap-2",children:h.map(((e,t)=>(0,lo.jsxs)("span",{className:"px-2 py-1 rounded bg-gray-100 text-gray-800 text-xs border",children:[e.label,": ",e.value]},t)))})]}),Array.isArray(a.strengths)&&a.strengths.length>0&&(0,lo.jsxs)("div",{className:"mt-4",children:[(0,lo.jsx)("h4",{className:"font-semibold mb-2",children:"Strengths"}),(0,lo.jsx)("ul",{className:"list-disc pl-5 text-sm text-green-800",children:a.strengths.map(((e,t)=>(0,lo.jsx)("li",{children:e},t)))})]}),Array.isArray(a.improvement_suggestions)&&a.improvement_suggestions.length>0&&(0,lo.jsxs)("div",{className:"mt-4",children:[(0,lo.jsx)("h4",{className:"font-semibold mb-2",children:"Improvements"}),(0,lo.jsx)("ul",{className:"list-disc pl-5 text-sm text-yellow-800",children:a.improvement_suggestions.map(((e,t)=>(0,lo.jsx)("li",{children:e},t)))})]})]}),(0,lo.jsxs)("div",{className:"border rounded-xl p-4",children:[(0,lo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lo.jsxs)("div",{children:[(0,lo.jsx)("div",{className:"text-sm text-gray-500",children:new Date(i.timestamp).toLocaleString()}),(0,lo.jsx)("div",{className:"font-semibold",children:i.question_type.replace("_"," ").replace(/\b\w/g,(e=>e.toUpperCase()))})]}),(0,lo.jsx)("div",{className:"text-blue-600 font-bold text-xl",children:i.grade})]}),(0,lo.jsx)("div",{className:"mt-3",children:(0,lo.jsx)("div",{className:"w-full h-2 bg-gray-200 rounded-full",children:(0,lo.jsx)("div",{className:"h-2 bg-blue-500 rounded-full",style:{width:d?"".concat(u/d*100,"%"):"0%"}})})}),(0,lo.jsxs)("div",{className:"mt-4",children:[(0,lo.jsx)("h4",{className:"font-semibold mb-2",children:"Submarks"}),(0,lo.jsx)("div",{className:"flex flex-wrap gap-2",children:f.map(((e,t)=>(0,lo.jsxs)("span",{className:"px-2 py-1 rounded bg-gray-100 text-gray-800 text-xs border",children:[e.label,": ",e.value]},t)))})]}),Array.isArray(i.strengths)&&i.strengths.length>0&&(0,lo.jsxs)("div",{className:"mt-4",children:[(0,lo.jsx)("h4",{className:"font-semibold mb-2",children:"Strengths"}),(0,lo.jsx)("ul",{className:"list-disc pl-5 text-sm text-green-800",children:i.strengths.map(((e,t)=>(0,lo.jsx)("li",{children:e},t)))})]}),Array.isArray(i.improvement_suggestions)&&i.improvement_suggestions.length>0&&(0,lo.jsxs)("div",{className:"mt-4",children:[(0,lo.jsx)("h4",{className:"font-semibold mb-2",children:"Improvements"}),(0,lo.jsx)("ul",{className:"list-disc pl-5 text-sm text-yellow-800",children:i.improvement_suggestions.map(((e,t)=>(0,lo.jsx)("li",{children:e},t)))})]})]})]}),(0,lo.jsxs)("div",{className:"mt-6",children:[(0,lo.jsx)("h4",{className:"font-semibold",children:"Strengths Diff"}),(0,lo.jsx)(b,{a:a.strengths,b:i.strengths})]})]})})};return(0,lo.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,lo.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,lo.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lo.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,lo.jsxs)("button",{onClick:t,className:"text-blue-600 hover:text-blue-800 flex items-center",children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]}),(0,lo.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Marking History"}),(0,lo.jsx)("div",{className:"flex items-center gap-3",children:(0,lo.jsx)("button",{onClick:()=>{2===f.length&&g(!0)},disabled:2!==f.length,className:"px-3 py-2 rounded-lg ".concat(2===f.length?"bg-blue-600 text-white":"bg-gray-200 text-gray-600 cursor-not-allowed"),"aria-label":"Compare selected evaluations",children:"Compare (2)"})})]})})}),(0,lo.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,lo.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 mb-6",children:[(0,lo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,lo.jsxs)("div",{children:[(0,lo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,lo.jsxs)("div",{className:"relative",children:[(0,lo.jsx)("input",{type:"text",placeholder:"Search essays, feedback, or grades...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,lo.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,lo.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),(0,lo.jsxs)("div",{children:[(0,lo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Type"}),(0,lo.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"w-full py-2 px-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,lo.jsx)("option",{value:"all",children:"All Types"}),(0,lo.jsx)("option",{value:"igcse",children:"IGCSE"}),(0,lo.jsx)("option",{value:"alevel",children:"A-Level"}),(0,lo.jsx)("option",{value:"summary",children:"Summary"}),(0,lo.jsx)("option",{value:"narrative",children:"Narrative"}),(0,lo.jsx)("option",{value:"descriptive",children:"Descriptive"}),(0,lo.jsx)("option",{value:"directed",children:"Directed Writing"})]})]}),(0,lo.jsxs)("div",{children:[(0,lo.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort by"}),(0,lo.jsxs)("select",{value:d,onChange:e=>h(e.target.value),className:"w-full py-2 px-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,lo.jsx)("option",{value:"newest",children:"Newest First"}),(0,lo.jsx)("option",{value:"oldest",children:"Oldest First"}),(0,lo.jsx)("option",{value:"grade_high",children:"Highest Grade"}),(0,lo.jsx)("option",{value:"grade_low",children:"Lowest Grade"})]})]})]}),(0,lo.jsxs)("div",{className:"mt-4 text-sm text-gray-600 flex items-center justify-between",children:[(0,lo.jsxs)("div",{children:["Showing ",y.length," of ",n.length," evaluations",o&&(0,lo.jsxs)("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:['"',o,'"']})]}),(0,lo.jsxs)("div",{className:"text-xs text-gray-500",children:["Selected: ",f.length," / 2"]})]})]}),0===y.length?(0,lo.jsxs)("div",{className:"text-center py-12",children:[(0,lo.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcdd"}),(0,lo.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No evaluations yet"}),(0,lo.jsx)("p",{className:"text-gray-600",children:"Start your first assessment to see your history here."})]}):(0,lo.jsx)("div",{className:"space-y-4",children:y.map((e=>{const t=!!f.find((t=>t.id===e.id));return(0,lo.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm border ".concat(t?"border-blue-400 ring-2 ring-blue-200":"border-gray-200 hover:shadow-md"," transition-shadow"),children:(0,lo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lo.jsxs)("div",{className:"flex-1",children:[(0,lo.jsxs)("div",{className:"flex items-center mb-2",children:[(0,lo.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mr-4",children:e.question_type.replace("_"," ").replace(/\b\w/g,(e=>e.toUpperCase()))}),(0,lo.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:e.grade})]}),(0,lo.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:new Date(e.timestamp).toLocaleDateString()}),(0,lo.jsxs)("p",{className:"text-gray-700 text-sm",children:[e.student_response.substring(0,100),"..."]})]}),(0,lo.jsxs)("div",{className:"flex items-center gap-3",children:[(0,lo.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,lo.jsx)("input",{type:"checkbox","aria-label":"Select for compare",checked:t,onChange:()=>(e=>{p((t=>{const n=t.find((t=>t.id===e.id));return n?t.filter((t=>t.id!==e.id)):t.length>=2?[t[1],e]:[...t,e]}))})(e),className:"w-4 h-4"}),"Compare"]}),(0,lo.jsx)("button",{onClick:()=>i(e),className:"text-blue-600 hover:text-blue-800 font-medium","aria-label":"View details",children:"View Details"})]})]})},e.id)}))})]}),a&&(0,lo.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-label":"Evaluation Details",children:(0,lo.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,lo.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,lo.jsx)("h2",{className:"text-xl font-semibold",children:"Evaluation Details"}),(0,lo.jsx)("button",{onClick:()=>i(null),className:"text-gray-500 hover:text-gray-700","aria-label":"Close details",children:(0,lo.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,lo.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:(0,lo.jsxs)("div",{className:"space-y-6",children:[(0,lo.jsxs)("div",{children:[(0,lo.jsx)("h3",{className:"font-semibold mb-2",children:"Grade"}),(0,lo.jsx)("p",{className:"text-blue-600 font-medium",children:a.grade})]}),(0,lo.jsx)("div",{children:(0,lo.jsx)("div",{className:"bg-gray-50 p-4 rounded-xl",children:(0,lo.jsx)("ul",{className:"list-disc pl-5 text-gray-700",children:(e=>{if(!e)return[];return e.split(/[.!?]+/).map((e=>e.trim())).filter((e=>e.length>10)).slice(0,10)})(a.feedback)})})}),a.strengths&&a.strengths.length>0&&(0,lo.jsxs)("div",{children:[(0,lo.jsx)("h3",{className:"font-semibold mb-2",children:"Strengths"}),(0,lo.jsx)("div",{className:"space-y-2",children:a.strengths.map(((e,t)=>(0,lo.jsx)("div",{className:"bg-green-50 p-3 rounded-xl",children:(0,lo.jsx)("p",{className:"text-green-800 text-sm",children:e})},t)))})]}),a.improvement_suggestions&&a.improvement_suggestions.length>0&&(0,lo.jsxs)("div",{children:[(0,lo.jsx)("h3",{className:"font-semibold mb-2",children:"Improvement Suggestions"}),(0,lo.jsx)("div",{className:"space-y-2",children:a.improvement_suggestions.map(((e,t)=>(0,lo.jsx)("div",{className:"bg-yellow-50 p-3 rounded-xl",children:(0,lo.jsx)("p",{className:"text-yellow-800 text-sm",children:e})},t)))})]})]})})]})}),m&&2===f.length&&(0,lo.jsx)(x,{a:f[0],b:f[1],onClose:()=>g(!1)})]})},yo=e=>{let{onBack:t,user:n,userStats:r,onLevelChange:a,showLevelPrompt:i=!1,darkMode:o,toggleDarkMode:l,onPricing:c}=e;const[u,d]=(0,s.useState)(""),[h,f]=(0,s.useState)(""),[p,m]=(0,s.useState)([]),[g,v]=(0,s.useState)(!1);(0,s.useEffect)((()=>{let e=!0;f("");const t=(null===n||void 0===n?void 0:n.uid)||(null===n||void 0===n?void 0:n.id);return n&&t&&(Lt.get("".concat(ho,"/users/").concat(t)).then((t=>{var n;if(!e)return;let r=(null===(n=t.data.user)||void 0===n?void 0:n.academic_level)||"";r=r.toLowerCase().replace(/[^a-z]/g,""),d(r)})).catch((()=>{})),v(!0),Lt.get("".concat(ho,"/transactions/").concat(t)).then((t=>{e&&(m(t.data.transactions||[]),v(!1))})).catch((()=>{e&&v(!1)}))),()=>{e=!1}}),[n]);const y=async e=>{const t=e.toLowerCase().replace(/[^a-z]/g,"");d(t),f("");const r=(null===n||void 0===n?void 0:n.uid)||(null===n||void 0===n?void 0:n.id);if(n&&r)try{await Lt.put("".concat(ho,"/users/").concat(r),{academic_level:e}),a&&a(t),i&&setTimeout((()=>{window.location.reload()}),500)}catch(s){f("Failed to update level.")}else f("Please wait for authentication to complete.")};return(0,lo.jsxs)("div",{className:"min-h-screen bg-main",children:[(0,lo.jsx)("div",{className:"bg-card shadow-sm border-b border-pink-200",children:(0,lo.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lo.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,lo.jsxs)("button",{onClick:t,className:"text-blue-600 hover:text-blue-800 flex items-center font-fredoka",children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]}),(0,lo.jsx)("h1",{className:"text-xl font-fredoka text-gray-900 font-bold",children:"Account"}),(0,lo.jsx)("div",{})]})})}),(0,lo.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i&&(0,lo.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mb-6",children:(0,lo.jsxs)("div",{className:"flex items-start",children:[(0,lo.jsx)("div",{className:"flex-shrink-0",children:(0,lo.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,lo.jsxs)("div",{className:"ml-3",children:[(0,lo.jsx)("h3",{className:"text-lg font-fredoka font-semibold text-blue-900 mb-2",children:"Choose Your Academic Level"}),(0,lo.jsx)("p",{className:"text-blue-700 font-fredoka",children:"To get started with marking your questions, please select your academic level below. This helps us provide you with the most appropriate questions and marking criteria."})]})]})}),(0,lo.jsxs)("div",{className:"bg-card rounded-xl p-6 shadow-sm border border-pink-200 mb-6",children:[(0,lo.jsx)("h2",{className:"text-2xl font-fredoka font-bold text-gray-900 mb-6",children:"Academic Preferences"}),h&&(0,lo.jsx)("div",{className:"mb-2 text-red-600 font-fredoka",children:h}),(0,lo.jsx)("div",{className:"space-y-6",children:(0,lo.jsxs)("div",{children:[(0,lo.jsx)("h3",{className:"font-fredoka font-semibold text-gray-900 mb-3",children:"Current Academic Level"}),(0,lo.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,lo.jsxs)("button",{onClick:()=>y("igcse"),className:"p-4 rounded-lg border-2 transition-all text-left ".concat("igcse"===u?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-blue-300"),children:[(0,lo.jsxs)("div",{className:"flex items-center mb-2",children:[(0,lo.jsx)("span",{className:"text-xl mr-2",children:"\ud83c\udf93"}),(0,lo.jsx)("h4",{className:"font-fredoka font-bold text-gray-900",children:"IGCSE"}),"igcse"===u&&(0,lo.jsx)("svg",{className:"w-5 h-5 text-blue-500 ml-auto",fill:"currentColor",viewBox:"0 0 20 20",children:(0,lo.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),(0,lo.jsx)("p",{className:"font-fredoka text-sm text-gray-600",children:"International General Certificate"}),(0,lo.jsx)("p",{className:"font-fredoka text-xs text-gray-500 mt-1",children:"Ages 14-16 \u2022 Secondary Level"})]}),(0,lo.jsxs)("button",{onClick:()=>y("alevel"),className:"p-4 rounded-lg border-2 transition-all text-left ".concat("alevel"===u?"border-pink-500 bg-pink-50":"border-gray-200 bg-white hover:border-pink-300"),children:[(0,lo.jsxs)("div",{className:"flex items-center mb-2",children:[(0,lo.jsx)("span",{className:"text-xl mr-2",children:"\ud83d\ude80"}),(0,lo.jsx)("h4",{className:"font-fredoka font-bold text-gray-900",children:"A-Level"}),"alevel"===u&&(0,lo.jsx)("svg",{className:"w-5 h-5 text-pink-500 ml-auto",fill:"currentColor",viewBox:"0 0 20 20",children:(0,lo.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),(0,lo.jsx)("p",{className:"font-fredoka text-sm text-gray-600",children:"Advanced Level English"}),(0,lo.jsx)("p",{className:"font-fredoka text-xs text-gray-500 mt-1",children:"Ages 16-18 \u2022 Pre-university"})]})]})]})})]}),(0,lo.jsxs)("div",{className:"bg-card rounded-xl p-6 shadow-sm border border-pink-200 mb-6",children:[(0,lo.jsx)("h2",{className:"text-2xl font-fredoka font-bold text-gray-900 mb-6",children:"Billing History"}),(0,lo.jsxs)("div",{className:"space-y-4",children:[(0,lo.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,lo.jsxs)("div",{className:"flex justify-between items-center",children:[(0,lo.jsxs)("div",{children:[(0,lo.jsx)("h3",{className:"font-fredoka font-semibold text-gray-900",children:"Current Plan"}),(0,lo.jsx)("p",{className:"font-fredoka text-sm text-gray-600 capitalize",children:r.currentPlan||"Basic"})]}),(0,lo.jsxs)("div",{className:"text-right",children:[(0,lo.jsx)("p",{className:"font-fredoka text-sm text-gray-600",children:"Credits Remaining"}),(0,lo.jsx)("p",{className:"font-fredoka font-bold text-blue-600",children:r.credits})]})]})}),(0,lo.jsxs)("div",{className:"space-y-3",children:[(0,lo.jsx)("h3",{className:"font-fredoka font-semibold text-gray-900",children:"Transaction History"}),g?(0,lo.jsx)("div",{className:"text-center py-4",children:(0,lo.jsx)("p",{className:"font-fredoka text-gray-600",children:"Loading transactions..."})}):p.length>0?(0,lo.jsx)("div",{className:"space-y-2",children:p.map(((e,t)=>{const n=(e.amount_inr/100/83).toFixed(2);const r=new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),s=new Date(e.created_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return(0,lo.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:(0,lo.jsxs)("div",{className:"flex justify-between items-center",children:[(0,lo.jsxs)("div",{children:[(0,lo.jsx)("h4",{className:"font-fredoka font-semibold text-gray-900",children:"SUCCESS"===e.status?"Payment Successful":"Payment Pending"}),(0,lo.jsx)("p",{className:"font-fredoka text-sm text-gray-600",children:e.amount_inr>=49900?"Unlimited Plan":e.amount_inr>=29900?"Pro Plan":e.amount_inr>=9900?"Basic Plan":"Credit Purchase"}),(0,lo.jsxs)("p",{className:"font-fredoka text-xs text-gray-500",children:[r," at ",s]})]}),(0,lo.jsxs)("div",{className:"text-right",children:[(0,lo.jsxs)("p",{className:"font-fredoka font-bold text-green-600",children:["$",n]}),(0,lo.jsx)("span",{className:"font-fredoka text-xs px-2 py-1 rounded-full ".concat("SUCCESS"===e.status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"),children:e.status})]})]})},e.id||t)}))}):(0,lo.jsxs)("div",{className:"text-center py-4 bg-gray-50 rounded-lg",children:[(0,lo.jsx)("p",{className:"font-fredoka text-gray-600",children:"No transactions found"}),(0,lo.jsx)("p",{className:"font-fredoka text-sm text-gray-500 mt-1",children:"Your payment history will appear here"})]})]}),(0,lo.jsx)("div",{className:"text-center pt-4",children:(0,lo.jsx)("button",{onClick:c,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors font-fredoka font-medium",children:"View All Plans"})})]})]}),(0,lo.jsxs)("div",{className:"bg-card rounded-xl p-6 shadow-sm border border-pink-200 mb-6",children:[(0,lo.jsx)("h2",{className:"text-2xl font-fredoka font-bold text-gray-900 mb-6",children:"Preferences"}),(0,lo.jsxs)("div",{className:"space-y-4",children:[(0,lo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lo.jsxs)("div",{children:[(0,lo.jsx)("h3",{className:"font-fredoka font-semibold text-gray-900",children:"Dark Mode"}),(0,lo.jsx)("p",{className:"font-fredoka text-sm text-gray-600",children:"Toggle dark theme (Still in beta, not reccomended)"})]}),(0,lo.jsx)("button",{onClick:l,className:"rounded-full p-1 w-12 h-6 relative transition-colors ".concat(o?"bg-blue-600":"bg-gray-200"),children:(0,lo.jsx)("div",{className:"bg-white rounded-full w-4 h-4 shadow transform transition-transform ".concat(o?"translate-x-6":"")})})]}),(0,lo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lo.jsxs)("div",{children:[(0,lo.jsx)("h3",{className:"font-fredoka font-semibold text-gray-900",children:"Email Notifications"}),(0,lo.jsx)("p",{className:"font-fredoka text-sm text-gray-600",children:"Receive updates about your progress"})]}),(0,lo.jsx)("button",{className:"bg-blue-600 rounded-full p-1 w-12 h-6 relative",children:(0,lo.jsx)("div",{className:"bg-white rounded-full w-4 h-4 shadow transform translate-x-6 transition-transform"})})]})]})]})]})]})},bo=e=>{var t,n;let{questionTypes:r,onStartQuestion:a,onPricing:i,onHistory:o,onAnalytics:l,onAccountSettings:c,onSubscription:u,userStats:d,user:h,darkMode:f,onSignOut:p}=e;const[m,g]=(0,s.useState)(!1),v=()=>{var e;return"unlimited"===(null===(e=d.currentPlan)||void 0===e?void 0:e.toLowerCase())};return(0,lo.jsxs)("div",{className:"min-h-screen ".concat(f?"bg-black":"bg-main"),children:[(0,lo.jsx)("div",{className:"".concat(f?"bg-black border-gray-700":"bg-card border-pink-200"," shadow-sm border-b"),children:(0,lo.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lo.jsxs)("div",{className:"flex items-center justify-between h-20",children:[(0,lo.jsxs)("div",{className:"flex items-center space-x-4 sm:space-x-6",children:[(0,lo.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full overflow-hidden",children:(0,lo.jsx)("img",{src:"https://ik.imagekit.io/lqf8a8nmt/logo-modified.png?updatedAt=1752578868143",alt:"EnglishGPT Logo",className:"w-full h-full object-contain"})}),(0,lo.jsx)("span",{className:"ml-1 sm:ml-2 text-base sm:text-xl font-fredoka ".concat(f?"text-white":"text-gray-900"," font-bold"),children:"EnglishGPT"})]}),(0,lo.jsxs)("div",{className:"hidden lg:flex items-center space-x-10",children:[(0,lo.jsx)("div",{className:"flex items-center space-x-8",children:v()?(0,lo.jsxs)(lo.Fragment,{children:[(0,lo.jsxs)("div",{className:"text-center",children:[(0,lo.jsx)("div",{className:"text-lg font-fredoka font-bold text-purple-600",children:d.questionsMarked}),(0,lo.jsx)("div",{className:"text-xs font-fredoka ".concat(f?"text-gray-300":"text-gray-600"),children:"Essays Marked"})]}),(0,lo.jsxs)("div",{className:"text-center",children:[(0,lo.jsx)("div",{className:"text-lg font-fredoka font-bold text-blue-600 capitalize",children:"Unlimited"}),(0,lo.jsx)("div",{className:"text-xs font-fredoka ".concat(f?"text-gray-300":"text-gray-600"),children:"Plan"})]})]}):(0,lo.jsxs)(lo.Fragment,{children:[(0,lo.jsxs)("div",{className:"text-center",children:[(0,lo.jsx)("div",{className:"text-lg font-fredoka font-bold text-blue-600",children:d.credits}),(0,lo.jsx)("div",{className:"text-xs font-fredoka ".concat(f?"text-gray-300":"text-gray-600"),children:"Credits"})]}),(0,lo.jsxs)("div",{className:"text-center",children:[(0,lo.jsx)("div",{className:"text-lg font-fredoka font-bold text-green-600 capitalize",children:"Free"}),(0,lo.jsx)("div",{className:"text-xs font-fredoka ".concat(f?"text-gray-300":"text-gray-600"),children:"Plan"})]}),(0,lo.jsxs)("div",{className:"text-center",children:[(0,lo.jsx)("div",{className:"text-lg font-fredoka font-bold text-purple-600",children:d.questionsMarked}),(0,lo.jsx)("div",{className:"text-xs font-fredoka ".concat(f?"text-gray-300":"text-gray-600"),children:"Marked"})]})]})}),!v()&&0===d.questionsMarked&&(0,lo.jsx)("div",{className:"".concat(f?"bg-blue-900 text-blue-300 border-blue-700":"bg-blue-50 text-blue-700 border-blue-200"," px-6 py-3 rounded-xl border ml-4"),children:(0,lo.jsx)("span",{className:"font-fredoka text-sm sm:text-base",children:"\ud83c\udf89 Welcome! You have 3 free credits. Upgrade to unlimited for $4.99/month!"})})]}),(0,lo.jsxs)("div",{className:"lg:hidden flex items-center space-x-2",children:[(0,lo.jsx)("div",{className:"flex items-center space-x-2 text-xs",children:v()?(0,lo.jsxs)(lo.Fragment,{children:[(0,lo.jsx)("div",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:(0,lo.jsx)("span",{className:"font-fredoka font-bold",children:d.questionsMarked})}),(0,lo.jsx)("div",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:(0,lo.jsx)("span",{className:"font-fredoka font-bold",children:"Unlimited"})})]}):(0,lo.jsxs)(lo.Fragment,{children:[(0,lo.jsx)("div",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:(0,lo.jsx)("span",{className:"font-fredoka font-bold",children:d.credits})}),(0,lo.jsx)("div",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full",children:(0,lo.jsx)("span",{className:"font-fredoka font-bold",children:"Free"})})]})}),!v()&&0===d.questionsMarked&&(0,lo.jsx)("div",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:(0,lo.jsx)("span",{className:"font-fredoka text-xs",children:"\ud83c\udf89 3 credits!"})})]}),(0,lo.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,lo.jsxs)("div",{className:"hidden md:flex items-center space-x-2 sm:space-x-3",children:[(0,lo.jsx)("a",{href:"https://www.reddit.com/r/everythingenglish/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-orange-600",children:(0,lo.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{d:"M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"})})}),(0,lo.jsx)("a",{href:"https://discord.gg/xRqB4BWCcJ",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-indigo-600",children:(0,lo.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.0002 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9554 2.4189-2.1568 2.4189Z"})})}),(0,lo.jsx)("a",{href:"https://www.youtube.com/@everythingenglishdotxyz",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-red-600",children:(0,lo.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),(0,lo.jsx)("a",{href:"https://www.instagram.com/everythingenglish.xyz",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-pink-600",children:(0,lo.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]}),(0,lo.jsx)("div",{className:"hidden sm:block w-px h-6 bg-gray-300"}),(0,lo.jsx)("button",{onClick:i,className:"font-fredoka bg-pink-500 text-white px-2 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-pink-600 transition-colors font-medium text-sm sm:text-base",children:"Pricing"}),(0,lo.jsxs)("button",{onClick:l,className:"hidden sm:flex font-fredoka text-gray-600 hover:text-gray-900 items-center text-sm",children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics ",!v()&&(0,lo.jsx)("span",{className:"ml-1 text-xs",children:"\ud83d\udd12"})]}),(0,lo.jsxs)("button",{onClick:o,className:"hidden sm:flex font-fredoka text-gray-600 hover:text-gray-900 items-center text-sm",children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"History ",!v()&&(0,lo.jsx)("span",{className:"ml-1 text-xs",children:"\ud83d\udd12"})]}),(0,lo.jsxs)("div",{className:"relative",children:[(0,lo.jsxs)("button",{onClick:()=>g(!m),className:"flex items-center space-x-2 sm:space-x-3 hover:bg-gray-50 p-1 sm:p-2 rounded-lg transition-colors",children:[(0,lo.jsx)("img",{src:(null===h||void 0===h||null===(t=h.user_metadata)||void 0===t?void 0:t.avatar_url)||"https://via.placeholder.com/32",alt:"User Profile",className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full"}),(0,lo.jsxs)("div",{className:"hidden sm:flex flex-col text-left",children:[(0,lo.jsx)("span",{className:"font-fredoka text-sm font-medium text-gray-900",children:(null===h||void 0===h||null===(n=h.user_metadata)||void 0===n?void 0:n.full_name)||"User"}),(0,lo.jsx)("span",{className:"font-fredoka text-xs text-gray-500",children:null===h||void 0===h?void 0:h.email})]}),(0,lo.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m&&(0,lo.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:(0,lo.jsxs)("div",{className:"py-1",children:[(0,lo.jsxs)("div",{className:"sm:hidden",children:[(0,lo.jsxs)("button",{onClick:()=>{l(),g(!1)},className:"w-full px-4 py-2 text-left font-fredoka text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics ",!v()&&(0,lo.jsx)("span",{className:"ml-1 text-xs",children:"\ud83d\udd12"})]}),(0,lo.jsxs)("button",{onClick:()=>{o(),g(!1)},className:"w-full px-4 py-2 text-left font-fredoka text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"History ",!v()&&(0,lo.jsx)("span",{className:"ml-1 text-xs",children:"\ud83d\udd12"})]}),("basic"!==d.currentPlan||d.questionsMarked>0)&&(0,lo.jsxs)("div",{className:"px-4 py-2 border-t border-gray-100",children:[(0,lo.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,lo.jsx)("span",{className:"font-fredoka text-gray-600",children:"Credits:"}),(0,lo.jsx)("span",{className:"font-fredoka font-medium text-blue-600",children:d.credits})]}),(0,lo.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,lo.jsx)("span",{className:"font-fredoka text-gray-600",children:"Plan:"}),(0,lo.jsx)("span",{className:"font-fredoka font-medium text-green-600",children:"basic"===d.currentPlan?"No Plan":d.currentPlan})]}),(0,lo.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,lo.jsx)("span",{className:"font-fredoka text-gray-600",children:"Marked:"}),(0,lo.jsx)("span",{className:"font-fredoka font-medium text-purple-600",children:d.questionsMarked})]})]}),(0,lo.jsxs)("div",{className:"border-t border-gray-100",children:[(0,lo.jsxs)("a",{href:"https://discord.gg/xRqB4BWCcJ",target:"_blank",rel:"noopener noreferrer",className:"w-full px-4 py-2 text-left font-fredoka text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>g(!1),children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.0002 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9554 2.4189-2.1568 2.4189Z"})}),"Join the Discord"]}),(0,lo.jsxs)("a",{href:"https://www.youtube.com/@everythingenglishdotxyz",target:"_blank",rel:"noopener noreferrer",className:"w-full px-4 py-2 text-left font-fredoka text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>g(!1),children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),"Join the YouTube"]}),(0,lo.jsxs)("a",{href:"https://www.instagram.com/everythingenglish.xyz",target:"_blank",rel:"noopener noreferrer",className:"w-full px-4 py-2 text-left font-fredoka text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>g(!1),children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),"Join the Instagram"]}),(0,lo.jsxs)("a",{href:"https://www.reddit.com/r/everythingenglish/",target:"_blank",rel:"noopener noreferrer",className:"w-full px-4 py-2 text-left font-fredoka text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>g(!1),children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{d:"M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"})}),"Join the Reddit"]})]}),(0,lo.jsx)("div",{className:"border-t border-gray-100"})]}),(0,lo.jsxs)("button",{onClick:()=>{c(),g(!1)},className:"w-full px-4 py-2 text-left font-fredoka text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Account Settings"]}),(0,lo.jsxs)("button",{onClick:()=>{u(),g(!1)},className:"w-full px-4 py-2 text-left font-fredoka text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Subscription"]}),(0,lo.jsx)("div",{className:"border-t border-gray-100"}),(0,lo.jsxs)("button",{onClick:async()=>{await p(),g(!1)},className:"w-full px-4 py-2 text-left font-fredoka text-red-700 hover:bg-red-50 flex items-center",children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})})]})]})]})})}),(0,lo.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,lo.jsxs)("div",{className:"text-center mb-12",children:[(0,lo.jsx)("div",{className:"flex justify-center mb-6",children:(0,lo.jsxs)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center relative",children:[(0,lo.jsx)("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{d:"M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z"})}),(0,lo.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-yellow-400 rounded-full"})]})}),(0,lo.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"EnglishGPT"}),(0,lo.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto mb-8",children:"Get instant, professional feedback on your English essays and assignments"}),(0,lo.jsx)("button",{onClick:a,className:"bg-black text-white px-8 py-4 rounded-xl font-semibold hover:bg-gray-800 transition-colors text-lg",children:"Mark a Question"})]}),(0,lo.jsxs)("div",{className:"space-y-12",children:[(0,lo.jsxs)("div",{className:"mb-12",children:[(0,lo.jsxs)("div",{className:"flex items-center mb-6",children:[(0,lo.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 text-white px-4 py-2 rounded-lg mr-4",children:(0,lo.jsx)("span",{className:"font-bold",children:"IGCSE"})}),(0,lo.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"International General Certificate of Secondary Education"})]}),(0,lo.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-6",children:[(0,lo.jsxs)("div",{className:"bg-pink-50 rounded-xl p-4 sm:p-6 cursor-pointer hover:bg-pink-100 transition-all duration-300 border border-pink-100 hover:border-pink-300 hover:shadow-lg",children:[(0,lo.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg flex items-center justify-center text-white mb-3 sm:mb-4 text-xl sm:text-2xl",style:{background:"#3b82f6"},children:"\ud83d\udcc4"}),(0,lo.jsx)("h3",{className:"font-fredoka text-base sm:text-lg text-gray-900 mb-2 font-semibold",children:"Summary"}),(0,lo.jsx)("p",{className:"font-fredoka text-gray-600 text-xs sm:text-sm mb-3 sm:mb-4",children:"Condensing key information from texts"}),(0,lo.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2 flex-wrap gap-1",children:[(0,lo.jsx)("span",{className:"font-fredoka text-xs text-gray-600 bg-white px-2 py-1 rounded border border-gray-200",children:"IGCSE"}),(0,lo.jsx)("span",{className:"font-fredoka text-xs text-blue-700 bg-blue-50 px-2 py-1 rounded border border-blue-100",children:"Mark scheme required"})]})]}),(0,lo.jsxs)("div",{className:"bg-pink-50 rounded-xl p-6 cursor-pointer hover:bg-pink-100 transition-all duration-300 border border-pink-100 hover:border-pink-300 hover:shadow-lg",children:[(0,lo.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white mb-4 text-2xl",style:{background:"#8b5cf6"},children:"\ud83d\udcd6"}),(0,lo.jsx)("h3",{className:"font-fredoka text-lg text-gray-900 mb-2 font-semibold",children:"Narrative"}),(0,lo.jsx)("p",{className:"font-fredoka text-gray-600 text-sm mb-4",children:"Creative storytelling and structure"}),(0,lo.jsx)("div",{className:"flex items-center space-x-2",children:(0,lo.jsx)("span",{className:"font-fredoka text-xs text-gray-600 bg-white px-2 py-1 rounded border border-gray-200",children:"IGCSE"})})]}),(0,lo.jsxs)("div",{className:"bg-pink-50 rounded-xl p-6 cursor-pointer hover:bg-pink-100 transition-all duration-300 border border-pink-100 hover:border-pink-300 hover:shadow-lg",children:[(0,lo.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white mb-4 text-2xl",style:{background:"#22c55e"},children:"\ud83d\uddbc\ufe0f"}),(0,lo.jsx)("h3",{className:"font-fredoka text-lg text-gray-900 mb-2 font-semibold",children:"Descriptive"}),(0,lo.jsx)("p",{className:"font-fredoka text-gray-600 text-sm mb-4",children:"Vivid imagery and atmospheric writing"}),(0,lo.jsx)("div",{className:"flex items-center space-x-2",children:(0,lo.jsx)("span",{className:"font-fredoka text-xs text-gray-600 bg-white px-2 py-1 rounded border border-gray-200",children:"IGCSE"})})]}),(0,lo.jsxs)("div",{className:"bg-pink-50 rounded-xl p-6 cursor-pointer hover:bg-pink-100 transition-all duration-300 border border-pink-100 hover:border-pink-300 hover:shadow-lg",children:[(0,lo.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white mb-4 text-2xl",style:{background:"#f59e42"},children:"\u26a1"}),(0,lo.jsx)("h3",{className:"font-fredoka text-lg text-gray-900 mb-2 font-semibold",children:"Writer's Effect"}),(0,lo.jsx)("p",{className:"font-fredoka text-gray-600 text-sm mb-4",children:"Language analysis and impact"}),(0,lo.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lo.jsx)("span",{className:"font-fredoka text-xs text-gray-600 bg-white px-2 py-1 rounded border border-gray-200",children:"IGCSE"}),(0,lo.jsx)("span",{className:"font-fredoka text-xs text-blue-700 bg-blue-50 px-2 py-1 rounded border border-blue-100",children:"Mark scheme optional"})]})]}),(0,lo.jsxs)("div",{className:"bg-pink-50 rounded-xl p-6 cursor-pointer hover:bg-pink-100 transition-all duration-300 border border-pink-100 hover:border-pink-300 hover:shadow-lg",children:[(0,lo.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white mb-4 text-2xl",style:{background:"#6366f1"},children:"\u270d\ufe0f"}),(0,lo.jsx)("h3",{className:"font-fredoka text-lg text-gray-900 mb-2 font-semibold",children:"Directed Writing"}),(0,lo.jsx)("p",{className:"font-fredoka text-gray-600 text-sm mb-4",children:"Transform text into specific formats"}),(0,lo.jsx)("div",{className:"flex items-center space-x-2",children:(0,lo.jsx)("span",{className:"font-fredoka text-xs text-gray-600 bg-white px-2 py-1 rounded border border-gray-200",children:"IGCSE"})})]})]})]}),(0,lo.jsxs)("div",{children:[(0,lo.jsxs)("div",{className:"flex items-center mb-6",children:[(0,lo.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-red-500 text-white px-4 py-2 rounded-lg mr-4",children:(0,lo.jsx)("span",{className:"font-bold",children:"A-Level"})}),(0,lo.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Advanced Level English"})]}),(0,lo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,lo.jsxs)("div",{className:"bg-pink-50 rounded-xl p-6 cursor-pointer hover:bg-pink-100 transition-all duration-300 border border-pink-100 hover:border-pink-300 hover:shadow-lg",children:[(0,lo.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white mb-4 text-2xl",style:{background:"#ef4444"},children:"\ud83d\udcca"}),(0,lo.jsx)("h3",{className:"font-fredoka text-lg text-gray-900 mb-2 font-semibold",children:"Reflective Commentary"}),(0,lo.jsx)("p",{className:"font-fredoka text-gray-600 text-sm mb-4",children:"Critical reflection and personal response"}),(0,lo.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lo.jsx)("span",{className:"font-fredoka text-xs text-gray-600 bg-white px-2 py-1 rounded border border-gray-200",children:"A-Level English (9093)"}),(0,lo.jsx)("span",{className:"font-fredoka text-xs text-blue-700 bg-blue-50 px-2 py-1 rounded border border-blue-100",children:"Mark scheme required"})]})]}),(0,lo.jsxs)("div",{className:"bg-pink-50 rounded-xl p-6 cursor-pointer hover:bg-pink-100 transition-all duration-300 border border-pink-100 hover:border-pink-300 hover:shadow-lg",children:[(0,lo.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white mb-4 text-2xl",style:{background:"#22c55e"},children:"\u270f\ufe0f"}),(0,lo.jsx)("h3",{className:"font-fredoka text-lg text-gray-900 mb-2 font-semibold",children:"Directed Writing"}),(0,lo.jsx)("p",{className:"font-fredoka text-gray-600 text-sm mb-4",children:"Task-specific writing with audience awareness"}),(0,lo.jsx)("div",{className:"flex items-center space-x-2",children:(0,lo.jsx)("span",{className:"font-fredoka text-xs text-gray-600 bg-white px-2 py-1 rounded border border-gray-200",children:"A-Level English (9093)"})})]}),(0,lo.jsxs)("div",{className:"bg-pink-50 rounded-xl p-6 cursor-pointer hover:bg-pink-100 transition-all duration-300 border border-pink-100 hover:border-pink-300 hover:shadow-lg",children:[(0,lo.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white mb-4 text-2xl",style:{background:"#ec4899"},children:"\ud83d\udd0d"}),(0,lo.jsx)("h3",{className:"font-fredoka text-lg text-gray-900 mb-2 font-semibold",children:"Text Analysis"}),(0,lo.jsx)("p",{className:"font-fredoka text-gray-600 text-sm mb-4",children:"Literary analysis and critical interpretation"}),(0,lo.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,lo.jsx)("span",{className:"font-fredoka text-xs text-gray-600 bg-white px-2 py-1 rounded border border-gray-200",children:"A-Level English (9093)"}),(0,lo.jsx)("span",{className:"font-fredoka text-xs text-blue-700 bg-blue-50 px-2 py-1 rounded border border-blue-100",children:"Mark scheme required"})]})]})]})]})]})]})]})},xo=e=>{let{questionTypes:t,onSelectQuestionType:n,onBack:r,onEvaluate:a,selectedLevel:i,darkMode:o}=e;const[l,c]=(0,s.useState)(null),[u,h]=(0,s.useState)(""),[f,p]=(0,s.useState)(!1),[m,g]=(0,s.useState)(!1),[v,y]=(0,s.useState)(!1),[b,x]=(0,s.useState)(null),[w,k]=(0,s.useState)(!1),j=(0,s.useRef)(null);(0,s.useEffect)((()=>{const e=localStorage.getItem("draft_student_response");e&&!u&&(h(e),y(!0),setTimeout((()=>y(!1)),3e3))}),[]),(0,s.useEffect)((()=>{const e="draft_student_response",t=setTimeout((()=>{u&&u.trim().length>0?(localStorage.setItem(e,u),x(Date.now())):localStorage.removeItem(e)}),400);return()=>clearTimeout(t)}),[u]);const N=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const n=j.current;if(!n)return;const{selectionStart:r,selectionEnd:s,value:a}=n,i=a.substring(0,r),o=a.substring(r,s)||"text",l=a.substring(s),c="".concat(i).concat(e).concat(o).concat(t).concat(l);h(c),setTimeout((()=>{const s=r+e.length+o.length+t.length;n.focus(),n.setSelectionRange(s,s)}),0)},_=u.trim().split(/\s+/).filter((e=>e.length>0)).length,S=e=>{let{count:t,goal:n}=e;const r=Math.max(0,Math.min(100,Math.floor(t/n*100))),s="conic-gradient(#3b82f6 ".concat(r,"%, ").concat(o?"#374151":"#e5e7eb"," ").concat(r,"% 100%)");return(0,lo.jsxs)("div",{className:"flex items-center gap-3",children:[(0,lo.jsxs)("div",{className:"relative w-12 h-12","aria-label":"Word count progress",children:[(0,lo.jsx)("div",{className:"w-12 h-12 rounded-full",style:{backgroundImage:s}}),(0,lo.jsxs)("div",{className:"absolute inset-1 rounded-full flex items-center justify-center text-xs ".concat(o?"bg-black text-white":"bg-white text-gray-800"),children:[r,"%"]})]}),(0,lo.jsxs)("div",{className:"text-sm ".concat(o?"text-gray-300":"text-gray-600"),children:[(0,lo.jsxs)("div",{className:"font-semibold",children:[t," / ",n," words"]}),b&&(0,lo.jsxs)("div",{className:"text-xs",children:["Saved ",Math.max(0,Math.floor((Date.now()-b)/6e4))," min ago"]})]})]})},E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(l&&u.trim()){if("igcse_writers_effect"===l.id){if(e)return void n(d(d({},l),{},{studentResponse:u,requires_marking_scheme:!0}));{const e={question_type:l.id,student_response:u,marking_scheme:null};return void a(e)}}if(!0===l.requires_marking_scheme)n(d(d({},l),{},{studentResponse:u}));else{const e={question_type:l.id,student_response:u,marking_scheme:null};a(e)}}},C=e=>({igcse_summary:"\ud83d\udcc4",igcse_narrative:"\ud83d\udcd6",igcse_descriptive:"\ud83d\uddbc\ufe0f",igcse_writers_effect:"\u26a1",igcse_directed:"\u270d\ufe0f",alevel_comparative:"\ud83d\udcca",alevel_directed:"\u270f\ufe0f",alevel_text_analysis:"\ud83d\udd0d"}[e]||"\ud83d\udcdd"),T=(()=>{if(!t||0===t.length)return{questions:[],levelName:"Loading...",fullName:"Loading...",color:"gray",gradient:"from-gray-500 to-gray-600"};const e=t.filter((e=>"IGCSE"===e.category)).map((e=>d(d({},e),{},{requiresScheme:e.requires_marking_scheme,icon:C(e.id)}))),n=t.filter((e=>e.category.includes("A-Level"))).map((e=>d(d({},e),{},{requiresScheme:e.requires_marking_scheme,icon:C(e.id)})));return"igcse"===i?{questions:e,levelName:"IGCSE",fullName:"International GCSE",color:"blue",gradient:"from-blue-500 to-green-500"}:"alevel"===i?{questions:n,levelName:"A-Level",fullName:"Advanced Level",color:"purple",gradient:"from-purple-500 to-red-500"}:{questions:[...e,...n],levelName:"All Levels",fullName:"IGCSE & A-Level",color:"gray",gradient:"from-gray-500 to-gray-600"}})();return(0,lo.jsx)("div",{className:"min-h-screen ".concat(o?"bg-black":"bg-gray-50"," p-4"),children:(0,lo.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,lo.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,lo.jsxs)("div",{className:"".concat(o?"bg-black border-gray-700":"bg-white border-gray-100"," rounded-2xl p-6 shadow-sm border"),children:[(0,lo.jsx)("h2",{className:"text-lg font-fredoka font-bold ".concat(o?"text-white":"text-gray-900"," mb-4"),children:"\ud83d\udcda Choose Question Type"}),(0,lo.jsxs)("div",{className:"mb-4 flex items-center",children:[(0,lo.jsx)("div",{className:"bg-gradient-to-r ".concat(T.gradient," text-white px-2 py-1 rounded-md mr-2"),children:(0,lo.jsx)("span",{className:"font-fredoka font-bold text-xs",children:T.levelName})}),(0,lo.jsx)("h3",{className:"font-fredoka font-semibold ".concat(o?"text-gray-300":"text-gray-700"," text-sm"),children:T.fullName})]}),(0,lo.jsx)("div",{className:"space-y-2",children:T.questions.length>0?T.questions.map((e=>(0,lo.jsx)("button",{onClick:()=>{return c(t=e),p(!0),void("igcse_writers_effect"===t.id?g(!0):g(!1));var t},className:"w-full p-3 rounded-lg text-left transition-all duration-200 border ".concat((null===l||void 0===l?void 0:l.id)===e.id?"".concat(o?"border-blue-500 bg-gray-800":"border-blue-500 bg-blue-50"," shadow-md"):"".concat(o?"border-gray-700 bg-black hover:border-blue-400 hover:bg-gray-800":"border-gray-200 bg-white hover:border-blue-300 hover:bg-blue-50")),"aria-pressed":(null===l||void 0===l?void 0:l.id)===e.id,children:(0,lo.jsxs)("div",{className:"flex items-center",children:[(0,lo.jsx)("span",{className:"text-lg mr-2",children:e.icon}),(0,lo.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,lo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lo.jsx)("h4",{className:"font-fredoka font-bold ".concat(o?"text-white":"text-gray-900"," text-sm truncate"),children:e.name}),(null===l||void 0===l?void 0:l.id)===e.id&&(0,lo.jsx)("svg",{className:"w-4 h-4 text-blue-500 flex-shrink-0 ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,lo.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),(0,lo.jsx)("p",{className:"font-fredoka ".concat(o?"text-gray-300":"text-gray-600"," text-xs mt-1"),children:e.description})]})]})},e.id))):(0,lo.jsx)("div",{className:"p-4 text-center ".concat(o?"text-gray-400":"text-gray-500"),children:(0,lo.jsxs)("p",{className:"font-fredoka text-sm",children:["No questions found for ",T.levelName]})})}),(0,lo.jsxs)("div",{className:"".concat(o?"bg-gray-900 border-gray-700":"bg-gray-50 border-gray-200"," rounded-2xl p-4 border mt-6"),children:[(0,lo.jsx)("h3",{className:"font-fredoka font-bold mb-2 ".concat(o?"text-white":"text-gray-900"),children:"Getting Started"}),(0,lo.jsxs)("p",{className:"".concat(o?"text-gray-300":"text-gray-600"," text-sm mb-3"),children:["Use these tips to improve your ",(null===l||void 0===l?void 0:l.name)||T.levelName," response:"]}),(0,lo.jsxs)("ul",{className:"list-disc pl-6 space-y-1 ".concat(o?"text-gray-300":"text-gray-700"," text-sm"),children:[(0,lo.jsx)("li",{children:"Plan briefly: outline intro, key points, and conclusion."}),(0,lo.jsx)("li",{children:"Use precise vocabulary and vary sentence structure."}),(0,lo.jsx)("li",{children:"Keep a consistent tone and answer the prompt directly."}),(0,lo.jsx)("li",{children:"Target word goal shown on the progress ring."})]}),(0,lo.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,lo.jsx)("button",{onClick:()=>k(!0),className:"px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-100",children:"View Example"}),(0,lo.jsx)("button",{onClick:()=>h((e=>(e?e+"\n\n":"")+({igcse_summary:"Summarize the key arguments of an article about climate change impacts on coastal cities.",igcse_narrative:"Write a narrative about a time when an unexpected event changed your day completely.",igcse_descriptive:"Describe a bustling city market at sunset using vivid sensory details.",igcse_writers_effect:"Analyze how the author uses metaphor and contrast to create tension in a short passage.",igcse_directed:"Write a letter to your local council proposing a new community garden.",alevel_directed:"Write a speech arguing for the benefits of gap years before university.",alevel_text_analysis:"Analyze how the writer presents memory and identity in an unseen prose extract.",alevel_comparative:"Compare how two poets explore the theme of loss."}[null===l||void 0===l?void 0:l.id]||"Write about a meaningful experience and what you learned from it."))),className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:"Generate Prompt"})]})]})]}),(0,lo.jsxs)("div",{className:"".concat(o?"bg-black border-gray-700":"bg-white border-gray-100"," rounded-2xl p-6 shadow-sm border lg:col-span-2"),children:[(0,lo.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,lo.jsx)("h2",{className:"text-2xl font-fredoka font-bold ".concat(o?"text-white":"text-gray-900"),children:"\ud83d\udcdd Your Essay"}),l&&(0,lo.jsxs)("div",{className:"flex items-center ".concat(o?"bg-gray-800":"bg-blue-50"," px-3 py-1 rounded-full"),children:[(0,lo.jsx)("span",{className:"text-2xl mr-2",children:l.icon}),(0,lo.jsx)("span",{className:"font-fredoka text-sm font-medium ".concat(o?"text-blue-400":"text-blue-700"),children:l.name})]})]}),v&&(0,lo.jsx)("div",{className:"mb-3 text-xs text-green-700 bg-green-50 border border-green-200 rounded px-3 py-2",children:"Restored unsaved draft."}),(0,lo.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,lo.jsx)("button",{onClick:()=>N("**"),className:"px-3 py-1 text-sm rounded border border-gray-300 hover:bg-gray-100",children:"Bold"}),(0,lo.jsx)("button",{onClick:()=>N("*"),className:"px-3 py-1 text-sm rounded border border-gray-300 hover:bg-gray-100",children:"Italic"}),(0,lo.jsx)("button",{onClick:()=>{const e=j.current;if(!e)return;const{selectionStart:t,selectionEnd:n,value:r}=e,s=r.substring(0,t),a=r.substring(n),i="".concat(s,"\n\n").concat(a);h(i),setTimeout((()=>{const n=t+2;e.focus(),e.setSelectionRange(n,n)}),0)},className:"px-3 py-1 text-sm rounded border border-gray-300 hover:bg-gray-100",children:"Paragraph"}),(0,lo.jsx)("button",{onClick:r,className:"ml-auto px-3 py-1 text-sm rounded border border-blue-300 text-blue-700 hover:bg-blue-50",children:"\u2190 Back"})]}),(0,lo.jsx)("textarea",{value:u,onChange:e=>h(e.target.value),placeholder:"Type or paste your ".concat(T.levelName," essay answer here...\n\n\u2728 Select a question type from the left panel and write your response to get instant AI feedback!"),className:"w-full h-80 p-6 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none font-fredoka text-gray-700 placeholder-gray-400 leading-relaxed","aria-label":"Essay input",ref:j}),(0,lo.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,lo.jsx)(S,{count:_,goal:(()=>{if(!l)return 300;return{igcse_summary:50,igcse_narrative:300,igcse_descriptive:300,igcse_writers_effect:150,igcse_directed:150,alevel_directed:300,alevel_text_analysis:400,alevel_comparative:500}[l.id]||300})()}),m&&l&&u.trim()&&(0,lo.jsxs)("div",{className:"flex gap-3",children:[(0,lo.jsx)("button",{onClick:()=>E(!1),className:"bg-gradient-to-r from-green-500 to-blue-500 text-white px-6 py-2 rounded-lg font-fredoka font-bold hover:from-green-600 hover:to-blue-600 transition-all duration-300 shadow-md",children:"\ud83d\ude80 Skip Scheme"}),(0,lo.jsx)("button",{onClick:()=>E(!0),className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-6 py-2 rounded-lg font-fredoka font-bold hover:from-yellow-600 hover:to-orange-600 transition-all duration-300 shadow-md",children:"\ud83d\udccb Add Scheme"})]}),f&&l&&u.trim()&&!m&&(0,lo.jsx)("button",{onClick:E,className:"bg-gradient-to-r from-pink-500 to-blue-500 text-white px-8 py-3 rounded-xl font-fredoka font-bold hover:from-pink-600 hover:to-blue-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:!0===l.requiresScheme?"Add Marking Scheme \u2192":"\ud83d\ude80 Get AI Feedback Now \u2192"})]}),w&&(0,lo.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,lo.jsxs)("div",{className:"".concat(o?"bg-black border-gray-700 text-white":"bg-white border-gray-200 text-gray-900"," rounded-2xl max-w-2xl w-full p-6 border"),children:[(0,lo.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,lo.jsxs)("h3",{className:"text-lg font-semibold",children:["Example ",(null===l||void 0===l?void 0:l.name)||"Essay"]}),(0,lo.jsx)("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-gray-700",children:"\u2715"})]}),(0,lo.jsx)("div",{className:"".concat(o?"bg-gray-900":"bg-gray-50"," rounded-xl p-4 text-sm leading-6"),children:(P=null===l||void 0===l?void 0:l.id,{igcse_summary:"Example summary: The article outlines three main points... (concise neutral tone).",igcse_narrative:"Example narrative: The wind clawed at the shutters as I stepped outside...",igcse_descriptive:"Example descriptive: The marketplace hummed\u2014a tapestry of scents and colours...",igcse_writers_effect:"Example analysis: The simile \u201clike a coiled spring\u201d compresses tension...",igcse_directed:"Example directed writing: Dear Councillors, I propose establishing a community garden...",alevel_directed:"Example directed: Esteemed audience, today I contend that...",alevel_text_analysis:"Example analysis: The narrator\u2019s fragmented syntax mirrors her fractured memory...",alevel_comparative:"Example comparative: While Poet A elegizes loss with restraint, Poet B embraces raw immediacy..."}[P]||"A focused, well-structured response illustrating expectations for this task type.")})]})})]})]})})});var P},wo=e=>{let{selectedQuestionType:t,onBack:n,onEvaluate:r,darkMode:a}=e;const[i,o]=(0,s.useState)(""),[l,c]=(0,s.useState)("text"),[u,d]=(0,s.useState)(!1),[h,f]=(0,s.useState)(""),[p,m]=(0,s.useState)(!1),[g,v]=(0,s.useState)(0),[y,b]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=localStorage.getItem("draft_marking_scheme");e&&!i&&(o(e),b(!0),setTimeout((()=>b(!1)),3e3))}),[]),(0,s.useEffect)((()=>{const e="draft_marking_scheme",t=setTimeout((()=>{i&&i.trim().length>0?localStorage.setItem(e,i):localStorage.removeItem(e)}),400);return()=>clearTimeout(t)}),[i]);const x=["\ud83e\udd16 AI is analyzing your essay...","\ud83d\udcdd Checking grammar and structure...","\ud83c\udfaf Evaluating content quality...","\u2728 Analyzing writing style and flow...","\ud83d\udd0d Examining vocabulary usage...","\ud83d\udcca Assessing argument structure...","\u26a1 Generating personalized feedback...","\ud83c\udfad Reviewing literary techniques...","\ud83d\udca1 Identifying key strengths...","\ud83c\udfa8 Evaluating descriptive language...","\ud83e\udde0 Processing complex ideas...","\ud83d\udcd6 Checking coherence and clarity...","\ud83c\udfc6 Measuring against marking criteria...","\ud83c\udf1f Crafting improvement suggestions...","\ud83c\udfaa Analyzing tone and mood...","\ud83d\udd2c Examining evidence and examples...","\ud83c\udfb5 Checking rhythm and pacing...","\ud83c\udf08 Evaluating creativity and originality...","\u2b50 Finalizing detailed assessment...","\ud83c\udf89 Almost done! Preparing your results..."],w=e=>{"file"===e&&"text"===l?m(!0):c(e)},k=e=>{let{selectedQuestionType:t,loadingMessages:n,currentMessageIndex:r}=e;return(0,lo.jsx)("div",{className:"min-h-screen ".concat(a?"bg-black":"bg-main"," flex items-center justify-center"),children:(0,lo.jsx)("div",{className:"text-center max-w-md",children:(0,lo.jsxs)("div",{className:"loading-animation",children:[(0,lo.jsxs)("div",{className:"loading-dots",children:[(0,lo.jsx)("div",{className:"loading-dot"}),(0,lo.jsx)("div",{className:"loading-dot"}),(0,lo.jsx)("div",{className:"loading-dot"})]}),(0,lo.jsx)("div",{className:"loading-text",children:n&&n[r]?n[r]:"\ud83e\udd16 AI is analyzing your essay..."}),(0,lo.jsxs)("div",{className:"loading-subtext",children:["Our AI is carefully analyzing your ",null===t||void 0===t?void 0:t.name," submission. This may take up to 60 seconds."]})]})})})};return u?(0,lo.jsx)(k,{selectedQuestionType:t,loadingMessages:x,currentMessageIndex:g}):(0,lo.jsxs)("div",{className:"min-h-screen ".concat(a?"bg-black":"bg-gray-50"," p-4"),children:[(0,lo.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,lo.jsxs)("div",{className:"text-center mb-8",children:[(0,lo.jsxs)("button",{onClick:n,className:"text-blue-600 hover:text-blue-800 mb-4 flex items-center mx-auto",children:[(0,lo.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Essay"]}),(0,lo.jsx)("h1",{className:"text-3xl font-bold ".concat(a?"text-white":"text-gray-900"," mb-2"),children:"\ud83d\udccb Add Marking Scheme"}),(0,lo.jsx)("p",{className:"".concat(a?"text-gray-300":"text-gray-600"),children:"Your essay is ready! Now add the marking scheme for accurate evaluation."})]}),y&&(0,lo.jsx)("div",{className:"mb-4 text-xs text-green-700 bg-green-50 border border-green-200 rounded px-3 py-2",children:"Restored unsaved marking scheme."}),(0,lo.jsxs)("div",{className:"".concat(a?"bg-green-900 border-green-700":"bg-green-50 border-green-200"," rounded-xl p-4 mb-6 border"),children:[(0,lo.jsxs)("div",{className:"flex items-center mb-2",children:[(0,lo.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,lo.jsxs)("h3",{className:"font-semibold ".concat(a?"text-green-300":"text-green-800"),children:["Essay Ready (",t.name,")"]})]}),(0,lo.jsxs)("p",{className:"".concat(a?"text-green-200":"text-green-700"," text-sm"),children:[t.studentResponse.substring(0,150),"..."]})]}),(0,lo.jsxs)("div",{className:"".concat(a?"bg-black border-gray-700":"bg-white border-gray-100"," rounded-2xl p-6 mb-6 shadow-sm border"),children:[(0,lo.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,lo.jsx)("h2",{className:"text-xl font-semibold ".concat(a?"text-white":"text-gray-900"),children:"Marking Scheme"}),(0,lo.jsx)("span",{className:"text-sm px-3 py-1 rounded-full font-medium bg-red-100 text-red-700",children:"Required"})]}),(0,lo.jsx)("div",{className:"flex mb-4",children:(0,lo.jsxs)("div",{className:"".concat(a?"bg-gray-800":"bg-gray-100"," rounded-xl p-1 flex"),children:[(0,lo.jsx)("button",{onClick:()=>w("text"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("text"===l?"".concat(a?"bg-gray-700 text-blue-400":"bg-white text-blue-600"," shadow-sm"):"".concat(a?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900")),children:"Paste Text"}),(0,lo.jsx)("button",{onClick:()=>w("file"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("file"===l?"".concat(a?"bg-gray-700 text-blue-400":"bg-white text-blue-600"," shadow-sm"):"".concat(a?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900")),children:"Upload File"})]})}),"text"===l?(0,lo.jsx)("textarea",{value:i,onChange:e=>o(e.target.value),placeholder:"Paste your marking scheme here...",className:"w-full h-40 p-4 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):(0,lo.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center",children:[(0,lo.jsx)("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>{const t=e.target.files[0];t&&(async e=>{d(!0),f("");try{const t=new FormData;t.append("file",e);const n=await Lt.post("".concat(ho,"/process-file"),t,{headers:{"Content-Type":"multipart/form-data"}});o(n.data.extracted_text),f("")}catch(h){f("Failed to process file. Please try pasting the text instead.")}finally{d(!1)}})(t)},className:"hidden",id:"file-upload"}),(0,lo.jsx)("label",{htmlFor:"file-upload",className:"bg-blue-500 text-white px-6 py-3 rounded-xl hover:bg-blue-600 transition-colors cursor-pointer",children:"Choose File"}),(0,lo.jsx)("p",{className:"text-gray-600 mt-2",children:"Supports PDF, JPG, PNG files"})]}),i&&(0,lo.jsx)("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-xl",children:(0,lo.jsx)("p",{className:"text-green-800 font-medium",children:"\u2713 Marking scheme loaded successfully"})}),(0,lo.jsx)("div",{className:"mt-6 text-center",children:(0,lo.jsx)("button",{onClick:async()=>{if(!0===t.requiresScheme&&!i.trim())return void f("This question type requires a marking scheme");d(!0),f(""),v(0);const e=setInterval((()=>{v((t=>t>=x.length-1?(clearInterval(e),t):t+1))}),1500);try{const n={question_type:t.id,student_response:t.studentResponse,marking_scheme:i||null};await r(n),clearInterval(e)}catch(h){clearInterval(e),f("Failed to evaluate submission. Please try again."),d(!1)}},disabled:u||!i.trim(),className:"bg-black text-white px-8 py-3 rounded-xl font-semibold hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"\ud83d\ude80 Get AI Feedback"})})]}),h&&(0,lo.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-red-700",children:h})]}),p&&(0,lo.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,lo.jsx)("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:(0,lo.jsxs)("div",{className:"text-center",children:[(0,lo.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,lo.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.98-.833-2.75 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,lo.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload File Warning"}),(0,lo.jsx)("p",{className:"text-gray-600 mb-6",children:"Uploading a file is not recommended for accuracy reasons. Text pasting provides better results and more reliable AI evaluation. Are you sure you want to continue with file upload?"}),(0,lo.jsxs)("div",{className:"flex space-x-3",children:[(0,lo.jsx)("button",{onClick:()=>{m(!1)},className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,lo.jsx)("button",{onClick:()=>{c("file"),m(!1)},className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors",children:"Upload File"})]})]})})})]})},ko=e=>{let{evaluation:t,onNewEvaluation:n,userPlan:r,darkMode:a}=e;const[i,o]=(0,s.useState)("Summary"),[l,c]=(0,s.useState)({open:!1,category:"overall"}),[u,d]=(0,s.useState)(!1),[h,f]=(0,s.useState)(null),[p,m]=(0,s.useState)(""),g=(Na(),(0,s.useRef)(null)),v=(0,s.useRef)(null);(0,s.useEffect)((()=>{const e=e=>{if(l.open){if("Escape"===e.key&&(e.preventDefault(),c({open:!1,category:"overall"}),f(null),m("")),"Enter"!==e.key||e.shiftKey||(e.preventDefault(),u||null===h||w()),"Tab"===e.key&&g.current){const t=g.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=t[0],r=t[t.length-1];e.shiftKey?document.activeElement===n&&(e.preventDefault(),r.focus()):document.activeElement===r&&(e.preventDefault(),n.focus())}}else"1"===e.key&&o("Summary"),"2"===e.key&&o("Strengths"),"3"===e.key&&o("Improvements"),"ArrowLeft"===e.key&&o((e=>"Strengths"===e?"Summary":"Improvements"===e?"Strengths":"Improvements")),"ArrowRight"===e.key&&o((e=>"Summary"===e?"Strengths":"Strengths"===e?"Improvements":"Summary"))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[l.open,u,h]),(0,s.useEffect)((()=>{l.open&&setTimeout((()=>{var e;null===(e=v.current)||void 0===e||e.focus()}),0)}),[l.open]);const y=(e=>{const t=e.match(/(\d+)\/(\d+)/g);if(t){let e=0,n=0;return t.forEach((t=>{const[r,s]=t.split("/").map(Number);e+=r,n+=s})),{score:e,maxScore:n,percentage:(e/n*100).toFixed(1)}}return{score:0,maxScore:40,percentage:0}})(t.grade),b=(x=y.percentage)>=90?"A*":x>=80?"A":x>=70?"B":x>=60?"C":x>=50?"D":x>=40?"E":"U";var x;const w=async()=>{if(t&&null!==h){d(!0);try{await Lt.post("".concat(ho,"/feedback"),{evaluation_id:t.id||(null===t||void 0===t?void 0:t.evaluation_id)||(null===t||void 0===t?void 0:t.timestamp)||"unknown",user_id:t.user_id,category:l.category,accurate:!!h,comments:p||null}),c({open:!1,category:"overall"}),f(null),m("")}catch(Ga){console.error("Feedback submit failed",Ga)}finally{d(!1)}}};return(0,lo.jsxs)("div",{className:"min-h-screen ".concat(a?"bg-black":"bg-gray-50"," p-4"),children:[(0,lo.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,lo.jsxs)("div",{className:"".concat(a?"bg-black border-gray-700":"bg-white border-gray-100"," rounded-2xl p-8 mb-6 shadow-sm border"),children:[(0,lo.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,lo.jsx)("h2",{className:"text-xl font-semibold ".concat(a?"text-white":"text-gray-900"),children:"Overall Score"}),(0,lo.jsxs)("div",{className:"text-2xl font-bold ".concat(a?"text-white":"text-gray-900"),children:["Grade ",b]})]}),(0,lo.jsxs)("div",{className:"flex flex-col items-center justify-center py-6",children:[(0,lo.jsxs)("div",{className:"text-6xl font-extrabold text-blue-600 mb-2",children:[y.score,"/",y.maxScore]}),(0,lo.jsx)("div",{className:"text-blue-600 text-lg font-semibold",children:"Total Score"})]}),(0,lo.jsx)("div",{className:"w-full h-3 ".concat(a?"bg-gray-700":"bg-gray-200"," rounded-full mt-2 mb-1"),children:(0,lo.jsx)("div",{className:"h-3 rounded-full bg-blue-500 transition-all duration-500",style:{width:"".concat(Math.min(y.percentage,100),"%")}})}),(0,lo.jsx)("div",{className:"flex flex-wrap justify-center gap-6 mt-4",children:(e=>{if(!e)return[];const t={igcse_writers_effect:{READING:15},igcse_descriptive:{READING:16,WRITING:24},igcse_narrative:{READING:16,WRITING:24},igcse_summary:{READING:10,WRITING:5},alevel_directed:{AO1:5,AO2:5},alevel_directed_writing:{AO1:5,AO2:5},alevel_comparative:{AO1:5,AO3:10},alevel_text_analysis:{AO1:5,AO3:20}},n=e.question_type,r=[];return({igcse_writers_effect:["READING"],igcse_descriptive:["READING","WRITING"],igcse_narrative:["READING","WRITING"],igcse_summary:["READING","WRITING"],alevel_directed:["AO1","AO2"],alevel_directed_writing:["AO1","AO2"],alevel_comparative:["AO1","AO3"],alevel_text_analysis:["AO1","AO3"]}[n]||[]).forEach((s=>{var a;let i="";"READING"===s&&(i=e.reading_marks||""),"WRITING"===s&&(i=e.writing_marks||""),"AO1"===s&&(i=e.ao1_marks||""),"AO2"===s&&(i=e.ao2_marks||""),"AO3"===s&&(i=e.ao2_marks||e.ao1_marks||"");const o=((e,t)=>{if(!e||"string"!==typeof e)return"";const n=e.replace(/\|/g," ").replace(/\s+/g," ").trim(),r=n.match(/(\d+)\s*\/\s*(\d+)/);if(r)return"".concat(r[1],"/").concat(r[2]);const s=n.match(/(\d+)\s*(?:out of|of)\s*(\d+)/i);if(s)return"".concat(s[1],"/").concat(s[2]);const a=n.match(/\d+/);return a&&t?"".concat(a[0],"/").concat(t):a?a[0]:""})(i,null===(a=t[n])||void 0===a?void 0:a[s]);o&&r.push({label:"READING"===s||"WRITING"===s?s.charAt(0)+s.slice(1).toLowerCase():s,value:o})})),r})(t).map(((e,t)=>(0,lo.jsxs)("div",{className:"text-center px-4 py-2 rounded-xl bg-green-50 border border-green-200",children:[(0,lo.jsx)("div",{className:"text-2xl font-extrabold text-green-700 tracking-tight",children:e.value}),(0,lo.jsx)("div",{className:"text-green-700 text-sm mt-0.5",children:e.label})]},e.label+t)))})]}),(0,lo.jsxs)("div",{className:"".concat(a?"bg-black border-gray-700":"bg-white border-gray-200"," rounded-xl p-4 mb-6 border flex items-center justify-between"),children:[(0,lo.jsx)("div",{className:"".concat(a?"text-gray-200":"text-gray-800"," font-medium"),children:"Was this marking accurate?"}),(0,lo.jsx)("button",{onClick:()=>c({open:!0,category:"overall"}),className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:"Give feedback"})]}),(0,lo.jsxs)("div",{className:"".concat(a?"bg-black border-gray-700":"bg-white border-gray-100"," rounded-2xl p-6 mb-6 shadow-sm border"),children:[(0,lo.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,lo.jsx)("h2",{className:"text-xl font-semibold ".concat(a?"text-white":"text-gray-900"),children:"Detailed Feedback"})}),(0,lo.jsx)("div",{className:"flex border-b border-gray-200 mb-6",children:["Summary","Strengths","Improvements"].map((e=>(0,lo.jsx)("button",{onClick:()=>o(e),className:"px-6 py-3 font-medium transition-colors border-b-2 ".concat(i===e?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:e},e)))}),(0,lo.jsxs)("div",{className:"min-h-[200px]",children:["Summary"===i&&(0,lo.jsxs)("div",{className:"space-y-4",children:[(0,lo.jsx)("h4",{className:"font-semibold text-gray-800 mb-4",children:"Detailed Feedback"}),(0,lo.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,lo.jsx)("ul",{className:"list-disc pl-5 text-gray-700 leading-relaxed space-y-2",children:(e=>{if(!e)return[];return e.split(/[.!?]+/).map((e=>e.trim())).filter((e=>e.length>10)).slice(0,10)})(t.feedback)})})]}),"Strengths"===i&&(0,lo.jsxs)("div",{className:"space-y-4",children:[(0,lo.jsx)("h4",{className:"font-semibold text-green-800 mb-4",children:"What You Did Well"}),(0,lo.jsx)("div",{className:"space-y-3",children:(()=>{let e=[];if(t.strengths&&Array.isArray(t.strengths))e=t.strengths.filter((e=>e&&e.trim()&&e.trim().length>0));else if(t.strengths&&"string"===typeof t.strengths){const n=t.strengths.trim();n.includes("|")?e=n.split("|").map((e=>e.trim())).filter((e=>e&&e.length>0)):n.includes("\n")?e=n.split("\n").map((e=>e.trim())).filter((e=>e&&e.length>0)):n&&n.length>0&&(e=[n])}return e=e.filter((e=>e&&e.trim()&&e.trim().length>0)),e.length>0?e.map(((e,t)=>(0,lo.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 hover:bg-green-100 transition-colors",children:(0,lo.jsxs)("div",{className:"flex items-start",children:[(0,lo.jsx)("div",{className:"flex-shrink-0 w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:t+1}),(0,lo.jsx)("div",{className:"flex-1",children:(0,lo.jsx)("p",{className:"text-green-800 font-medium leading-relaxed",children:e})})]})},t))):(0,lo.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,lo.jsxs)("p",{className:"text-green-700 text-center",children:["No specific strengths identified in this evaluation.",t.strengths&&(0,lo.jsx)("span",{className:"block text-xs text-gray-500 mt-2"})]})})})()})]}),"Improvements"===i&&(0,lo.jsxs)("div",{className:"space-y-4",children:[(0,lo.jsx)("h4",{className:"font-semibold text-yellow-800 mb-4",children:"Areas for Improvement"}),(0,lo.jsx)("div",{className:"space-y-3",children:t.improvement_suggestions&&t.improvement_suggestions.length>0?t.improvement_suggestions.flatMap(((e,t)=>{const n=e.split(/\s*(?=\d+\.)/g).map((e=>e.trim())).filter(Boolean);return n.map(((e,n)=>(0,lo.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 hover:bg-yellow-100 transition-colors",children:(0,lo.jsxs)("div",{className:"flex items-start",children:[(0,lo.jsx)("div",{className:"flex-shrink-0 w-6 h-6 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:n+1}),(0,lo.jsx)("div",{className:"flex-1",children:(0,lo.jsx)("p",{className:"text-yellow-800 font-medium leading-relaxed",children:e.replace(/^(\d+\.)\s*/,"")})})]})},t+"-"+n)))})):(0,lo.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,lo.jsx)("p",{className:"text-yellow-700 text-center",children:"No specific improvements suggested. Great work!"})})})]})]})]}),(0,lo.jsx)("div",{className:"text-center",children:(0,lo.jsx)("button",{onClick:n,className:"bg-black text-white px-8 py-4 rounded-xl font-semibold hover:bg-gray-800 transition-colors",children:"Start New Question"})})]}),"Strengths"===i&&(0,lo.jsxs)("div",{className:"".concat(a?"bg-black border-gray-700":"bg-white border-gray-200"," rounded-xl p-4 mb-6 border flex items-center justify-between"),children:[(0,lo.jsx)("div",{className:"".concat(a?"text-gray-200":"text-gray-800"," font-medium"),children:"Was this strengths summary accurate?"}),(0,lo.jsx)("button",{onClick:()=>c({open:!0,category:"strengths"}),className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:"Give feedback"})]}),"Improvements"===i&&(0,lo.jsxs)("div",{className:"".concat(a?"bg-black border-gray-700":"bg-white border-gray-200"," rounded-xl p-4 mb-6 border flex items-center justify-between"),children:[(0,lo.jsx)("div",{className:"".concat(a?"text-gray-200":"text-gray-800"," font-medium"),children:"Was this improvements summary accurate?"}),(0,lo.jsx)("button",{onClick:()=>c({open:!0,category:"improvements"}),className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:"Give feedback"})]}),l.open&&(0,lo.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",role:"dialog","aria-modal":"true","aria-label":"Feedback on marking accuracy",children:(0,lo.jsxs)("div",{ref:g,className:"".concat(a?"bg-black text-white border-gray-700":"bg-white text-gray-900"," border rounded-2xl p-6 max-w-md mx-4 shadow-xl w-full"),children:[(0,lo.jsxs)("h3",{className:"text-lg font-semibold mb-2",children:["overall"===l.category&&"Was this marking accurate?","strengths"===l.category&&"Was this strengths summary accurate?","improvements"===l.category&&"Was this improvements summary accurate?"]}),(0,lo.jsxs)("div",{className:"flex gap-3 mt-3",children:[(0,lo.jsx)("button",{ref:v,onClick:()=>f(!0),className:"px-4 py-2 rounded-lg border ".concat(!0===h?"bg-green-600 text-white":"bg-transparent"),"aria-pressed":!0===h,children:"Yes"}),(0,lo.jsx)("button",{onClick:()=>f(!1),className:"px-4 py-2 rounded-lg border ".concat(!1===h?"bg-red-600 text-white":"bg-transparent"),"aria-pressed":!1===h,children:"No"})]}),(0,lo.jsx)("textarea",{value:p,onChange:e=>m(e.target.value),placeholder:"Optional comments",className:"".concat(a?"bg-black border-gray-700 text-white":"bg-white border-gray-300 text-gray-900"," mt-4 w-full border rounded-lg p-3"),rows:3,"aria-label":"Additional comments"}),(0,lo.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,lo.jsx)("button",{onClick:()=>{c({open:!1,category:"overall"}),f(null),m("")},className:"px-4 py-2 rounded-lg border","aria-label":"Cancel feedback",children:"Cancel"}),(0,lo.jsx)("button",{onClick:w,disabled:u||null===h,className:"px-4 py-2 rounded-lg ".concat(u||null===h?"bg-gray-300":"bg-blue-600 text-white"),"aria-disabled":u||null===h,children:u?"Submitting...":"Submit"})]})]})})]})},jo=e=>{let{isOpen:t,onClose:n,message:r,darkMode:s}=e;return t?(0,lo.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,lo.jsxs)("div",{className:"".concat(s?"bg-black text-white border border-gray-700":"bg-white text-gray-900"," rounded-2xl p-6 max-w-md mx-4 shadow-xl"),children:[(0,lo.jsxs)("div",{className:"flex items-center mb-4",children:[(0,lo.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:(0,lo.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,lo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.98-.833-2.75 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,lo.jsx)("h3",{className:"text-lg font-semibold ".concat(s?"text-white":"text-gray-900"),children:"Essay Error"})]}),(0,lo.jsx)("p",{className:"".concat(s?"text-gray-200":"text-gray-700"," mb-6 leading-relaxed"),children:r}),(0,lo.jsx)("div",{className:"flex justify-end",children:(0,lo.jsx)("button",{onClick:n,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Got it"})})]})}):null},No=()=>{const[e,t]=(0,s.useState)("dashboard"),n=Sa(),[r,a]=(0,s.useState)([]),[i,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(null),[u,h]=(0,s.useState)(!1),[f,p]=(0,s.useState)(null),[m,g]=(0,s.useState)(!1),[v,y]=(0,s.useState)(!1),[b,x]=(0,s.useState)(""),[w,k]=(0,s.useState)(!1),[j,N]=(0,s.useState)({questionsMarked:0,credits:3,currentPlan:"free"}),_=e=>{let{onDiscord:t,onGoogle:n}=e;const r="https://ik.imagekit.io/lqf8a8nmt/ChatGPT%20Image%20Aug%2018,%202025,%2003_21_43%20PM.png?updatedAt=1755510822988",[a,i]=(0,s.useState)(!1),o="https://ik.imagekit.io/lqf8a8nmt/Screenshot%202025-08-17%20at%2012-17-17%20EnglishGPT%20-%20AI%20English%20Marking.png?updatedAt=1755509276805",l="https://ik.imagekit.io/lqf8a8nmt/Screenshot%202025-08-17%20at%2012-10-47%20EnglishGPT%20-%20AI%20English%20Marking.png?updatedAt=1755509276693",c="https://ik.imagekit.io/lqf8a8nmt/Screenshot%202025-08-17%20at%2012-17-35%20EnglishGPT%20-%20AI%20English%20Marking.png?updatedAt=1755509276578";return(0,lo.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[(0,lo.jsxs)("div",{className:"absolute inset-0 -z-10",children:[(0,lo.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white via-[#F7F2FF] to-white"}),(0,lo.jsxs)("div",{className:"pointer-events-none select-none",children:[(0,lo.jsx)("div",{className:"absolute -top-16 -left-10 h-72 w-72 rounded-3xl bg-purple-500/20 backdrop-blur-md border border-purple-300/30 shadow-2xl shadow-purple-500/10 rotate-6"}),(0,lo.jsx)("div",{className:"absolute top-40 left-1/3 h-40 w-40 rounded-2xl bg-purple-400/20 backdrop-blur-md border border-purple-300/30 shadow-xl shadow-purple-400/10 -rotate-6"}),(0,lo.jsx)("div",{className:"absolute -right-12 top-20 h-80 w-80 rounded-3xl bg-purple-600/20 backdrop-blur-md border border-purple-300/30 shadow-2xl shadow-purple-600/10 rotate-12"}),(0,lo.jsx)("div",{className:"absolute bottom-10 right-1/4 h-56 w-56 rounded-3xl bg-purple-500/15 backdrop-blur-md border border-purple-300/30 shadow-2xl shadow-purple-500/10 -rotate-3"})]})]}),(0,lo.jsx)("header",{className:"relative",children:(0,lo.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between py-5 px-4 sm:px-6 lg:px-8",children:[(0,lo.jsxs)("div",{className:"flex items-center gap-3",children:[(0,lo.jsx)("img",{src:r,alt:"EnglishGPT logo",className:"w-9 h-9 rounded-xl object-cover shadow-lg shadow-purple-600/20"}),(0,lo.jsx)("span",{className:"font-fredoka font-bold text-xl text-gray-900",children:"EnglishGPT"})]}),(0,lo.jsxs)("nav",{className:"hidden md:flex items-center gap-6 text-gray-700",children:[(0,lo.jsx)("a",{href:"#features",className:"hover:text-gray-900",children:"Features"}),(0,lo.jsx)("a",{href:"#how",className:"hover:text-gray-900",children:"How it works"}),(0,lo.jsx)("a",{href:"#testimonials",className:"hover:text-gray-900",children:"Testimonials"}),(0,lo.jsx)("a",{href:"#faq",className:"hover:text-gray-900",children:"FAQ"})]}),(0,lo.jsx)("div",{className:"flex items-center gap-3",children:(0,lo.jsx)("button",{onClick:()=>i(!0),className:"px-4 py-2 rounded-xl text-white bg-gradient-to-br from-purple-500 to-purple-700 shadow-lg shadow-purple-600/30 hover:shadow-purple-600/40",children:"Get Started"})})]})}),(0,lo.jsx)("section",{className:"relative",children:(0,lo.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24",children:(0,lo.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[(0,lo.jsxs)("div",{children:[(0,lo.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-purple-500/10 border border-purple-300/40 text-purple-700 text-xs mb-4 backdrop-blur-md",children:[(0,lo.jsx)("span",{className:"h-2 w-2 rounded-full bg-purple-600"}),"IGCSE & A-Level aligned"]}),(0,lo.jsx)("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight mb-4 text-gray-900",children:"AI English Marking"}),(0,lo.jsx)("p",{className:"text-lg text-gray-700/90 mb-6",children:"Master English with transparent, AI\u2011powered marking"}),(0,lo.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,lo.jsx)("button",{onClick:()=>i(!0),className:"px-6 py-3 rounded-xl text-white bg-gradient-to-br from-purple-500 to-purple-700 shadow-lg shadow-purple-600/30 hover:shadow-purple-600/40",children:"Get Started"}),(0,lo.jsx)("button",{onClick:()=>i(!0),className:"px-6 py-3 rounded-xl border border-purple-300/60 text-purple-700 hover:bg-purple-50/70 backdrop-blur-md",children:"Start Marking"})]}),(0,lo.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"No credit card required. Cheap & Simple ."}),(0,lo.jsx)("div",{className:"mt-8 grid grid-cols-3 gap-6",children:[{label:"Avg. improvement",value:"+27%"},{label:"Marking speed",value:"< 30s"},{label:"Simple Pricing",value:"Just $4.99/m"}].map(((e,t)=>(0,lo.jsxs)("div",{className:"rounded-2xl p-4 bg-purple-400/10 border border-purple-300/40 backdrop-blur-md",children:[(0,lo.jsx)("div",{className:"text-sm text-gray-600",children:e.label}),(0,lo.jsx)("div",{className:"text-xl font-bold text-gray-900 mt-1",children:e.value})]},t)))})]}),(0,lo.jsx)("div",{children:(0,lo.jsxs)("div",{className:"relative h-[420px] md:h-[460px]",children:[(0,lo.jsx)("div",{className:"absolute left-0 top-0 right-6 rounded-3xl p-2 sm:p-4 bg-white/70 backdrop-blur-xl border border-purple-200/60 shadow-xl shadow-purple-600/10",children:(0,lo.jsx)("img",{src:o,alt:"Detailed strengths preview",loading:"lazy",className:"w-full h-auto rounded-2xl border border-purple-200/60",onError:e=>{e.currentTarget.style.display="none"}})}),(0,lo.jsx)("div",{className:"absolute -right-2 md:-right-6 top-24 w-1/2 rounded-2xl p-2 bg-purple-500/10 border border-purple-300/40 backdrop-blur-md shadow-lg shadow-purple-600/10 rotate-3",children:(0,lo.jsx)("img",{src:c,alt:"Marking interface preview",loading:"lazy",className:"w-full h-auto rounded-xl border border-purple-200/60",onError:e=>{e.currentTarget.style.display="none"}})}),(0,lo.jsx)("div",{className:"absolute left-3 bottom-2 w-2/3 rounded-2xl p-2 bg-purple-500/10 border border-purple-300/40 backdrop-blur-md shadow-lg shadow-purple-600/10 -rotate-3",children:(0,lo.jsx)("img",{src:l,alt:"Write page preview",loading:"lazy",className:"w-full h-auto rounded-xl border border-purple-200/60",onError:e=>{e.currentTarget.style.display="none"}})})]})})]})})}),(0,lo.jsx)("section",{id:"features",className:"relative py-12",children:(0,lo.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-10",children:[(0,lo.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[(0,lo.jsxs)("div",{children:[(0,lo.jsx)("h3",{className:"text-2xl font-fredoka font-bold text-gray-900 mb-3",children:"Write with clarity and confidence"}),(0,lo.jsx)("p",{className:"text-gray-700 mb-4",children:"Draft directly in a distraction\u2011free editor. Auto\u2011save, undo/redo, and structured prompts help you start fast and stay focused."}),(0,lo.jsx)("ul",{className:"space-y-2 text-sm text-gray-700",children:["Clean, student\u2011friendly editor","Keyboard shortcuts for speed","Instant evaluate when ready"].map(((e,t)=>(0,lo.jsxs)("li",{className:"flex items-start gap-2",children:[(0,lo.jsx)("span",{className:"h-5 w-5 rounded-full bg-green-500 text-white text-xs flex items-center justify-center mt-0.5",children:"\u2713"}),e]},t)))})]}),(0,lo.jsx)("div",{className:"rounded-3xl p-3 bg-white/70 backdrop-blur-xl border border-purple-200/60 shadow-xl shadow-purple-600/10",children:(0,lo.jsx)("img",{src:l,alt:"Write",loading:"lazy",className:"w-full h-auto rounded-2xl border border-purple-200/60"})})]}),(0,lo.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[(0,lo.jsx)("div",{className:"order-2 md:order-1 rounded-3xl p-3 bg-white/70 backdrop-blur-xl border border-purple-200/60 shadow-xl shadow-purple-600/10",children:(0,lo.jsx)("img",{src:o,alt:"Strengths",loading:"lazy",className:"w-full h-auto rounded-2xl border border-purple-200/60"})}),(0,lo.jsxs)("div",{className:"order-1 md:order-2",children:[(0,lo.jsx)("h3",{className:"text-2xl font-fredoka font-bold text-gray-900 mb-3",children:"Crystal\u2011clear, criteria\u2011aligned feedback"}),(0,lo.jsx)("p",{className:"text-gray-700 mb-4",children:"Understand exactly what worked with strengths pulled straight from exam standards, and know what to do next."}),(0,lo.jsx)("ul",{className:"space-y-2 text-sm text-gray-700",children:["Transparent marks across components","Short, actionable strengths","Improvement suggestions that compound"].map(((e,t)=>(0,lo.jsxs)("li",{className:"flex items-start gap-2",children:[(0,lo.jsx)("span",{className:"h-5 w-5 rounded-full bg-green-500 text-white text-xs flex items-center justify-center mt-0.5",children:"\u2713"}),e]},t)))})]})]}),(0,lo.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[(0,lo.jsxs)("div",{children:[(0,lo.jsx)("h3",{className:"text-2xl font-fredoka font-bold text-gray-900 mb-3",children:"A marking view that builds confidence"}),(0,lo.jsx)("p",{className:"text-gray-700 mb-4",children:"See where your marks come from and how to reach the next band. Progress tracking keeps you motivated."}),(0,lo.jsx)("ul",{className:"space-y-2 text-sm text-gray-700",children:["Band descriptors made visual","Trend lines for your progress","Sharable results when you\u2019re proud"].map(((e,t)=>(0,lo.jsxs)("li",{className:"flex items-start gap-2",children:[(0,lo.jsx)("span",{className:"h-5 w-5 rounded-full bg-green-500 text-white text-xs flex items-center justify-center mt-0.5",children:"\u2713"}),e]},t)))})]}),(0,lo.jsx)("div",{className:"rounded-3xl p-3 bg-white/70 backdrop-blur-xl border border-purple-200/60 shadow-xl shadow-purple-600/10",children:(0,lo.jsx)("img",{src:c,alt:"Marking",loading:"lazy",className:"w-full h-auto rounded-2xl border border-purple-200/60"})})]}),(0,lo.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[(0,lo.jsx)("div",{className:"order-2 md:order-1 rounded-3xl p-3 bg-white/70 backdrop-blur-xl border border-purple-200/60 shadow-xl shadow-purple-600/10",children:(0,lo.jsx)("img",{src:"https://ik.imagekit.io/lqf8a8nmt/Screenshot%202025-08-17%20at%2012-11-06%20EnglishGPT%20-%20AI%20English%20Marking.png?updatedAt=1755509276757",alt:"Pricing",loading:"lazy",className:"w-full h-auto rounded-2xl border border-purple-200/60"})}),(0,lo.jsxs)("div",{className:"order-1 md:order-2",children:[(0,lo.jsx)("h3",{className:"text-2xl font-fredoka font-bold text-gray-900 mb-3",children:"Simple pricing, built for students"}),(0,lo.jsx)("p",{className:"text-gray-700 mb-4",children:"Unlimited marking with monthly or yearly options. Cancel anytime \u2014 no hidden fees."}),(0,lo.jsx)("ul",{className:"space-y-2 text-sm text-gray-700",children:["Unlimited submissions","Priority support on yearly","Secure payments"].map(((e,t)=>(0,lo.jsxs)("li",{className:"flex items-start gap-2",children:[(0,lo.jsx)("span",{className:"h-5 w-5 rounded-full bg-green-500 text-white text-xs flex items-center justify-center mt-0.5",children:"\u2713"}),e]},t)))})]})]})]})}),(0,lo.jsx)("section",{id:"testimonials",className:"relative py-12",children:(0,lo.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lo.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:[{q:"I went from a C to an A in 6 weeks. The feedback was clear and motivating.",name:"Student, IGCSE"},{q:"The marks map perfectly to our rubrics. Saves me hours of grading.",name:"Teacher, A\u2011Level"},{q:"Finally understood what \u201canalysis\u201d really meant. The step\u2011by\u2011step tips are gold.",name:"Student, A\u2011Level"}].map(((e,t)=>(0,lo.jsxs)("div",{className:"rounded-2xl p-6 bg-white/70 backdrop-blur-xl border border-purple-200/60 shadow-md shadow-purple-600/10",children:[(0,lo.jsx)("div",{className:"flex items-center gap-1 text-yellow-500 mb-2",children:Array.from({length:5}).map(((e,t)=>(0,lo.jsx)("span",{children:"\u2605"},t)))}),(0,lo.jsxs)("p",{className:"text-gray-800",children:["\u201c",e.q,"\u201d"]}),(0,lo.jsx)("div",{className:"text-xs text-gray-500 mt-3",children:e.name})]},t)))})})}),(0,lo.jsx)("section",{id:"faq",className:"relative py-12",children:(0,lo.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lo.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:[{q:"Is this aligned to exam criteria?",a:"Yes. We align to IGCSE and A\u2011Level descriptors and show transparent marks."},{q:"Is my data private?",a:"Yes. We keep your submissions secure and never sell your data."},{q:"How fast is the feedback?",a:"You usually get marks and guidance in under 10 seconds."},{q:"Can teachers use this?",a:"Yes. Many teachers use it to save time and guide students faster."}].map(((e,t)=>(0,lo.jsxs)("details",{className:"rounded-2xl p-5 bg-white/70 backdrop-blur-xl border border-purple-200/60 shadow-md shadow-purple-600/10",children:[(0,lo.jsx)("summary",{className:"cursor-pointer list-none font-semibold text-gray-900",children:e.q}),(0,lo.jsx)("div",{className:"text-gray-700 text-sm mt-2",children:e.a})]},t)))})})}),(0,lo.jsx)("section",{className:"relative py-14",children:(0,lo.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,lo.jsxs)("div",{className:"rounded-3xl p-8 md:p-12 bg-gradient-to-br from-purple-500/20 to-purple-700/20 border border-purple-300/40 backdrop-blur-xl shadow-xl shadow-purple-600/20 flex flex-col md:flex-row items-center justify-between",children:[(0,lo.jsxs)("div",{children:[(0,lo.jsx)("h3",{className:"font-bold text-2xl mb-2 text-gray-900",children:"Ready to improve faster?"}),(0,lo.jsx)("p",{className:"text-gray-700",children:"Sign in and start marking in under a minute."})]}),(0,lo.jsxs)("div",{className:"mt-6 md:mt-0 flex gap-3",children:[(0,lo.jsx)("button",{onClick:()=>i(!0),className:"px-6 py-3 rounded-xl text-white bg-gradient-to-br from-purple-500 to-purple-700 shadow-lg shadow-purple-600/30 hover:shadow-purple-600/40",children:"Get Started"}),(0,lo.jsx)("button",{onClick:()=>i(!0),className:"px-6 py-3 rounded-xl border border-purple-300/60 text-purple-700 hover:bg-purple-50/70 backdrop-blur-md",children:"Start Marking"})]})]})})}),(0,lo.jsx)("footer",{className:"relative border-t border-purple-200/50 bg-white/60 backdrop-blur-xl",children:(0,lo.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,lo.jsxs)("div",{className:"flex items-center gap-3",children:[(0,lo.jsx)("div",{className:"w-8 h-8 rounded-xl bg-gradient-to-br from-purple-500 to-purple-700 shadow-md shadow-purple-600/30"}),(0,lo.jsx)("span",{className:"font-fredoka font-semibold text-gray-900",children:"EnglishGPT"})]}),(0,lo.jsxs)("div",{className:"text-sm text-gray-600",children:["\xa9 ",(new Date).getFullYear()," EnglishGPT. All rights reserved."]})]})}),a&&(0,lo.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,lo.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>i(!1)}),(0,lo.jsxs)("div",{className:"relative w-full max-w-xl mx-4 rounded-2xl bg-white/95 backdrop-blur-xl border border-purple-200/60 shadow-2xl p-0 overflow-hidden auth-modal",children:[(0,lo.jsx)("div",{className:"px-6 pt-6 pb-4 border-b border-purple-200/60 bg-gradient-to-br from-white/60 to-purple-50/40",children:(0,lo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,lo.jsxs)("div",{className:"flex items-center gap-3",children:[(0,lo.jsx)("img",{src:r,alt:"EnglishGPT logo",className:"w-8 h-8 rounded-lg object-cover"}),(0,lo.jsxs)("div",{children:[(0,lo.jsx)("div",{className:"font-fredoka font-semibold text-gray-900",children:"Welcome"}),(0,lo.jsx)("div",{className:"text-xs text-gray-600",children:"Sign in to continue to your dashboard"})]})]}),(0,lo.jsx)("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>i(!1),children:"\u2715"})]})}),(0,lo.jsxs)("div",{className:"px-6 py-5 grid md:grid-cols-2 gap-6",children:[(0,lo.jsxs)("div",{className:"order-2 md:order-1",children:[(0,lo.jsx)("div",{className:"text-sm text-gray-700 mb-3 font-medium",children:"Why sign in?"}),(0,lo.jsxs)("ul",{className:"text-sm text-gray-700 space-y-2",children:[(0,lo.jsxs)("li",{className:"flex items-start gap-2",children:[(0,lo.jsx)("span",{className:"h-5 w-5 rounded-full bg-green-500 text-white text-xs flex items-center justify-center mt-0.5",children:"\u2713"}),"Save your results and track progress"]}),(0,lo.jsxs)("li",{className:"flex items-start gap-2",children:[(0,lo.jsx)("span",{className:"h-5 w-5 rounded-full bg-green-500 text-white text-xs flex items-center justify-center mt-0.5",children:"\u2713"}),"Unlock analytics and recommendations"]}),(0,lo.jsxs)("li",{className:"flex items-start gap-2",children:[(0,lo.jsx)("span",{className:"h-5 w-5 rounded-full bg-green-500 text-white text-xs flex items-center justify-center mt-0.5",children:"\u2713"}),"Switch devices seamlessly"]})]}),(0,lo.jsx)("div",{className:"text-[11px] text-gray-500 mt-4",children:"By continuing you agree to our terms and privacy policy."})]}),(0,lo.jsxs)("div",{className:"order-1 md:order-2 space-y-3",children:[(0,lo.jsxs)("button",{className:"discord-btn",onClick:()=>{i(!1),t()},children:["Continue with Discord",(0,lo.jsx)("span",{"aria-hidden":"true",children:(0,lo.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",children:(0,lo.jsx)("path",{d:"M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"})})})]}),(0,lo.jsxs)("button",{className:"google-btn",onClick:()=>{i(!1),n()},children:[(0,lo.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",viewBox:"0 0 256 262",className:"svg",children:[(0,lo.jsx)("path",{fill:"#4285F4",d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027",className:"blue"}),(0,lo.jsx)("path",{fill:"#34A853",d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1",className:"green"}),(0,lo.jsx)("path",{fill:"#FBBC05",d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782",className:"yellow"}),(0,lo.jsx)("path",{fill:"#EB4335",d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251",className:"red"})]}),(0,lo.jsx)("span",{className:"text",children:"Sign in with Google"})]})]})]}),(0,lo.jsx)("style",{children:'\n                .auth-modal .discord-btn {\n                  max-width: 320px;\n                  display: flex;\n                  overflow: hidden;\n                  position: relative;\n                  padding: 0.875rem 72px 0.875rem 1.75rem;\n                  background-color: rgba(88,101,242,1);\n                  background-image: linear-gradient(to top right,rgb(46,56,175),rgb(82,93,218));\n                  color: #ffffff;\n                  font-size: 15px;\n                  line-height: 1.25rem;\n                  font-weight: 700;\n                  text-align: center;\n                  text-transform: uppercase;\n                  vertical-align: middle;\n                  align-items: center;\n                  border-radius: 0.5rem;\n                  gap: 0.75rem;\n                  box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);\n                  border: none;\n                  transition: all .6s ease;\n                  width: 100%;\n                }\n                .auth-modal .discord-btn span{background-color: rgb(82,93,218);display:grid;position:absolute;right:0;place-items:center;width:3rem;height:100%;}\n                .auth-modal .discord-btn span svg{width:1.5rem;height:1.5rem;color:#fff}\n                .auth-modal .discord-btn:hover{box-shadow:0 4px 30px rgba(4,175,255,.1),0 2px 30px rgba(11,158,255,.06)}\n\n                .auth-modal .google-btn{padding:10px;font-weight:bold;display:flex;position:relative;overflow:hidden;border-radius:35px;align-items:center;border:2px solid black;outline:none;width:100%;max-width:320px;background:#fff}\n                .auth-modal .google-btn .svg{height:25px;margin-right:10px}\n                .auth-modal .google-btn .text{z-index:10;font-size:14px}\n                .auth-modal .google-btn:hover .text{animation:text 0.3s forwards}\n                @keyframes text{from{color:black}to{color:white}}\n                .auth-modal .google-btn .svg{z-index:6}\n                .auth-modal .google-btn:hover::before{content:"";display:block;position:absolute;top:50%;left:9%;transform:translate(-50%,-50%);width:0;height:0;opacity:0;border-radius:300px;animation:wave1 2.5s ease-in-out forwards}\n                .auth-modal .google-btn:hover::after{content:"";display:block;position:absolute;top:50%;left:9%;transform:translate(-50%,-50%);width:0;height:0;opacity:0;border-radius:300px;animation:wave2 2.5s ease-in-out forwards}\n                @keyframes wave1{0%{z-index:1;background:#EB4335;width:0;height:0;opacity:1}1%{z-index:1;background:#EB4335;width:0;height:0;opacity:1}25%{z-index:1;background:#EB4335;width:800px;height:800px;opacity:1}26%{z-index:3;background:#34A853;width:0;height:0;opacity:1}50%{z-index:3;background:#34A853;width:800px;height:800px;opacity:1}70%{z-index:3;background:#34A853;width:800px;height:800px;opacity:1}100%{z-index:3;background:#34A853;width:800px;height:800px;opacity:1}}\n                @keyframes wave2{0%{z-index:2;background:#FBBC05;width:0;height:0;opacity:1}11%{z-index:2;background:#FBBC05;width:0;height:0;opacity:1}35%{z-index:2;background:#FBBC05;width:800px;height:800px;opacity:1}39%{z-index:2;background:#FBBC05;width:800px;height:800px;opacity:1}40%{z-index:4;background:#4285F4;width:0;height:0;opacity:1}64%{z-index:4;background:#4285F4;width:800px;height:800px;opacity:1}100%{z-index:4;background:#4285F4;width:800px;height:800px;opacity:1}}\n                .auth-modal .google-btn:hover .red{animation:disappear 0.1s forwards;animation-delay:0.1s}\n                .auth-modal .google-btn:hover .yellow{animation:disappear 0.1s forwards;animation-delay:0.3s}\n                .auth-modal .google-btn:hover .green{animation:disappear 0.1s forwards;animation-delay:0.7s}\n                .auth-modal .google-btn:hover .blue{animation:disappear 0.1s forwards;animation-delay:1.1s}\n                @keyframes disappear{from{filter:brightness(1)}to{filter:brightness(100)}}\n              '})]})]})]})},[S,E]=(0,s.useState)([]),[C,T]=(0,s.useState)(null),[P,O]=(0,s.useState)(!0),[A,R]=(0,s.useState)(!1),[L,I]=(0,s.useState)({open:!1,category:"overall"}),[D,U]=(0,s.useState)(!1),[M,z]=(0,s.useState)(null),[F,B]=(0,s.useState)(""),[W,q]=(0,s.useState)({userUpdate:!1,dataLoad:!1,planUpdate:!1,historyLoad:!1,fileUpload:!1}),H=(e,t)=>{q((n=>d(d({},n),{},{[e]:t})))},K=Na(),V={pricing:"pricing",history:"history",analytics:"analytics",write:"questionTypes"},G={pricing:"pricing",history:"history",analytics:"analytics",questionTypes:"write"};(0,s.useEffect)((()=>{const n=K&&K.pathname||"";if(n.startsWith("/results/"))return;if(!n.startsWith("/dashboard"))return;const r=(new URLSearchParams(K&&K.search||"").get("tab")||"").toLowerCase();r&&V[r]?e!==V[r]&&t(V[r]):"dashboard"!==e&&t("dashboard")}),[K.pathname,K.search]),(0,s.useEffect)((()=>{const t=K&&K.pathname||"";if(t.startsWith("/results/"))return;const r=G[e];if(r){new URLSearchParams(K&&K.search||"").get("tab")===r&&t.startsWith("/dashboard")||n("/dashboard?tab=".concat(r),{replace:!0})}}),[e]);const[$,J]=(0,s.useState)([]),[Q,Y]=(0,s.useState)(-1),[X,Z]=(0,s.useState)("");(0,s.useEffect)((()=>{const n=n=>{const r=document.activeElement,s=r&&("INPUT"===r.tagName||"TEXTAREA"===r.tagName||"true"===r.contentEditable);if(!n.ctrlKey||"z"!==n.key||n.shiftKey||!s){if(n.ctrlKey&&"y"===n.key||n.ctrlKey&&n.shiftKey&&"Z"===n.key){if(s)return;n.preventDefault(),Q<$.length-1&&(Y(Q+1),Z($[Q+1]))}if(s||(n.altKey&&"1"===n.key&&(n.preventDefault(),t("dashboard")),n.altKey&&"2"===n.key&&(n.preventDefault(),t("analytics")),n.altKey&&"3"===n.key&&(n.preventDefault(),t("history")),n.altKey&&"4"===n.key&&(n.preventDefault(),t("account")),"Escape"===n.key&&(n.preventDefault(),w?k(!1):v?y(!1):"dashboard"!==e&&t("dashboard")),("?"===n.key||n.shiftKey&&"/"===n.key)&&(n.preventDefault(),k(!0))),n.ctrlKey&&"s"===n.key&&n.preventDefault(),n.ctrlKey&&"Enter"===n.key&&s&&"TEXTAREA"===r.tagName){n.preventDefault();const e=document.querySelector('button[type="submit"], button:contains("Submit"), button:contains("Evaluate")');e&&e.click()}}};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)}),[Q,$,e,v,w]);const ee=["\ud83e\udd16 AI is analyzing your essay...","\ud83d\udcdd Checking grammar and structure...","\ud83c\udfaf Evaluating content quality...","\u2728 Analyzing writing style and flow...","\ud83d\udd0d Examining vocabulary usage...","\ud83d\udcca Assessing argument structure...","\ud83c\udfad Reviewing literary techniques...","\ud83d\udca1 Identifying key strengths...","\ud83c\udfa8 Evaluating descriptive language...","\ud83e\udde0 Processing complex ideas...","\ud83d\udcd6 Checking coherence and clarity...","\ud83c\udfc6 Measuring against marking criteria...","\ud83c\udf1f Crafting improvement suggestions...","\ud83c\udfaa Analyzing tone and mood...","\ud83d\udd2c Examining evidence and examples...","\ud83c\udfb5 Checking rhythm and pacing...","\ud83c\udf08 Evaluating creativity and originality...","\u26a1 Generating personalized feedback...","\u2b50 Finalizing detailed assessment...","\ud83c\udf89 Almost done! Preparing your results..."],[te,ne]=(0,s.useState)(0);(0,s.useEffect)((()=>{if(A){const e=setInterval((()=>{ne((e=>(e+1)%ee.length))}),2e3);return()=>clearInterval(e)}ne(0)}),[A,ee.length]),(0,s.useEffect)((()=>{(async()=>{try{const e=new URL(window.location.href),t=e.searchParams,n=new URLSearchParams((window.location.hash||"").replace(/^#/,"")),r=t.get("code")||n.get("code");if(r){const{data:t,error:n}=await Os.auth.exchangeCodeForSession(r),s=(await Os.auth.getUser(),e.search.replace(/([?&])code=[^&]*&?/,"$1").replace(/[?&]$/,""));window.history.replaceState({},document.title,window.location.pathname+s),window.location.hash&&window.history.replaceState({},document.title,window.location.pathname+s)}}catch(Ga){}})().finally((async()=>{try{var e;const{data:{session:t},error:n}=await Os.auth.getSession();null!==t&&void 0!==t&&null!==(e=t.user)&&void 0!==e&&e.id?(T(t.user),re(t.user),"undefined"!==typeof window&&"/"===window.location.pathname&&(window.location.href="https://englishgpt.everythingenglish.xyz/dashboard")):(T(null),N({questionsMarked:0,credits:3,currentPlan:"free"}),E([]))}catch(t){T(null),N({questionsMarked:0,credits:3,currentPlan:"free"}),E([])}finally{O(!1)}}));const{data:{subscription:e}}=Os.auth.onAuthStateChange(((e,t)=>{var r;switch(e){case"SIGNED_IN":case"INITIAL_SESSION":case"TOKEN_REFRESHED":null!==t&&void 0!==t&&null!==(r=t.user)&&void 0!==r&&r.id&&(T(t.user),re(t.user),window.history.replaceState({},document.title,window.location.pathname+window.location.search),"undefined"!==typeof window&&"/"===window.location.pathname&&(window.location.href="https://englishgpt.everythingenglish.xyz/dashboard"));break;default:T(null),N({questionsMarked:0,credits:3,currentPlan:"free"}),E([]),n("/",{replace:!0})}O(!1)}));return()=>e.unsubscribe()}),[]);const re=async e=>{if(e)if(e.id)if("undefined"!==e.id&&void 0!==e.id){H("dataLoad",!0);try{var t;const n={user_id:e.id,email:e.email,name:(null===(t=e.user_metadata)||void 0===t?void 0:t.full_name)||e.email},r=(await Lt.post("".concat(ho,"/users"),n)).data.user;T(r),N({questionsMarked:r.questions_marked||0,credits:r.credits||3,currentPlan:r.current_plan||"free"}),g(r.dark_mode||!1),H("historyLoad",!0);const s=await Lt.get("".concat(ho,"/history/").concat(e.id));E(s.data.evaluations||[]),H("historyLoad",!1)}catch(r){var n;console.error("Error loading user data:",r),console.error("Error details:",null===(n=r.response)||void 0===n?void 0:n.data)}finally{H("dataLoad",!1)}}else console.error("User ID is undefined:",e.id);else console.error("No user ID in supabaseUser:",e);else console.error("No user object provided to loadUserData")},se=async()=>{const e=(null===C||void 0===C?void 0:C.uid)||(null===C||void 0===C?void 0:C.id);if(!C||!e)return void console.error("Cannot update dark mode: user not ready");const t=!m;g(t);try{await Lt.put("".concat(ho,"/users/").concat(e,"/preferences"),{dark_mode:t})}catch(n){console.error("Error updating dark mode preference:",n)}},ae=async e=>{const t=(null===C||void 0===C?void 0:C.uid)||(null===C||void 0===C?void 0:C.id);if(!C||!t)return void console.error("Cannot update academic level: user not ready");const n=e.toLowerCase().replace(/[^a-z]/g,"");c(n);try{await Lt.put("".concat(ho,"/users/").concat(t),{academic_level:e})}catch(r){}},ie=async()=>{try{const{error:e}=await Os.auth.signOut();if(e)throw e;T(null)}catch(e){console.error("Error signing out:",e)}},oe=s=>{let{children:a}=s;return P?(0,lo.jsx)("div",{className:"min-h-screen ".concat(m?"bg-gray-900 text-white":"bg-main"," flex items-center justify-center"),children:(0,lo.jsxs)("div",{className:"text-center",children:[(0,lo.jsx)("div",{className:"loading-animation",children:(0,lo.jsxs)("div",{className:"loading-dots",children:[(0,lo.jsx)("div",{className:"loading-dot"}),(0,lo.jsx)("div",{className:"loading-dot"}),(0,lo.jsx)("div",{className:"loading-dot"})]})}),(0,lo.jsx)("p",{className:"mt-4 font-fredoka",children:"Authenticating..."}),(0,lo.jsx)("p",{className:"mt-2 text-sm opacity-75",children:"Please wait while we set up your account"})]})}):C?(0,lo.jsxs)("div",{className:m?"dark":"",children:["dashboard"===e&&(0,lo.jsx)(bo,{questionTypes:r,onStartQuestion:le,onPricing:()=>t("pricing"),onHistory:()=>t("history"),onAnalytics:()=>t("analytics"),onAccountSettings:()=>t("accountSettings"),onSubscription:()=>t("subscription"),userStats:j,user:C,darkMode:m,onSignOut:ie}),"questionTypes"===e&&(0,lo.jsx)(xo,{questionTypes:r,onSelectQuestionType:ce,onBack:fe,onEvaluate:ue,selectedLevel:l,darkMode:m}),"assessment"===e&&(0,lo.jsx)(wo,{selectedQuestionType:i,onBack:fe,onEvaluate:ue,darkMode:m}),"results"===e&&f&&(0,lo.jsx)(ko,{evaluation:f,onNewEvaluation:de,userPlan:j.currentPlan,darkMode:m}),"pricing"===e&&(0,lo.jsx)(fo,{onBack:fe,user:C}),"subscription"===e&&(0,lo.jsx)(uo,{user:C,onBack:fe,darkMode:m}),"history"===e&&(0,lo.jsx)(vo,{onBack:fe,evaluations:S,userPlan:j.currentPlan}),"analytics"===e&&(0,lo.jsx)(go,{onBack:fe,userStats:j,user:C,evaluations:S,onUpgrade:()=>t("pricing")}),"accountSettings"===e&&(0,lo.jsx)(yo,{onBack:fe,user:C,userStats:j,onLevelChange:ae,showLevelPrompt:u,darkMode:m,toggleDarkMode:se,onPricing:()=>t("pricing")})]}):(n("/",{replace:!0}),null)};(0,s.useEffect)((()=>{(async()=>{try{const e=await Lt.get("".concat(ho,"/question-types"));a(e.data.question_types)}catch(e){console.error("Error loading question types:",e)}})()}),[]);const le=()=>{l?t("questionTypes"):(h(!0),t("accountSettings"))};(0,s.useEffect)((()=>{const e=(null===C||void 0===C?void 0:C.uid)||(null===C||void 0===C?void 0:C.id);if(C&&e){(async()=>{try{var t;let n=null===(t=(await Lt.get("".concat(ho,"/users/").concat(e))).data.user)||void 0===t?void 0:t.academic_level;n&&"N/A"!==n&&(n=n.toLowerCase().replace(/[^a-z]/g,""),c(n))}catch(r){var n;console.error("Error fetching user level:",r),console.error("Error details:",null===(n=r.response)||void 0===n?void 0:n.data)}})()}}),[C]);const ce=e=>{o(e),t("assessment")},ue=async e=>{if(!e)return;const t=(null===C||void 0===C?void 0:C.uid)||(null===C||void 0===C?void 0:C.id);if(!C||!t)return console.error("Cannot evaluate: user not ready"),x("Please wait for authentication to complete."),void y(!0);const r=((e,t)=>{const n=e.trim().split(/\s+/).filter((e=>e.length>0)).length;if("igcse_summary"===t);else{if(1<n&&n<100)return{isValid:!1,error:"Your essay is too short. You have ".concat(n," words, but you need at least 100 words for a proper evaluation. We understand you might want to test our AI, for that, please look at our examples on the dashboard. Please write a more detailed response to get meaningful feedback.")};if(1===n)return{isValid:!1,error:"Your essay is too long. You have ".concat(n," word, but you need at least 100 words for a proper evaluation. We understand you might want to test our AI, for that, please look at our examples on the dashboard. Please write a more detailed response to get meaningful feedback.")}}const r=e.toLowerCase(),s=["test","hello","world","random","testing","sample","example","demo","essay","essay writing","essay help","essay writing help","essay writing service","essay writing assistant","essay writing tool","essay writing software","essay writing app","essay writing online","essay writing tool","essay writing software","essay writing app","essay writing online","okay"].filter((e=>r.includes(e))).length,a=new Set(r.split(/\s+/).filter((e=>e.length>0))),i=r.split(/\s+/).filter((e=>e.length>0)).length;return s>2||a.size/i<.3?{isValid:!1,error:"Your essay appears to be test content or contains repetitive text. Please write a proper essay with meaningful content to get accurate feedback. The AI needs real content to provide helpful analysis."}:e.trim().length<200?{isValid:!1,error:"Your essay is too brief for meaningful analysis. Please write a more detailed response (at least 200 characters) to receive comprehensive feedback."}:{isValid:!0}})(e.student_response,e.question_type);if(!r.isValid)return x(r.error),void y(!0);R(!0);try{var s,a;const r=d(d({},e),{},{user_id:t}),i=await Lt.post("".concat(ho,"/evaluate"),r);p(i.data),E((e=>[i.data,...e])),"unlimited"===j.currentPlan?N((e=>d(d({},e),{},{questionsMarked:e.questionsMarked+1,credits:"free"===e.currentPlan?e.credits-1:e.credits}))):N((e=>d(d({},e),{},{credits:e.credits-1,questionsMarked:e.questionsMarked+1,showWelcomeMessage:!1})));const o=(null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s.short_id)||(null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.id);n(o?"/results/".concat(o):"/dashboard")}catch(l){var i,o;console.error("Error evaluating submission:",l),402===(null===(i=l.response)||void 0===i?void 0:i.status)?(x("No credits remaining. Please upgrade to unlimited for unlimited marking."),y(!0)):429===(null===(o=l.response)||void 0===o?void 0:o.status)&&(x("Rate limit exceeded. Please try again later."),y(!0))}finally{R(!1)}},de=()=>{o(null),p(null),t("questionTypes")},he=()=>{const{id:e}=function(){let{matches:e}=s.useContext(wa),t=e[e.length-1];return t?t.params:{}}(),[t,n]=(0,s.useState)(!0),[r,a]=(0,s.useState)(null),i=Sa();return(0,s.useEffect)((()=>{let t=!0;return(async()=>{try{const n=await Lt.get("".concat(ho,"/evaluations/").concat(e));if(!t)return;a(n.data.evaluation)}catch(r){console.error("Failed to load evaluation:",r)}finally{t&&n(!1)}})(),()=>{t=!1}}),[e]),t?(0,lo.jsx)("div",{className:"min-h-screen ".concat(m?"bg-gray-900 text-white":"bg-main"," flex items-center justify-center"),children:(0,lo.jsxs)("div",{className:"text-center",children:[(0,lo.jsx)("div",{className:"loading-animation",children:(0,lo.jsxs)("div",{className:"loading-dots",children:[(0,lo.jsx)("div",{className:"loading-dot"}),(0,lo.jsx)("div",{className:"loading-dot"}),(0,lo.jsx)("div",{className:"loading-dot"})]})}),(0,lo.jsx)("p",{className:"mt-4 font-fredoka",children:"Loading result..."})]})}):r?(0,lo.jsx)("div",{className:m?"dark":"",children:(0,lo.jsx)(ko,{evaluation:r,onNewEvaluation:de,userPlan:j.currentPlan,darkMode:m})}):(0,lo.jsx)("div",{className:"min-h-screen ".concat(m?"bg-gray-900 text-white":"bg-main"," flex items-center justify-center"),children:(0,lo.jsxs)("div",{className:"text-center",children:[(0,lo.jsx)("h1",{className:"text-2xl font-fredoka font-bold mb-2",children:"Result not found"}),(0,lo.jsx)("p",{className:"text-gray-600",children:"The evaluation you are looking for does not exist or has been removed."}),(0,lo.jsx)("button",{onClick:()=>i("/"),className:"mt-6 bg-blue-600 text-white px-4 py-2 rounded-lg",children:"Go Home"})]})})},fe=()=>{"questionTypes"===e?t("dashboard"):"assessment"===e?t("questionTypes"):"pricing"!==e&&"history"!==e&&"analytics"!==e&&"accountSettings"!==e||(t("dashboard"),h(!1))};return A?(0,lo.jsx)("div",{className:"min-h-screen ".concat(m?"bg-gray-900 text-white":"bg-main"," flex items-center justify-center"),children:(0,lo.jsx)("div",{className:"text-center max-w-md",children:(0,lo.jsxs)("div",{className:"loading-animation",children:[(0,lo.jsxs)("div",{className:"loading-dots",children:[(0,lo.jsx)("div",{className:"loading-dot"}),(0,lo.jsx)("div",{className:"loading-dot"}),(0,lo.jsx)("div",{className:"loading-dot"})]}),(0,lo.jsx)("div",{className:"loading-text",children:ee[te]})]})})}):(0,lo.jsxs)(Wa,{children:[(0,lo.jsx)(Fa,{path:"/results/:id",element:(0,lo.jsx)(he,{})}),(0,lo.jsx)(Fa,{path:"/",element:(0,lo.jsx)(_,{onDiscord:async()=>{try{const e="undefined"!==typeof window?"".concat(window.location.origin,"/dashboard"):"http://localhost:3000/dashboard";console.log("Redirect URL will be:",e);const{data:t,error:n}=await Os.auth.signInWithOAuth({provider:"discord",options:{redirectTo:e,flowType:"pkce"}});if(n)throw n}catch(e){console.error("Error signing in with Discord:",e),alert("Discord sign-in is not configured. Please try Google sign-in.")}},onGoogle:async()=>{try{const e="undefined"!==typeof window?"".concat(window.location.origin,"/dashboard"):"http://localhost:3000/dashboard";console.log("Redirect URL will be:",e);const{data:t,error:n}=await Os.auth.signInWithOAuth({provider:"google",options:{redirectTo:e,flowType:"pkce"}});if(n)throw n}catch(e){console.error("Error signing in with Google:",e),alert("Google sign-in is not configured. Please try Discord sign-in.")}}})}),(0,lo.jsx)(Fa,{path:"/dashboard",element:(0,lo.jsx)("div",{className:m?"dark":"",children:(0,lo.jsx)(oe,{})})}),(0,lo.jsx)(Fa,{path:"/dashboard/payment-success",element:(0,lo.jsx)(co,{darkMode:m})}),(0,lo.jsx)(Fa,{path:"*",element:(0,lo.jsxs)("div",{className:m?"dark":"",children:[(0,lo.jsx)(oe,{}),(0,lo.jsx)(jo,{isOpen:v,onClose:()=>y(!1),message:b,darkMode:m}),(0,lo.jsx)(po,{isVisible:w,onClose:()=>k(!1)}),(0,lo.jsx)(io,{position:"top-right",toastOptions:{duration:4e3,style:{background:m?"#374151":"#ffffff",color:m?"#ffffff":"#000000"}}})]})})]})};var _o=n(950),So=n.t(_o,2);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Ga){}new Map;const Eo=a.startTransition;So.flushSync,a.useId;function Co(e){let{basename:t,children:n,future:r,window:a}=e,i=s.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),Bs((function(e,t){let{pathname:n,search:r,hash:s}=e.location;return Ms("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:zs(t)}),null,o)));let l=i.current,[c,u]=s.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=s.useCallback((e=>{d&&Eo?Eo((()=>u(e))):u(e)}),[u,d]);return s.useLayoutEffect((()=>l.listen(h)),[l,h]),s.useEffect((()=>za(r)),[r]),s.createElement(Ba,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var To,Po;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(To||(To={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Po||(Po={}));i.createRoot(document.getElementById("root")).render((0,lo.jsx)(s.StrictMode,{children:(0,lo.jsx)(Co,{children:(0,lo.jsx)(No,{})})}))})();
//# sourceMappingURL=main.b277e3e6.js.map
/*! For license information please see main.2d48e3f9.js.LICENSE.txt */
(()=>{"use strict";var e={630:(e,t,n)=>{n.r(t),n.d(t,{Headers:()=>o,Request:()=>i,Response:()=>l,default:()=>a,fetch:()=>s});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const s=r.fetch,a=r.fetch.bind(r),o=r.Headers,i=r.Request,l=r.Response},286:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(630)),a=r(n(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,n,r;let s=null,o=null,i=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(o="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),a=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&a&&a.length>1&&(i=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(s={code:"PGRST116",details:"Results contain ".concat(o.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,i=null,l=406,c="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(o=[],s=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(r=null===s||void 0===s?void 0:s.details)||void 0===r?void 0:r.includes("0 rows"))&&(s=null,l=200,c="OK"),s&&this.shouldThrowOnError)throw new a.default(s)}return{error:s,data:o,count:i,status:l,statusText:c}}));return this.shouldThrowOnError||(n=n.catch((e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}}))),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},210:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(829)),a=r(n(736)),o=n(745);class i{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new s.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new i(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:s=!1,count:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new URL("".concat(this.url,"/rpc/").concat(e));let l;r||s?(t=r?"HEAD":"GET",Object.entries(n).filter((e=>{let[t,n]=e;return void 0!==n})).map((e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]})).forEach((e=>{let[t,n]=e;i.searchParams.append(t,n)}))):(t="POST",l=n);const c=Object.assign({},this.headers);return o&&(c.Prefer="count=".concat(o)),new a.default({method:t,url:i,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=i},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},736:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(374));class a extends s.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map((e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e))).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s="";"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w");const a=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(s,"fts").concat(a,".").concat(t)),this}match(e){return Object.entries(e).forEach((e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))})),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=a},829:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:s}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let a=!1;const o=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e))).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer="count=".concat(n)),new s.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push("count=".concat(t)),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>'"'.concat(e,'"')));this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=["resolution=".concat(n?"ignore":"merge","-duplicates")];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push("count=".concat(r)),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>'"'.concat(e,'"')));this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push("count=".concat(t)),this.headers.Prefer=n.join(","),new s.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push("count=".concat(e)),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new s.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},374:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(286));class a extends s.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=s?"".concat(s,".order"):"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,"".concat(o?"".concat(o,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s="undefined"===typeof r?"offset":"".concat(r,".offset"),a="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(s,"".concat(e)),this.url.searchParams.set(a,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:a="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o;const i=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.Accept)&&void 0!==o?o:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(a,'; for="').concat(l,'"; options=').concat(i,";"),this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=a},745:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(400);t.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(r.version)}},980:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const s=r(n(210));t.PostgrestClient=s.default;const a=r(n(829));t.PostgrestQueryBuilder=a.default;const o=r(n(736));t.PostgrestFilterBuilder=o.default;const i=r(n(374));t.PostgrestTransformBuilder=i.default;const l=r(n(286));t.PostgrestBuilder=l.default;const c=r(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:s.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:c.default}},400:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},730:(e,t,n)=>{var r=n(43),s=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,s,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var D,U=Object.assign;function z(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var M=!1;function B(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),a=r.stack.split("\n"),o=s.length-1,i=a.length-1;1<=o&&0<=i&&s[o]!==a[i];)i--;for(;1<=o&&0<=i;o--,i--)if(s[o]!==a[i]){if(1!==o||1!==i)do{if(o--,0>--i||s[o]!==a[i]){var l="\n"+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function F(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case k:return"Portal";case S:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,je=null,_e=null;function Se(e){if(e=bs(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=ws(t),ke(e.stateNode,e.type,t))}}function Ne(e){je?_e?_e.push(e):_e=[e]:je=e}function Ee(){if(je){var e=je,t=_e;if(_e=je=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Te(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==je||null!==_e)&&(Te(),Ee())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=ws(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ae=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Ae=!1}function Ie(e,t,n,r,s,a,o,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Ue=null,ze=!1,Me=null,Be={onError:function(e){De=!0,Ue=e}};function Fe(e,t,n,r,s,a,o,i,l){De=!1,Ue=null,Ie.apply(Be,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(qe(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(r=s.return)){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Ge(s),e;if(o===r)return Ge(s),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ke=s.unstable_scheduleCallback,$e=s.unstable_cancelCallback,Je=s.unstable_shouldYield,Qe=s.unstable_requestPaint,Ye=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var i=o&~s;0!==i?r=dt(i):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~s)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-ot(t)),r|=e[n],t&=~s;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,jt,_t,St,Nt=!1,Et=[],Ct=null,Tt=null,Pt=null,Ot=new Map,Rt=new Map,At=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Dt(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=bs(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Ut(e){var t=ys(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,(function(){jt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bs(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Mt(e,t,n){zt(e)&&n.delete(t)}function Bt(){Nt=!1,null!==Ct&&zt(Ct)&&(Ct=null),null!==Tt&&zt(Tt)&&(Tt=null),null!==Pt&&zt(Pt)&&(Pt=null),Ot.forEach(Mt),Rt.forEach(Mt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Bt)))}function qt(e){function t(t){return Ft(t,e)}if(0<Et.length){Ft(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ft(Ct,e),null!==Tt&&Ft(Tt,e),null!==Pt&&Ft(Pt,e),Ot.forEach(t),Rt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Ut(n),null===n.blockedOn&&At.shift()}var Wt=x.ReactCurrentBatchConfig,Gt=!0;function Ht(e,t,n,r){var s=bt,a=Wt.transition;Wt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=s,Wt.transition=a}}function Vt(e,t,n,r){var s=bt,a=Wt.transition;Wt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=s,Wt.transition=a}}function Kt(e,t,n,r){if(Gt){var s=Jt(e,t,n,r);if(null===s)Gr(e,t,r,$t,n),It(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Ct=Dt(Ct,e,t,n,r,s),!0;case"dragenter":return Tt=Dt(Tt,e,t,n,r,s),!0;case"mouseover":return Pt=Dt(Pt,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Ot.set(a,Dt(Ot.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Rt.set(a,Dt(Rt.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==s;){var a=bs(s);if(null!==a&&wt(a),null===(a=Jt(e,t,n,r))&&Gr(e,t,r,$t,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var $t=null;function Jt(e,t,n,r){if($t=null,null!==(e=ys(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,s="value"in Yt?Yt.value:Yt.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===s[a-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=U({},cn,{view:0,detail:0}),hn=sn(dn),fn=U({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(U({},fn,{dataTransfer:0})),gn=sn(U({},dn,{relatedTarget:0})),vn=sn(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),xn=sn(U({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function Sn(){return _n}var Nn=U({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=sn(Nn),Cn=sn(U({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=sn(U({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=sn(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=U({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(On),An=[9,13,27,32],Ln=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Dn=u&&"TextEvent"in window&&!In,Un=u&&(!Ln||In&&8<In&&11>=In),zn=String.fromCharCode(32),Mn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ne(r),0<(t=Vr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Kn=null;function $n(e){zr(e,0)}function Jn(e){if(K(xs(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),Kn=Vn=null)}function nr(e){if("value"===e.propertyName&&Jn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Oe($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Kn)}function ar(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!d.call(t,s)||!ir(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=void 0===r.end?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=ur(n,a);var o=ur(n,r);s&&o&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==$(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Vr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},jr={},_r={};function Sr(e){if(jr[e])return jr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return jr[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Nr=Sr("animationend"),Er=Sr("animationiteration"),Cr=Sr("animationstart"),Tr=Sr("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),l(t,[e])}for(var Ar=0;Ar<Or.length;Ar++){var Lr=Or[Ar];Rr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Rr(Nr,"onAnimationEnd"),Rr(Er,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,o,i,l,c){if(Fe.apply(this,arguments),De){if(!De)throw Error(a(198));var u=Ue;De=!1,Ue=null,ze||(ze=!0,Me=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==a&&s.isPropagationStopped())break e;Ur(s,i,c),a=l}else for(o=0;o<r.length;o++){if(l=(i=r[o]).instance,c=i.currentTarget,i=i.listener,l!==a&&s.isPropagationStopped())break e;Ur(s,i,c),a=l}}}if(ze)throw e=Me,ze=!1,Me=null,e}function Mr(e,t){var n=t[ms];void 0===n&&(n=t[ms]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Fr]){e[Fr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,Br("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Qt(t)){case 1:var s=Ht;break;case 4:s=Vt;break;default:s=Kt}n=s.bind(null,t,n,e),s=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,s){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var i=r.stateNode.containerInfo;if(i===s||8===i.nodeType&&i.parentNode===s)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;o=o.return}for(;null!==i;){if(null===(o=ys(i)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}i=i.parentNode}}r=r.return}Oe((function(){var r=a,s=we(n),o=[];e:{var i=Pr.get(e);if(void 0!==i){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Nr:case Er:case Cr:l=vn;break;case Tr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==i?i+"Capture":null:i;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Re(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(i=new l(i,c,null,n,s),o.push({event:i,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!ys(c)&&!c[ps])&&(l||i)&&(i=s.window===s?s:(i=s.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ys(c):null)&&(c!==(d=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?i:xs(l),f=null==c?i:xs(c),(i=new u(m,p+"leave",l,n,s)).target=d,i.relatedTarget=f,m=null,ys(s)===r&&((u=new u(h,p+"enter",c,n,s)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&$r(o,i,l,u,!1),null!==c&&null!==d&&$r(o,d,c,u,!0)}if("select"===(l=(i=r?xs(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Qn;else if(Gn(i))if(Yn)g=or;else{g=sr;var v=rr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=ar);switch(g&&(g=g(e,r))?Hn(o,g,n,s):(v&&v(e,i,r),"focusout"===e&&(v=i._wrapperState)&&v.controlled&&"number"===i.type&&ee(i,"number",i.value)),v=r?xs(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,s);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(o,n,s)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=en()):(Xt="value"in(Yt=s)?Yt.value:Yt.textContent,qn=!0)),0<(v=Vr(r,b)).length&&(b=new xn(b,e,null,n,s),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Fn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(Mn=!0,zn);case"textInput":return(e=t.data)===zn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Ln&&Bn(e,t)?(e=en(),Zt=Xt=Yt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(s=new xn("onBeforeInput","beforeinput",null,n,s),o.push({event:s,listeners:r}),s.data=y))}zr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Re(e,n))&&r.unshift(Hr(e,a,s)),null!=(a=Re(e,t))&&r.push(Hr(e,a,s))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,s){for(var a=t._reactName,o=[];null!==n&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==c&&(i=c,s?null!=(l=Re(n,a))&&o.unshift(Hr(n,l,i)):s||null!=(l=Re(n,a))&&o.push(Hr(n,l,i))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,as="function"===typeof Promise?Promise:void 0,os="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof as?function(e){return as.resolve(null).then(e).catch(is)}:rs;function is(e){setTimeout((function(){throw e}))}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);qt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),hs="__reactFiber$"+ds,fs="__reactProps$"+ds,ps="__reactContainer$"+ds,ms="__reactEvents$"+ds,gs="__reactListeners$"+ds,vs="__reactHandles$"+ds;function ys(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=us(e);null!==e;){if(n=e[hs])return n;e=us(e)}return t}n=(e=n).parentNode}return null}function bs(e){return!(e=e[hs]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ws(e){return e[fs]||null}var ks=[],js=-1;function _s(e){return{current:e}}function Ss(e){0>js||(e.current=ks[js],ks[js]=null,js--)}function Ns(e,t){js++,ks[js]=e.current,e.current=t}var Es={},Cs=_s(Es),Ts=_s(!1),Ps=Es;function Os(e,t){var n=e.type.contextTypes;if(!n)return Es;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Rs(e){return null!==(e=e.childContextTypes)&&void 0!==e}function As(){Ss(Ts),Ss(Cs)}function Ls(e,t,n){if(Cs.current!==Es)throw Error(a(168));Ns(Cs,t),Ns(Ts,n)}function Is(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(a(108,W(e)||"Unknown",s));return U({},n,r)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Es,Ps=Cs.current,Ns(Cs,e),Ns(Ts,Ts.current),!0}function Us(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Is(e,t,Ps),r.__reactInternalMemoizedMergedChildContext=e,Ss(Ts),Ss(Cs),Ns(Cs,e)):Ss(Ts),Ns(Ts,n)}var zs=null,Ms=!1,Bs=!1;function Fs(e){null===zs?zs=[e]:zs.push(e)}function qs(){if(!Bs&&null!==zs){Bs=!0;var e=0,t=bt;try{var n=zs;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zs=null,Ms=!1}catch(s){throw null!==zs&&(zs=zs.slice(e+1)),Ke(Ze,qs),s}finally{bt=t,Bs=!1}}return null}var Ws=[],Gs=0,Hs=null,Vs=0,Ks=[],$s=0,Js=null,Qs=1,Ys="";function Xs(e,t){Ws[Gs++]=Vs,Ws[Gs++]=Hs,Hs=e,Vs=t}function Zs(e,t,n){Ks[$s++]=Qs,Ks[$s++]=Ys,Ks[$s++]=Js,Js=e;var r=Qs;e=Ys;var s=32-ot(r)-1;r&=~(1<<s),n+=1;var a=32-ot(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Qs=1<<32-ot(t)+s|n<<s|r,Ys=a+e}else Qs=1<<a|n<<s|r,Ys=e}function ea(e){null!==e.return&&(Xs(e,1),Zs(e,1,0))}function ta(e){for(;e===Hs;)Hs=Ws[--Gs],Ws[Gs]=null,Vs=Ws[--Gs],Ws[Gs]=null;for(;e===Js;)Js=Ks[--$s],Ks[$s]=null,Ys=Ks[--$s],Ks[$s]=null,Qs=Ks[--$s],Ks[$s]=null}var na=null,ra=null,sa=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ia(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Js?{id:Qs,overflow:Ys}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(sa){var t=ra;if(t){var n=t;if(!ia(e,t)){if(la(e))throw Error(a(418));t=cs(n.nextSibling);var r=na;t&&ia(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,sa=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,sa=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!sa)return ua(e),sa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=cs(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?cs(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=cs(e.nextSibling)}function fa(){ra=na=null,sa=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=x.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var s=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=s.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===j?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&ya(a)===t.type)?((r=s(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case k:return(t=zc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Ic(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,r):null;case k:return n.key===s?u(e,t,n,r):null;case R:return f(e,t,(s=n._init)(n._payload),r)}if(te(n)||I(n))return null!==s?null:d(e,t,n,r,null);va(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case R:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||I(r))return d(t,e=e.get(n)||null,r,s,null);va(t,r)}return null}function m(s,a,i,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<i.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(s,d,i[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(s,d),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===i.length)return n(s,d),sa&&Xs(s,m),c;if(null===d){for(;m<i.length;m++)null!==(d=h(s,i[m],l))&&(a=o(d,a,m),null===u?c=d:u.sibling=d,u=d);return sa&&Xs(s,m),c}for(d=r(s,d);m<i.length;m++)null!==(g=p(d,s,m,i[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(s,e)})),sa&&Xs(s,m),c}function g(s,i,l,c){var u=I(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=i,g=i=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(s,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(s,m),i=o(b,i,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(s,m),sa&&Xs(s,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(s,y.value,c))&&(i=o(y,i,g),null===d?u=y:d.sibling=y,d=y);return sa&&Xs(s,g),u}for(m=r(s,m);!y.done;g++,y=l.next())null!==(y=p(m,s,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),i=o(y,i,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(s,e)})),sa&&Xs(s,g),u}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===j&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=a;null!==u;){if(u.key===c){if((c=o.type)===j){if(7===u.tag){n(r,u.sibling),(a=s(u,o.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&ya(c)===u.type){n(r,u.sibling),(a=s(u,o.props)).ref=ga(r,u,o),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===j?((a=Ic(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Lc(o.type,o.key,o.props,null,r.mode,l)).ref=ga(r,a,o),l.return=r,r=l)}return i(r);case k:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=s(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zc(o,r.mode,l)).return=r,r=a}return i(r);case R:return e(r,a,(u=o._init)(o._payload),l)}if(te(o))return m(r,a,o,l);if(I(o))return g(r,a,o,l);va(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=s(a,o)).return=r,r=a):(n(r,a),(a=Uc(o,r.mode,l)).return=r,r=a),i(r)):n(r,a)}}var xa=ba(!0),wa=ba(!1),ka=_s(null),ja=null,_a=null,Sa=null;function Na(){Sa=_a=ja=null}function Ea(e){var t=ka.current;Ss(ka),e._currentValue=t}function Ca(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t){ja=e,Sa=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bi=!0),e.firstContext=null)}function Pa(e){var t=e._currentValue;if(Sa!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===ja)throw Error(a(308));_a=e,ja.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Oa=null;function Ra(e){null===Oa?Oa=[e]:Oa.push(e)}function Aa(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ra(t)):(n.next=s.next,s.next=n),t.interleaved=n,La(e,r)}function La(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ia=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ua(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ma(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,La(e,n)}return null===(s=r.interleaved)?(t.next=t,Ra(r)):(t.next=s.next,s.next=t),r.interleaved=t,La(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qa(e,t,n,r){var s=e.updateQueue;Ia=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,i=s.shared.pending;if(null!==i){s.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=s.baseState;for(o=0,u=c=l=null,i=a;;){var h=i.lane,f=i.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,m=i;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=U({},d,h);break e;case 2:Ia=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[i]:h.push(i))}else f={eventTime:f,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(i=i.next)){if(null===(i=s.shared.pending))break;i=(h=i).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{o|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Dl|=o,e.lanes=o,e.memoizedState=d}}function Wa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(a(191,s));s.call(r)}}}var Ga={},Ha=_s(Ga),Va=_s(Ga),Ka=_s(Ga);function $a(e){if(e===Ga)throw Error(a(174));return e}function Ja(e,t){switch(Ns(Ka,t),Ns(Va,e),Ns(Ha,Ga),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ss(Ha),Ns(Ha,t)}function Qa(){Ss(Ha),Ss(Va),Ss(Ka)}function Ya(e){$a(Ka.current);var t=$a(Ha.current),n=le(t,e.type);t!==n&&(Ns(Va,e),Ns(Ha,n))}function Xa(e){Va.current===e&&(Ss(Ha),Ss(Va))}var Za=_s(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=x.ReactCurrentDispatcher,so=x.ReactCurrentBatchConfig,ao=0,oo=null,io=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function go(e,t,n,r,s,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ei,e=n(r,s),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=io=null,t.updateQueue=null,ro.current=ti,e=n(r,s)}while(uo)}if(ro.current=Xo,t=null!==io&&null!==io.next,ao=0,lo=io=oo=null,co=!1,t)throw Error(a(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===io){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=io.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,io=e;else{if(null===e)throw Error(a(310));e={memoizedState:(io=e).memoizedState,baseState:io.baseState,baseQueue:io.baseQueue,queue:io.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function xo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=io,s=r.baseQueue,o=n.pending;if(null!==o){if(null!==s){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(null!==s){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((ao&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,i=r):c=c.next=h,oo.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==o);null===c?i=r:c.next=l,ir(r,t.memoizedState)||(bi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{o=s.lane,oo.lanes|=o,Dl|=o,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ko(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(null!==s){n.pending=null;var i=s=s.next;do{o=e(o,i.action),i=i.next}while(i!==s);ir(o,t.memoizedState)||(bi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function jo(){}function _o(e,t){var n=oo,r=bo(),s=t(),o=!ir(r.memoizedState,s);if(o&&(r.memoizedState=s,bi=!0),r=r.queue,Do(Eo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Oo(9,No.bind(null,n,r,s,t),void 0,null),null===Tl)throw Error(a(349));0!==(30&ao)||So(n,t,s)}return s}function So(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Co(t)&&To(e)}function Eo(e,t,n){return n((function(){Co(t)&&To(e)}))}function Co(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function To(e){var t=La(e,1);null!==t&&nc(t,e,1,-1)}function Po(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=$o.bind(null,oo,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ro(){return bo().memoizedState}function Ao(e,t,n,r){var s=yo();oo.flags|=e,s.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function Lo(e,t,n,r){var s=bo();r=void 0===r?null:r;var a=void 0;if(null!==io){var o=io.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(s.memoizedState=Oo(t,n,a,r))}oo.flags|=e,s.memoizedState=Oo(1|t,n,a,r)}function Io(e,t){return Ao(8390656,8,e,t)}function Do(e,t){return Lo(2048,8,e,t)}function Uo(e,t){return Lo(4,2,e,t)}function zo(e,t){return Lo(4,4,e,t)}function Mo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4,4,Mo.bind(null,t,e),n)}function Fo(){}function qo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Go(e,t,n){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=n):(ir(n,t)||(n=mt(),oo.lanes|=n,Dl|=n,e.baseState=!0),t)}function Ho(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{bt=n,so.transition=r}}function Vo(){return bo().memoizedState}function Ko(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e))Qo(t,n);else if(null!==(n=Aa(e,t,n,r))){nc(n,e,r,ec()),Yo(n,t,r)}}function $o(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Qo(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=a(o,n);if(s.hasEagerState=!0,s.eagerState=i,ir(i,o)){var l=t.interleaved;return null===l?(s.next=s,Ra(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Aa(e,t,s,r))&&(nc(n,e,r,s=ec()),Yo(n,t,r))}}function Jo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Qo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xo={readContext:Pa,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Pa,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Pa,useEffect:Io,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ao(4194308,4,Mo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ao(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ao(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Po,useDebugValue:Fo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Ho.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,s=yo();if(sa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Tl)throw Error(a(349));0!==(30&ao)||So(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Io(Eo.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Tl.identifierPrefix;if(sa){var n=Ys;t=":"+t+"R"+(n=(Qs&~(1<<32-ot(Qs)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Pa,useCallback:qo,useContext:Pa,useEffect:Do,useImperativeHandle:Bo,useInsertionEffect:Uo,useLayoutEffect:zo,useMemo:Wo,useReducer:wo,useRef:Ro,useState:function(){return wo(xo)},useDebugValue:Fo,useDeferredValue:function(e){return Go(bo(),io.memoizedState,e)},useTransition:function(){return[wo(xo)[0],bo().memoizedState]},useMutableSource:jo,useSyncExternalStore:_o,useId:Vo,unstable_isNewReconciler:!1},ti={readContext:Pa,useCallback:qo,useContext:Pa,useEffect:Do,useImperativeHandle:Bo,useInsertionEffect:Uo,useLayoutEffect:zo,useMemo:Wo,useReducer:ko,useRef:Ro,useState:function(){return ko(xo)},useDebugValue:Fo,useDeferredValue:function(e){var t=bo();return null===io?t.memoizedState=e:Go(t,io.memoizedState,e)},useTransition:function(){return[ko(xo)[0],bo().memoizedState]},useMutableSource:jo,useSyncExternalStore:_o,useId:Vo,unstable_isNewReconciler:!1};function ni(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ri(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var si={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),a=za(r,s);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ma(e,a,s))&&(nc(t,e,s,r),Ba(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),a=za(r,s);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ma(e,a,s))&&(nc(t,e,s,r),Ba(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=za(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Ma(e,s,r))&&(nc(t,e,r,n),Ba(t,e,r))}};function ai(e,t,n,r,s,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,a))}function oi(e,t,n){var r=!1,s=Es,a=t.contextType;return"object"===typeof a&&null!==a?a=Pa(a):(s=Rs(t)?Ps:Cs.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Os(e,s):Es),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=si,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function ii(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&si.enqueueReplaceState(t,t.state,null)}function li(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Da(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=Pa(a):(a=Rs(t)?Ps:Cs.current,s.context=Os(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ri(e,t,a,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&si.enqueueReplaceState(s,s.state,null),qa(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var s=n}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function ui(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hi="function"===typeof WeakMap?WeakMap:Map;function fi(e,t,n){(n=za(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Hl=r),di(0,t)},n}function pi(e,t,n){(n=za(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){di(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof r&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hi;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vi(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=za(-1,1)).tag=2,Ma(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var yi=x.ReactCurrentOwner,bi=!1;function xi(e,t,n,r){t.child=null===e?wa(t,null,n,r):xa(t,e.child,n,r)}function wi(e,t,n,r,s){n=n.render;var a=t.ref;return Ta(t,s),r=go(e,t,n,r,a,s),n=vo(),null===e||bi?(sa&&n&&ea(t),t.flags|=1,xi(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gi(e,t,s))}function ki(e,t,n,r,s){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ji(e,t,a,r,s))}if(a=e.child,0===(e.lanes&s)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Gi(e,t,s)}return t.flags|=1,(e=Ac(a,r)).ref=t.ref,e.return=t,t.child=e}function ji(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(bi=!1,t.pendingProps=r=a,0===(e.lanes&s))return t.lanes=e.lanes,Gi(e,t,s);0!==(131072&e.flags)&&(bi=!0)}}return Ni(e,t,n,r,s)}function _i(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ns(Al,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ns(Al,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ns(Al,Rl),Rl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ns(Al,Rl),Rl|=r;return xi(e,t,s,n),t.child}function Si(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ni(e,t,n,r,s){var a=Rs(n)?Ps:Cs.current;return a=Os(t,a),Ta(t,s),n=go(e,t,n,r,a,s),r=vo(),null===e||bi?(sa&&r&&ea(t),t.flags|=1,xi(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gi(e,t,s))}function Ei(e,t,n,r,s){if(Rs(n)){var a=!0;Ds(t)}else a=!1;if(Ta(t,s),null===t.stateNode)Wi(e,t),oi(t,n,r),li(t,n,r,s),r=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Pa(c):c=Os(t,c=Rs(n)?Ps:Cs.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==r||l!==c)&&ii(t,o,r,c),Ia=!1;var h=t.memoizedState;o.state=h,qa(t,r,o,s),l=t.memoizedState,i!==r||h!==l||Ts.current||Ia?("function"===typeof u&&(ri(t,n,u,r),l=t.memoizedState),(i=Ia||ai(t,n,i,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ua(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ni(t.type,i),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Pa(l):l=Os(t,l=Rs(n)?Ps:Cs.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==d||h!==l)&&ii(t,o,r,l),Ia=!1,h=t.memoizedState,o.state=h,qa(t,r,o,s);var p=t.memoizedState;i!==d||h!==p||Ts.current||Ia?("function"===typeof f&&(ri(t,n,f,r),p=t.memoizedState),(c=Ia||ai(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ci(e,t,n,r,a,s)}function Ci(e,t,n,r,s,a){Si(e,t);var o=0!==(128&t.flags);if(!r&&!o)return s&&Us(t,n,!1),Gi(e,t,a);r=t.stateNode,yi.current=t;var i=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,i,a)):xi(e,t,i,a),t.memoizedState=r.state,s&&Us(t,n,!0),t.child}function Ti(e){var t=e.stateNode;t.pendingContext?Ls(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ls(0,t.context,!1),Ja(e,t.containerInfo)}function Pi(e,t,n,r,s){return fa(),pa(s),t.flags|=256,xi(e,t,n,r),t.child}var Oi,Ri,Ai,Li,Ii={dehydrated:null,treeContext:null,retryLane:0};function Di(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ui(e,t,n){var r,s=t.pendingProps,o=Za.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ns(Za,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,i?(s=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Dc(l,s,0,null),e=Ic(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Di(n),t.memoizedState=Ii,e):zi(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,s,o,i){if(n)return 256&t.flags?(t.flags&=-257,Mi(e,t,i,r=ui(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Dc({mode:"visible",children:r.children},s,0,null),(o=Ic(o,s,i,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&xa(t,e.child,null,i),t.child.memoizedState=Di(i),t.memoizedState=Ii,o);if(0===(1&t.mode))return Mi(e,t,i,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Mi(e,t,i,r=ui(o=Error(a(419)),r,void 0))}if(l=0!==(i&e.childLanes),bi||l){if(null!==(r=Tl)){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|i))?0:s)&&s!==o.retryLane&&(o.retryLane=s,La(e,s),nc(r,e,s,-1))}return mc(),Mi(e,t,i,r=ui(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,ra=cs(s.nextSibling),na=t,sa=!0,aa=null,null!==e&&(Ks[$s++]=Qs,Ks[$s++]=Ys,Ks[$s++]=Js,Qs=e.id,Ys=e.overflow,Js=t),t=zi(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,o,n);if(i){i=s.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==o?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ac(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?i=Ac(r,i):(i=Ic(i,l,n,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,l=null===(l=e.child.memoizedState)?Di(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Ii,s}return e=(i=e.child).sibling,s=Ac(i,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function zi(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Mi(e,t,n,r){return null!==r&&pa(r),xa(t,e.child,null,n),(e=zi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ca(e.return,t,n)}function Fi(e,t,n,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function qi(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(xi(e,t,r.children,n),0!==(2&(r=Za.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bi(e,n,t);else if(19===e.tag)Bi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ns(Za,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Fi(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===eo(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Fi(t,!0,n,null,a);break;case"together":Fi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hi(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ki(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vi(t),null;case 1:case 17:return Rs(t.type)&&As(),Vi(t),null;case 3:return r=t.stateNode,Qa(),Ss(Ts),Ss(Cs),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ri(e,t),Vi(t),null;case 5:Xa(t);var s=$a(Ka.current);if(n=t.type,null!==e&&null!=t.stateNode)Ai(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Vi(t),null}if(e=$a(Ha.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hs]=t,r[fs]=o,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(s=0;s<Ir.length;s++)Mr(Ir[s],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":Q(r,o),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Mr("invalid",r);break;case"textarea":se(r,o),Mr("invalid",r)}for(var l in ye(n,o),s=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Mr("scroll",r)}switch(n){case"input":V(r),Z(r,o,!0);break;case"textarea":V(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hs]=t,e[fs]=r,Oi(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),s=r;break;case"iframe":case"object":case"embed":Mr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ir.length;s++)Mr(Ir[s],e);s=r;break;case"source":Mr("error",e),s=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),s=r;break;case"details":Mr("toggle",e),s=r;break;case"input":Q(e,r),s=J(e,r),Mr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=U({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Mr("invalid",e)}for(o in ye(n,s),c=s)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Mr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":V(e),Z(e,r,!1);break;case"textarea":V(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vi(t),null;case 6:if(e&&null!=t.stateNode)Li(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=$a(Ka.current),$a(Ha.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hs]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hs]=t,t.stateNode=r}return Vi(t),null;case 13:if(Ss(Za),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sa&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hs]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vi(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Ll&&(Ll=3):mc())),null!==t.updateQueue&&(t.flags|=4),Vi(t),null);case 4:return Qa(),Ri(e,t),null===e&&qr(t.stateNode.containerInfo),Vi(t),null;case 10:return Ea(t.type._context),Vi(t),null;case 19:if(Ss(Za),null===(o=t.memoizedState))return Vi(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Hi(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Hi(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ns(Za,1&Za.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>ql&&(t.flags|=128,r=!0,Hi(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hi(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!sa)return Vi(t),null}else 2*Ye()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Hi(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=Za.current,Ns(Za,r?1&n|2:1&n),t):(Vi(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Vi(t),6&t.subtreeFlags&&(t.flags|=8192)):Vi(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $i(e,t){switch(ta(t),t.tag){case 1:return Rs(t.type)&&As(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),Ss(Ts),Ss(Cs),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xa(t),null;case 13:if(Ss(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ss(Za),null;case 4:return Qa(),null;case 10:return Ea(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Oi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ri=function(){},Ai=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,$a(Ha.current);var a,o=null;switch(n){case"input":s=J(e,s),r=J(e,r),o=[];break;case"select":s=U({},s,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":s=re(e,s),r=re(e,r),o=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(i.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(i.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Mr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Li=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ji=!1,Qi=!1,Yi="function"===typeof WeakSet?WeakSet:Set,Xi=null;function Zi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){_c(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&el(t,n,a)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[fs],delete t[ms],delete t[gs],delete t[vs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,n)}catch(i){}switch(n.tag){case 5:Qi||Zi(n,t);case 6:var r=ul,s=dl;ul=null,hl(e,t,n),dl=s,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),qt(e)):ls(ul,n.stateNode));break;case 4:r=ul,s=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=s;break;case 0:case 11:case 14:case 15:if(!Qi&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),s=s.next}while(s!==r)}hl(e,t,n);break;case 1:if(!Qi&&(Zi(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){_c(n,t,i)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qi=(r=Qi)||null!==n.memoizedState,hl(e,t,n),Qi=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yi),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));fl(o,i,s),ul=null,dl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){_c(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){_c(e,e.return,g)}try{nl(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Zi(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Zi(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(g){_c(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var o=e.memoizedProps,i=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Y(s,o),be(l,i);var u=be(l,o);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];"style"===d?ge(s,h):"dangerouslySetInnerHTML"===d?de(s,h):"children"===d?he(s,h):b(s,d,h,u)}switch(l){case"input":X(s,o);break;case"textarea":ae(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(s,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(s,!!o.multiple,o.defaultValue,!0):ne(s,!!o.multiple,o.multiple?[]:"",!1))}s[fs]=o}catch(g){_c(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){_c(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(s=e.child).flags&&(o=null!==s.memoizedState,s.stateNode.isHidden=o,!o||null!==s.alternate&&null!==s.alternate.memoizedState||(Fl=Ye())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qi=(u=Qi)||d,ml(t,e),Qi=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xi=e,d=e.child;null!==d;){for(h=Xi=d;null!==Xi;){switch(p=(f=Xi).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zi(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_c(r,n,g)}}break;case 5:Zi(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Xi=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{s=h.stateNode,u?"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,i=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",i))}catch(g){_c(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(he(s,""),r.flags&=-33),cl(e,il(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,il(e),o);break;default:throw Error(a(161))}}catch(i){_c(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xi=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xi;){var s=Xi,a=s.child;if(22===s.tag&&r){var o=null!==s.memoizedState||Ji;if(!o){var i=s.alternate,l=null!==i&&null!==i.memoizedState||Qi;i=Ji;var c=Qi;if(Ji=o,(Qi=l)&&!c)for(Xi=s;null!==Xi;)l=(o=Xi).child,22===o.tag&&null!==o.memoizedState?kl(s):null!==l?(l.return=o,Xi=l):kl(s);for(;null!==a;)Xi=a,bl(a,t,n),a=a.sibling;Xi=s,Ji=i,Qi=c}xl(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,Xi=a):xl(e)}}function xl(e){for(;null!==Xi;){var t=Xi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qi||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qi)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ni(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Wa(t,o,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wa(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Qi||512&t.flags&&sl(t)}catch(f){_c(t,t.return,f)}}if(t===e){Xi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xi=n;break}Xi=t.return}}function wl(e){for(;null!==Xi;){var t=Xi;if(t===e){Xi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xi=n;break}Xi=t.return}}function kl(e){for(;null!==Xi;){var t=Xi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){_c(t,s,l)}}var a=t.return;try{sl(t)}catch(l){_c(t,a,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){_c(t,o,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Xi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Xi=i;break}Xi=t.return}}var jl,_l=Math.ceil,Sl=x.ReactCurrentDispatcher,Nl=x.ReactCurrentOwner,El=x.ReactCurrentBatchConfig,Cl=0,Tl=null,Pl=null,Ol=0,Rl=0,Al=_s(0),Ll=0,Il=null,Dl=0,Ul=0,zl=0,Ml=null,Bl=null,Fl=0,ql=1/0,Wl=null,Gl=!1,Hl=null,Vl=null,Kl=!1,$l=null,Jl=0,Ql=0,Yl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Cl)?Ye():-1!==Xl?Xl:Xl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Ol?Ol&-Ol:null!==ma.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Yl=null,Error(a(185));vt(e,n,r),0!==(2&Cl)&&e===Tl||(e===Tl&&(0===(2&Cl)&&(Ul|=n),4===Ll&&ic(e,Ol)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(ql=Ye()+500,Ms&&qs()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),i=1<<o,l=s[o];-1===l?0!==(i&n)&&0===(i&r)||(s[o]=ft(i,t)):l<=t&&(e.expiredLanes|=i),a&=~i}}(e,t);var r=ht(e,e===Tl?Ol:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Ms=!0,Fs(e)}(lc.bind(null,e)):Fs(lc.bind(null,e)),os((function(){0===(6&Cl)&&qs()})),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Xl=-1,Zl=0,0!==(6&Cl))throw Error(a(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var s=Cl;Cl|=2;var o=pc();for(Tl===e&&Ol===t||(Wl=null,ql=Ye()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Na(),Sl.current=o,Cl=s,null!==Pl?t=0:(Tl=null,Ol=0,t=Ll)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(r=s,t=ac(e,s))),1===t)throw n=Il,hc(e,0),ic(e,r),rc(e,Ye()),n;if(6===t)ic(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!ir(a(),s))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Il,hc(e,0),ic(e,r),rc(e,Ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Bl,Wl);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Fl+500-Ye())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(wc.bind(null,e,Bl,Wl),t);break}wc(e,Bl,Wl);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-ot(r);o=1<<i,(i=t[i])>s&&(s=i),r&=~o}if(r=s,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=rs(wc.bind(null,e,Bl,Wl),r);break}wc(e,Bl,Wl);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Ml;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&oc(t)),e}function oc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function ic(e,t){for(t&=~zl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(a(327));kc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Il,hc(e,0),ic(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,Wl),rc(e,Ye()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(ql=Ye()+500,Ms&&qs())}}function uc(e){null!==$l&&0===$l.tag&&0===(6&Cl)&&kc();var t=Cl;Cl|=1;var n=El.transition,r=bt;try{if(El.transition=null,bt=1,e)return e()}finally{bt=r,El.transition=n,0===(6&(Cl=t))&&qs()}}function dc(){Rl=Al.current,Ss(Al)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&As();break;case 3:Qa(),Ss(Ts),Ss(Cs),no();break;case 5:Xa(r);break;case 4:Qa();break;case 13:case 19:Ss(Za);break;case 10:Ea(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Tl=e,Pl=e=Ac(e.current,null),Ol=Rl=t,Ll=0,Il=null,zl=Ul=Dl=0,Bl=Ml=null,null!==Oa){for(t=0;t<Oa.length;t++)if(null!==(r=(n=Oa[t]).interleaved)){n.interleaved=null;var s=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=s,r.next=o}n.pending=r}Oa=null}return e}function fc(e,t){for(;;){var n=Pl;try{if(Na(),ro.current=Xo,co){for(var r=oo.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}co=!1}if(ao=0,lo=io=oo=null,uo=!1,ho=0,Nl.current=null,null===n||null===n.return){Ll=1,Il=t,Pl=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gi(i);if(null!==p){p.flags&=-257,vi(p,i,l,0,t),1&p.mode&&mi(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mi(o,u,t),mc();break e}c=Error(a(426))}else if(sa&&1&l.mode){var v=gi(i);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vi(v,i,l,0,t),pa(ci(c,l));break e}}o=c=ci(c,l),4!==Ll&&(Ll=2),null===Ml?Ml=[o]:Ml.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,fi(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Vl||!Vl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,pi(o,l,t));break e}}o=o.return}while(null!==o)}xc(n)}catch(x){t=x,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Xo,null===e?Xo:e}function mc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Tl||0===(268435455&Dl)&&0===(268435455&Ul)||ic(Tl,Ol)}function gc(e,t){var n=Cl;Cl|=2;var r=pc();for(Tl===e&&Ol===t||(Wl=null,hc(e,t));;)try{vc();break}catch(s){fc(e,s)}if(Na(),Cl=n,Sl.current=r,null!==Pl)throw Error(a(261));return Tl=null,Ol=0,Ll}function vc(){for(;null!==Pl;)bc(Pl)}function yc(){for(;null!==Pl&&!Je();)bc(Pl)}function bc(e){var t=jl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?xc(e):Pl=t,Nl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ki(n,t,Rl)))return void(Pl=n)}else{if(null!==(n=$i(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ll=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ll&&(Ll=5)}function wc(e,t,n){var r=bt,s=El.transition;try{El.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==$l);if(0!==(6&Cl))throw Error(a(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ot(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}(e,o),e===Tl&&(Pl=Tl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Tc(tt,(function(){return kc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=El.transition,El.transition=null;var i=bt;bt=1;var l=Cl;Cl|=4,Nl.current=null,function(e,t){if(es=Gt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=i+s),h!==o||0!==r&&3!==h.nodeType||(c=i+r),3===h.nodeType&&(i+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=i),f===o&&++d===r&&(c=i),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Gt=!1,Xi=t;null!==Xi;)if(e=(t=Xi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xi=e;else for(;null!==Xi;){t=Xi;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ni(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xi=e;break}Xi=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ts),Gt=!!es,ts=es=null,e.current=n,yl(n,e,s),Qe(),Cl=l,bt=i,El.transition=o}else e.current=n;if(Kl&&(Kl=!1,$l=e,Jl=s),o=e.pendingLanes,0===o&&(Vl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Gl)throw Gl=!1,e=Hl,Hl=null,e;0!==(1&Jl)&&0!==e.tag&&kc(),o=e.pendingLanes,0!==(1&o)?e===Yl?Ql++:(Ql=0,Yl=e):Ql=0,qs()}(e,t,n,r)}finally{El.transition=s,bt=r}return null}function kc(){if(null!==$l){var e=xt(Jl),t=El.transition,n=bt;try{if(El.transition=null,bt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Jl=0,0!==(6&Cl))throw Error(a(331));var s=Cl;for(Cl|=4,Xi=e.current;null!==Xi;){var o=Xi,i=o.child;if(0!==(16&Xi.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xi=u;null!==Xi;){var d=Xi;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Xi=h;else for(;null!==Xi;){var f=(d=Xi).sibling,p=d.return;if(al(d),d===u){Xi=null;break}if(null!==f){f.return=p,Xi=f;break}Xi=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xi=o}}if(0!==(2064&o.subtreeFlags)&&null!==i)i.return=o,Xi=i;else e:for(;null!==Xi;){if(0!==(2048&(o=Xi).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Xi=y;break e}Xi=o.return}}var b=e.current;for(Xi=b;null!==Xi;){var x=(i=Xi).child;if(0!==(2064&i.subtreeFlags)&&null!==x)x.return=i,Xi=x;else e:for(i=b;null!==Xi;){if(0!==(2048&(l=Xi).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){_c(l,l.return,k)}if(l===i){Xi=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xi=w;break e}Xi=l.return}}if(Cl=s,qs(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(k){}r=!0}return r}finally{bt=n,El.transition=t}}return!1}function jc(e,t,n){e=Ma(e,t=fi(0,t=ci(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)jc(e,e,n);else for(;null!==t;){if(3===t.tag){jc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vl||!Vl.has(r))){t=Ma(t,e=pi(t,e=ci(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Ol&n)===n&&(4===Ll||3===Ll&&(130023424&Ol)===Ol&&500>Ye()-Fl?hc(e,0):zl|=n),rc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=La(e,t))&&(vt(e,t,n),rc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Nc(e,n)}function Tc(e,t){return Ke(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Pc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,s,o){var i=2;if(r=e,"function"===typeof e)Rc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case j:return Ic(n.children,s,o,t);case _:i=8,s|=8;break;case S:return(e=Oc(12,n,t,2|s)).elementType=S,e.lanes=o,e;case T:return(e=Oc(13,n,t,s)).elementType=T,e.lanes=o,e;case P:return(e=Oc(19,n,t,s)).elementType=P,e.lanes=o,e;case A:return Dc(n,s,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:i=10;break e;case E:i=9;break e;case C:i=11;break e;case O:i=14;break e;case R:i=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(i,n,t,s)).elementType=e,t.type=r,t.lanes=o,t}function Ic(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,s,a,o,i,l){return e=new Mc(e,t,n,i,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Fc(e){if(!e)return Es;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Rs(n))return Is(e,n,t)}return t}function qc(e,t,n,r,s,a,o,i,l){return(e=Bc(n,r,!0,e,0,a,0,i,l)).context=Fc(null),n=e.current,(a=za(r=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,Ma(n,a,s),e.current.lanes=s,vt(e,s,r),rc(e,r),e}function Wc(e,t,n,r){var s=t.current,a=ec(),o=tc(s);return n=Fc(n),null===t.context?t.context=n:t.pendingContext=n,(t=za(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ma(s,t,o))&&(nc(e,s,o,a),Ba(e,s,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}jl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ts.current)bi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bi=!1,function(e,t,n){switch(t.tag){case 3:Ti(t),fa();break;case 5:Ya(t);break;case 1:Rs(t.type)&&Ds(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ns(ka,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ns(Za,1&Za.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ui(e,t,n):(Ns(Za,1&Za.current),null!==(e=Gi(e,t,n))?e.sibling:null);Ns(Za,1&Za.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qi(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ns(Za,Za.current),r)break;return null;case 22:case 23:return t.lanes=0,_i(e,t,n)}return Gi(e,t,n)}(e,t,n);bi=0!==(131072&e.flags)}else bi=!1,sa&&0!==(1048576&t.flags)&&Zs(t,Vs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wi(e,t),e=t.pendingProps;var s=Os(t,Cs.current);Ta(t,n),s=go(null,t,r,e,s,n);var o=vo();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rs(r)?(o=!0,Ds(t)):o=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Da(t),s.updater=si,t.stateNode=s,s._reactInternals=t,li(t,r,e,n),t=Ci(null,t,r,!0,o,n)):(t.tag=0,sa&&o&&ea(t),xi(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wi(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ni(r,e),s){case 0:t=Ni(null,t,r,e,n);break e;case 1:t=Ei(null,t,r,e,n);break e;case 11:t=wi(null,t,r,e,n);break e;case 14:t=ki(null,t,r,ni(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Ni(e,t,r,s=t.elementType===r?s:ni(r,s),n);case 1:return r=t.type,s=t.pendingProps,Ei(e,t,r,s=t.elementType===r?s:ni(r,s),n);case 3:e:{if(Ti(t),null===e)throw Error(a(387));r=t.pendingProps,s=(o=t.memoizedState).element,Ua(e,t),qa(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pi(e,t,r,n,s=ci(Error(a(423)),t));break e}if(r!==s){t=Pi(e,t,r,n,s=ci(Error(a(424)),t));break e}for(ra=cs(t.stateNode.containerInfo.firstChild),na=t,sa=!0,aa=null,n=wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===s){t=Gi(e,t,n);break e}xi(e,t,r,n)}t=t.child}return t;case 5:return Ya(t),null===e&&ca(t),r=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,i=s.children,ns(r,s)?i=null:null!==o&&ns(r,o)&&(t.flags|=32),Si(e,t),xi(e,t,i,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Ui(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xa(t,null,r,n):xi(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,wi(e,t,r,s=t.elementType===r?s:ni(r,s),n);case 7:return xi(e,t,t.pendingProps,n),t.child;case 8:case 12:return xi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ns(ka,r._currentValue),r._currentValue=i,null!==o)if(ir(o.value,i)){if(o.children===s.children&&!Ts.current){t=Gi(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){i=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=za(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ca(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)i=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(i=o.return))throw Error(a(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Ca(i,n,t),i=o.sibling}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}xi(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ta(t,n),r=r(s=Pa(s)),t.flags|=1,xi(e,t,r,n),t.child;case 14:return s=ni(r=t.type,t.pendingProps),ki(e,t,r,s=ni(r.type,s),n);case 15:return ji(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ni(r,s),Wi(e,t),t.tag=1,Rs(r)?(e=!0,Ds(t)):e=!1,Ta(t,n),oi(t,r,s),li(t,r,s,n),Ci(null,t,r,!0,e,n);case 19:return qi(e,t,n);case 22:return _i(e,t,n)}throw Error(a(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof s){var i=s;s=function(){var e=Gc(o);i.call(e)}}Wc(t,o,e,s)}else o=function(e,t,n,r,s){if(s){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[ps]=o.current,qr(8===e.nodeType?e.parentNode:e),uc(),o}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var i=r;r=function(){var e=Gc(l);i.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[ps]=l.current,qr(8===e.nodeType?e.parentNode:e),uc((function(){Wc(t,l,n,r)})),l}(n,t,e,s,r);return Gc(o)}Jc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Jc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Wc(null,e,null,null)})),t[ps]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Ut(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ye()),0===(6&Cl)&&(ql=Ye()+500,qs()))}break;case 13:uc((function(){var t=La(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Vc(e,1)}},kt=function(e){if(13===e.tag){var t=La(e,134217728);if(null!==t)nc(t,e,134217728,ec());Vc(e,134217728)}},jt=function(e){if(13===e.tag){var t=tc(e),n=La(e,t);if(null!==n)nc(n,e,t,ec());Vc(e,t)}},_t=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ws(r);if(!s)throw Error(a(90));K(r),X(r,s)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Te=uc;var eu={usingClientEntryPoint:!1,Events:[bs,xs,ws,Ne,Ee,cc]},tu={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{st=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(a(299));var n=!1,r="",s=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,s),e[ps]=t.current,qr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,s=!1,o="",i=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,s,0,o,i),e[ps]=t.current,qr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Jc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ps]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:a,_owner:i.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,j={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var s,a={},o=null,i=null;if(null!=t)for(s in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,s)&&!_.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===a[s]&&(a[s]=l[s]);return{$$typeof:n,type:e,key:o,ref:i,props:a,_owner:j.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,s,a,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+C(l,0):a,w(o)?(s="",null!=e&&(s=e.replace(E,"$&/")+"/"),T(o,t,s,"",(function(e){return e}))):null!=o&&(N(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,s+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+C(i=e[c],c);l+=T(i,t,s,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)l+=T(i=i.value,t,s,u=a+C(i,c++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],s=0;return T(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},A={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:A,ReactCurrentOwner:j};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),a=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=j.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!_.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:s,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,o=s>>>1;r<o;){var i=2*(r+1)-1,l=e[i],c=i+1,u=e[c];if(0>a(l,n))c<s&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[i]=n,r=i);else{if(!(c<s&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,A(k);else{var t=r(u);null!==t&&L(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(N),N=-1),p=!0;var a=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var i=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?h.callback=i:h===r(c)&&s(c),x(n)}else s(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&L(w,d.startTime-n),l=!1}return l}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,_=!1,S=null,N=-1,E=5,C=-1;function T(){return!(t.unstable_now()-C<E)}function P(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?j():(_=!1,S=null)}}else _=!1}if("function"===typeof b)j=function(){b(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=P,j=function(){R.postMessage(null)}}else j=function(){v(P,0)};function A(e){S=e,_||(_=!0,j())}function L(e,n){N=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(y(N),N=-1):g=!0,L(w,a-o))):(e.sortIndex=i,n(c,e),m||p||(m=!0,A(k))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&s&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(a,o),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>pe,hasStandardBrowserEnv:()=>ge,hasStandardBrowserWebWorkerEnv:()=>ve,navigator:()=>me,origin:()=>ye});var s=n(43),a=n.t(s,2),o=n(391);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){return function(){return e.apply(t,arguments)}}const{toString:f}=Object.prototype,{getPrototypeOf:p}=Object,m=(g=Object.create(null),e=>{const t=f.call(e);return g[t]||(g[t]=t.slice(8,-1).toLowerCase())});var g;const v=e=>(e=e.toLowerCase(),t=>m(t)===e),y=e=>t=>typeof t===e,{isArray:b}=Array,x=y("undefined");const w=v("ArrayBuffer");const k=y("string"),j=y("function"),_=y("number"),S=e=>null!==e&&"object"===typeof e,N=e=>{if("object"!==m(e))return!1;const t=p(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},E=v("Date"),C=v("File"),T=v("Blob"),P=v("FileList"),O=v("URLSearchParams"),[R,A,L,I]=["ReadableStream","Request","Response","Headers"].map(v);function D(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),b(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=s?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let o;for(n=0;n<a;n++)o=r[n],t.call(null,e[o],o,e)}}function U(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const z="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,M=e=>!x(e)&&e!==z;const B=(F="undefined"!==typeof Uint8Array&&p(Uint8Array),e=>F&&e instanceof F);var F;const q=v("HTMLFormElement"),W=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),G=v("RegExp"),H=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};D(n,((n,s)=>{let a;!1!==(a=t(n,s,e))&&(r[s]=a||n)})),Object.defineProperties(e,r)};const V=v("AsyncFunction"),K=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],z.addEventListener("message",(e=>{let{source:t,data:s}=e;t===z&&s===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),z.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,j(z.postMessage)),$="undefined"!==typeof queueMicrotask?queueMicrotask.bind(z):"undefined"!==typeof process&&process.nextTick||K,J={isArray:b,isArrayBuffer:w,isBuffer:function(e){return null!==e&&!x(e)&&null!==e.constructor&&!x(e.constructor)&&j(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||j(e.append)&&("formdata"===(t=m(e))||"object"===t&&j(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&w(e.buffer),t},isString:k,isNumber:_,isBoolean:e=>!0===e||!1===e,isObject:S,isPlainObject:N,isReadableStream:R,isRequest:A,isResponse:L,isHeaders:I,isUndefined:x,isDate:E,isFile:C,isBlob:T,isRegExp:G,isFunction:j,isStream:e=>S(e)&&j(e.pipe),isURLSearchParams:O,isTypedArray:B,isFileList:P,forEach:D,merge:function e(){const{caseless:t}=M(this)&&this||{},n={},r=(r,s)=>{const a=t&&U(n,s)||s;N(n[a])&&N(r)?n[a]=e(n[a],r):N(r)?n[a]=e({},r):b(r)?n[a]=r.slice():n[a]=r};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&D(arguments[s],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return D(t,((t,r)=>{n&&j(t)?e[r]=h(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,a,o;const i={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],r&&!r(o,e,t)||i[o]||(t[o]=e[o],i[o]=!0);e=!1!==n&&p(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:m,kindOfTest:v,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(b(e))return e;let t=e.length;if(!_(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:q,hasOwnProperty:W,hasOwnProp:W,reduceDescriptors:H,freezeMethods:e=>{H(e,((t,n)=>{if(j(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];j(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return b(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:U,global:z,isContextDefined:M,isSpecCompliantForm:function(e){return!!(e&&j(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(S(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const s=b(e)?[]:{};return D(e,((e,t)=>{const a=n(e,r+1);!x(a)&&(s[t]=a)})),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:V,isThenable:e=>e&&(S(e)||j(e))&&j(e.then)&&j(e.catch),setImmediate:K,asap:$};function Q(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}J.inherits(Q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const Y=Q.prototype,X={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{X[e]={value:e}})),Object.defineProperties(Q,X),Object.defineProperty(Y,"isAxiosError",{value:!0}),Q.from=(e,t,n,r,s,a)=>{const o=Object.create(Y);return J.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Q.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const Z=Q;function ee(e){return J.isPlainObject(e)||J.isArray(e)}function te(e){return J.endsWith(e,"[]")?e.slice(0,-2):e}function ne(e,t,n){return e?e.concat(t).map((function(e,t){return e=te(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const re=J.toFlatObject(J,{},null,(function(e){return/^is[A-Z]/.test(e)}));const se=function(e,t,n){if(!J.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=J.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!J.isUndefined(t[e])}))).metaTokens,s=n.visitor||c,a=n.dots,o=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&J.isSpecCompliantForm(t);if(!J.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(J.isDate(e))return e.toISOString();if(!i&&J.isBlob(e))throw new Z("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(e)||J.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let i=e;if(e&&!s&&"object"===typeof e)if(J.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(J.isArray(e)&&function(e){return J.isArray(e)&&!e.some(ee)}(e)||(J.isFileList(e)||J.endsWith(n,"[]"))&&(i=J.toArray(e)))return n=te(n),i.forEach((function(e,r){!J.isUndefined(e)&&null!==e&&t.append(!0===o?ne([n],r,a):null===o?n:n+"[]",l(e))})),!1;return!!ee(e)||(t.append(ne(s,n,a),l(e)),!1)}const u=[],d=Object.assign(re,{defaultVisitor:c,convertValue:l,isVisitable:ee});if(!J.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!J.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),J.forEach(n,(function(n,a){!0===(!(J.isUndefined(n)||null===n)&&s.call(t,n,J.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])})),u.pop()}}(e),t};function ae(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function oe(e,t){this._pairs=[],e&&se(e,this,t)}const ie=oe.prototype;ie.append=function(e,t){this._pairs.push([e,t])},ie.toString=function(e){const t=e?function(t){return e.call(this,t,ae)}:ae;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const le=oe;function ce(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ue(e,t,n){if(!t)return e;const r=n&&n.encode||ce;J.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(a=s?s(t,n):J.isURLSearchParams(t)?t.toString():new le(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const de=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},he={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fe={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:le,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},pe="undefined"!==typeof window&&"undefined"!==typeof document,me="object"===typeof navigator&&navigator||void 0,ge=pe&&(!me||["ReactNative","NativeScript","NS"].indexOf(me.product)<0),ve="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ye=pe&&window.location.href||"http://localhost",be=d(d({},r),fe);const xe=function(e){function t(e,n,r,s){let a=e[s++];if("__proto__"===a)return!0;const o=Number.isFinite(+a),i=s>=e.length;if(a=!a&&J.isArray(r)?r.length:a,i)return J.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o;r[a]&&J.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],s)&&J.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}(r[a])),!o}if(J.isFormData(e)&&J.isFunction(e.entries)){const n={};return J.forEachEntry(e,((e,r)=>{t(function(e){return J.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const we={transitional:he,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=J.isObject(e);s&&J.isHTMLForm(e)&&(e=new FormData(e));if(J.isFormData(e))return r?JSON.stringify(xe(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return se(e,new be.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return be.isNode&&J.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=J.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return se(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(J.isString(e))try{return(t||JSON.parse)(e),J.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||we.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(s){if(n){if("SyntaxError"===s.name)throw Z.from(s,Z.ERR_BAD_RESPONSE,this,null,this.response);throw s}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:be.classes.FormData,Blob:be.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],(e=>{we.headers[e]={}}));const ke=we,je=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_e=Symbol("internals");function Se(e){return e&&String(e).trim().toLowerCase()}function Ne(e){return!1===e||null==e?e:J.isArray(e)?e.map(Ne):String(e)}function Ee(e,t,n,r,s){return J.isFunction(r)?r.call(this,t,n):(s&&(t=n),J.isString(t)?J.isString(r)?-1!==t.indexOf(r):J.isRegExp(r)?r.test(t):void 0:void 0)}class Ce{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=Se(t);if(!s)throw new Error("header name must be a non-empty string");const a=J.findKey(r,s);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Ne(e))}const a=(e,t)=>J.forEach(e,((e,n)=>s(e,n,t)));if(J.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(J.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&je[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(J.isHeaders(e))for(const[o,i]of e.entries())s(i,o,n);else null!=e&&s(t,e,n);return this}get(e,t){if(e=Se(e)){const n=J.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(J.isFunction(t))return t.call(this,e,n);if(J.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Se(e)){const n=J.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ee(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=Se(e)){const s=J.findKey(n,e);!s||t&&!Ee(0,n[s],s,t)||(delete n[s],r=!0)}}return J.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!Ee(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return J.forEach(this,((r,s)=>{const a=J.findKey(n,s);if(a)return t[a]=Ne(r),void delete t[s];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(s):String(s).trim();o!==s&&delete t[s],t[o]=Ne(r),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return J.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&J.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[_e]=this[_e]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Se(e);t[r]||(!function(e,t){const n=J.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})}))}(n,e),t[r]=!0)}return J.isArray(e)?e.forEach(r):r(e),this}}Ce.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),J.reduceDescriptors(Ce.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),J.freezeMethods(Ce);const Te=Ce;function Pe(e,t){const n=this||ke,r=t||n,s=Te.from(r.headers);let a=r.data;return J.forEach(e,(function(e){a=e.call(n,a,s.normalize(),t?t.status:void 0)})),s.normalize(),a}function Oe(e){return!(!e||!e.__CANCEL__)}function Re(e,t,n){Z.call(this,null==e?"canceled":e,Z.ERR_CANCELED,t,n),this.name="CanceledError"}J.inherits(Re,Z,{__CANCEL__:!0});const Ae=Re;function Le(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Z("Request failed with status code "+n.status,[Z.ERR_BAD_REQUEST,Z.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Ie=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,a=0,o=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),c=r[o];s||(s=l),n[a]=i,r[a]=l;let u=o,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const De=function(e,t){let n,r,s=0,a=1e3/t;const o=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=a,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-s;for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];t>=a?o(l,e):(n=l,r||(r=setTimeout((()=>{r=null,o(n)}),a-t)))},()=>n&&o(n)]},Ue=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=Ie(50,250);return De((n=>{const a=n.loaded,o=n.lengthComputable?n.total:void 0,i=a-r,l=s(i);r=a;e({loaded:a,total:o,progress:o?a/o:void 0,bytes:i,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})}),n)},ze=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Me=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return J.asap((()=>e(...n)))},Be=be.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,be.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(be.origin),be.navigator&&/(msie|trident)/i.test(be.navigator.userAgent)):()=>!0,Fe=be.hasStandardBrowserEnv?{write(e,t,n,r,s,a){const o=[e+"="+encodeURIComponent(t)];J.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),J.isString(r)&&o.push("path="+r),J.isString(s)&&o.push("domain="+s),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function qe(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const We=e=>e instanceof Te?d({},e):e;function Ge(e,t){t=t||{};const n={};function r(e,t,n,r){return J.isPlainObject(e)&&J.isPlainObject(t)?J.merge.call({caseless:r},e,t):J.isPlainObject(t)?J.merge({},t):J.isArray(t)?t.slice():t}function s(e,t,n,s){return J.isUndefined(t)?J.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function a(e,t){if(!J.isUndefined(t))return r(void 0,t)}function o(e,t){return J.isUndefined(t)?J.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function i(n,s,a){return a in t?r(n,s):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(e,t,n)=>s(We(e),We(t),0,!0)};return J.forEach(Object.keys(Object.assign({},e,t)),(function(r){const a=l[r]||s,o=a(e[r],t[r],r);J.isUndefined(o)&&a!==i||(n[r]=o)})),n}const He=e=>{const t=Ge({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=Te.from(i),t.url=ue(qe(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),J.isFormData(r))if(be.hasStandardBrowserEnv||be.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(n=i.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(be.hasStandardBrowserEnv&&(s&&J.isFunction(s)&&(s=s(t)),s||!1!==s&&Be(t.url))){const e=a&&o&&Fe.read(o);e&&i.set(a,e)}return t},Ve="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=He(e);let s=r.data;const a=Te.from(r.headers).normalize();let o,i,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Te.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Le((function(e){t(e),p()}),(function(e){n(e),p()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new Z("Request aborted",Z.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Z("Network Error",Z.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||he;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Z(t,s.clarifyTimeoutError?Z.ETIMEDOUT:Z.ECONNABORTED,e,m)),m=null},void 0===s&&a.setContentType(null),"setRequestHeader"in m&&J.forEach(a.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),J.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=Ue(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([i,c]=Ue(h),m.upload.addEventListener("progress",i),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=t=>{m&&(n(!t||t.type?new Ae(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===be.protocols.indexOf(v)?n(new Z("Unsupported protocol "+v+":",Z.ERR_BAD_REQUEST,e)):m.send(s||null)}))},Ke=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Z?t:new Ae(t instanceof Error?t.message:t))}};let a=t&&setTimeout((()=>{a=null,s(new Z("timeout ".concat(t," of ms exceeded"),Z.ETIMEDOUT))}),t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:i}=r;return i.unsubscribe=()=>J.asap(o),i}};function $e(e,t){this.v=e,this.k=t}function Je(e){return function(){return new Qe(e.apply(this,arguments))}}function Qe(e){var t,n;function r(t,n){try{var a=e[t](n),o=a.value,i=o instanceof $e;Promise.resolve(i?o.v:o).then((function(n){if(i){var l="return"===t?"return":"next";if(!o.k||n.done)return r(l,n);n=e[l](n).value}s(a.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,s){return new Promise((function(a,o){var i={key:e,arg:s,resolve:a,reject:o,next:null};n?n=n.next=i:(t=n=i,r(e,s))}))},"function"!=typeof e.return&&(this.return=void 0)}function Ye(e){return new $e(e,0)}function Xe(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new $e(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Ze(e){var t,n,r,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);s--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new et(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function et(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return et=function(e){this.s=e,this.n=e.next},et.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new et(e)}Qe.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Qe.prototype.next=function(e){return this._invoke("next",e)},Qe.prototype.throw=function(e){return this._invoke("throw",e)},Qe.prototype.return=function(e){return this._invoke("return",e)};const tt=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},nt=function(){var e=Je((function*(e,t){var n,r=!1,s=!1;try{for(var a,o=Ze(rt(e));r=!(a=yield Ye(o.next())).done;r=!1){const e=a.value;yield*Xe(Ze(tt(e,t)))}}catch(i){s=!0,n=i}finally{try{r&&null!=o.return&&(yield Ye(o.return()))}finally{if(s)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),rt=function(){var e=Je((function*(e){if(e[Symbol.asyncIterator])return void(yield*Xe(Ze(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Ye(t.read());if(e)break;yield n}}finally{yield Ye(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),st=(e,t,n,r)=>{const s=nt(e,t);let a,o=0,i=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return i(),void e.close();let a=r.byteLength;if(n){let e=o+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw i(t),t}},cancel:e=>(i(e),s.return())},{highWaterMark:2})},at="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,ot=at&&"function"===typeof ReadableStream,it=at&&("function"===typeof TextEncoder?(lt=new TextEncoder,e=>lt.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var lt;const ct=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(s){return!1}},ut=ot&&ct((()=>{let e=!1;const t=new Request(be.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),dt=ot&&ct((()=>J.isReadableStream(new Response("").body))),ht={stream:dt&&(e=>e.body)};var ft;at&&(ft=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ht[e]&&(ht[e]=J.isFunction(ft[e])?t=>t[e]():(t,n)=>{throw new Z("Response type '".concat(e,"' is not supported"),Z.ERR_NOT_SUPPORT,n)})})));const pt=async(e,t)=>{const n=J.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(J.isBlob(e))return e.size;if(J.isSpecCompliantForm(e)){const t=new Request(be.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return J.isArrayBufferView(e)||J.isArrayBuffer(e)?e.byteLength:(J.isURLSearchParams(e)&&(e+=""),J.isString(e)?(await it(e)).byteLength:void 0)})(t):n},mt=at&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:a,timeout:o,onDownloadProgress:i,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:f}=He(e);c=c?(c+"").toLowerCase():"text";let p,m=Ke([s,a&&a.toAbortSignal()],o);const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let v;try{if(l&&ut&&"get"!==n&&"head"!==n&&0!==(v=await pt(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(J.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=ze(v,Ue(Me(l)));r=st(n.body,65536,e,t)}}J.isString(h)||(h=h?"include":"omit");const s="credentials"in Request.prototype;p=new Request(t,d(d({},f),{},{signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:s?h:void 0}));let a=await fetch(p);const o=dt&&("stream"===c||"response"===c);if(dt&&(i||o&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=J.toFiniteNumber(a.headers.get("content-length")),[n,r]=i&&ze(t,Ue(Me(i),!0))||[];a=new Response(st(a.body,65536,n,(()=>{r&&r(),g&&g()})),e)}c=c||"text";let y=await ht[J.findKey(ht,c)||"text"](a,e);return!o&&g&&g(),await new Promise(((t,n)=>{Le(t,n,{data:y,headers:Te.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:p})}))}catch(y){if(g&&g(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new Z("Network Error",Z.ERR_NETWORK,e,p),{cause:y.cause||y});throw Z.from(y,y&&y.code,e,p)}}),gt={http:null,xhr:Ve,fetch:mt};J.forEach(gt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const vt=e=>"- ".concat(e),yt=e=>J.isFunction(e)||null===e||!1===e,bt=e=>{e=J.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!yt(n)&&(r=gt[(t=String(n)).toLowerCase()],void 0===r))throw new Z("Unknown adapter '".concat(t,"'"));if(r)break;s[t||"#"+a]=r}if(!r){const e=Object.entries(s).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(vt).join("\n"):" "+vt(e[0]):"as no adapter specified";throw new Z("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function xt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ae(null,e)}function wt(e){xt(e),e.headers=Te.from(e.headers),e.data=Pe.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return bt(e.adapter||ke.adapter)(e).then((function(t){return xt(e),t.data=Pe.call(e,e.transformResponse,t),t.headers=Te.from(t.headers),t}),(function(t){return Oe(t)||(xt(e),t&&t.response&&(t.response.data=Pe.call(e,e.transformResponse,t.response),t.response.headers=Te.from(t.response.headers))),Promise.reject(t)}))}const kt="1.8.4",jt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{jt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const _t={};jt.transitional=function(e,t,n){function r(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,a)=>{if(!1===e)throw new Z(r(s," has been removed"+(t?" in "+t:"")),Z.ERR_DEPRECATED);return t&&!_t[s]&&(_t[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,a)}},jt.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const St={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Z("options must be an object",Z.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],o=t[a];if(o){const t=e[a],n=void 0===t||o(t,a,e);if(!0!==n)throw new Z("option "+a+" must be "+n,Z.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Z("Unknown option "+a,Z.ERR_BAD_OPTION)}},validators:jt},Nt=St.validators;class Et{constructor(e){this.defaults=e,this.interceptors={request:new de,response:new de}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Ge(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&St.assertOptions(n,{silentJSONParsing:Nt.transitional(Nt.boolean),forcedJSONParsing:Nt.transitional(Nt.boolean),clarifyTimeoutError:Nt.transitional(Nt.boolean)},!1),null!=r&&(J.isFunction(r)?t.paramsSerializer={serialize:r}:St.assertOptions(r,{encode:Nt.function,serialize:Nt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),St.assertOptions(t,{baseUrl:Nt.spelling("baseURL"),withXsrfToken:Nt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&J.merge(s.common,s[t.method]);s&&J.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=Te.concat(a,s);const o=[];let i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!i){const e=[wt.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let h=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=wt.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return ue(qe((e=Ge(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}J.forEach(["delete","get","head","options"],(function(e){Et.prototype[e]=function(t,n){return this.request(Ge(n||{},{method:e,url:t,data:(n||{}).data}))}})),J.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,s){return this.request(Ge(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Et.prototype[e]=t(),Et.prototype[e+"Form"]=t(!0)}));const Ct=Et;class Tt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,s){n.reason||(n.reason=new Ae(e,r,s),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Tt((function(t){e=t})),cancel:e}}}const Pt=Tt;const Ot={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ot).forEach((e=>{let[t,n]=e;Ot[n]=t}));const Rt=Ot;const At=function e(t){const n=new Ct(t),r=h(Ct.prototype.request,n);return J.extend(r,Ct.prototype,n,{allOwnKeys:!0}),J.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Ge(t,n))},r}(ke);At.Axios=Ct,At.CanceledError=Ae,At.CancelToken=Pt,At.isCancel=Oe,At.VERSION=kt,At.toFormData=se,At.AxiosError=Z,At.Cancel=At.CanceledError,At.all=function(e){return Promise.all(e)},At.spread=function(e){return function(t){return e.apply(null,t)}},At.isAxiosError=function(e){return J.isObject(e)&&!0===e.isAxiosError},At.mergeConfig=Ge,At.AxiosHeaders=Te,At.formToJSON=e=>xe(J.isHTMLForm(e)?new FormData(e):e),At.getAdapter=bt,At.HttpStatusCode=Rt,At.default=At;const Lt=At;class It extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class Dt extends It{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ut extends It{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class zt extends It{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mt;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Mt||(Mt={}));var Bt=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function o(e){try{l(r.next(e))}catch(t){a(t)}}function i(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((r=r.apply(e,t||[])).next())}))};class Ft{constructor(e){let{headers:t={},customFetch:r,region:s=Mt.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=s,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return Bt(this,void 0,void 0,(function*(){try{const{headers:r,method:s,body:a}=t;let o={},{region:i}=t;i||(i=this.region);const l=new URL("".concat(this.url,"/").concat(e));let c;i&&"any"!==i&&(o["x-region"]=i,l.searchParams.set("forceFunctionRegion",i)),a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=a):"string"===typeof a?(o["Content-Type"]="text/plain",c=a):"undefined"!==typeof FormData&&a instanceof FormData?c=a:(o["Content-Type"]="application/json",c=JSON.stringify(a)));const u=yield this.fetch(l.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),r),body:c}).catch((e=>{throw new Dt(e)})),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new Ut(u);if(!u.ok)throw new zt(u);let h,f=(null!==(n=u.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return h="application/json"===f?yield u.json():"application/octet-stream"===f?yield u.blob():"text/event-stream"===f?u:"multipart/form-data"===f?yield u.formData():yield u.text(),{data:h,error:null,response:u}}catch(r){return{data:null,error:r,response:r instanceof zt||r instanceof Ut?r.context:void 0}}}))}}var qt=n(980);const{PostgrestClient:Wt,PostgrestQueryBuilder:Gt,PostgrestFilterBuilder:Ht,PostgrestTransformBuilder:Vt,PostgrestBuilder:Kt,PostgrestError:$t}=qt;const Jt=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(e," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(e," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},Qt="realtime-js/".concat("2.15.1"),Yt=1e4;var Xt,Zt,en,tn,nn,rn;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Xt||(Xt={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Zt||(Zt={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(en||(en={})),function(e){e.websocket="websocket"}(tn||(tn={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(nn||(nn={}));class sn{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),s=t.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+r));a+=r;const i=n.decode(e.slice(a,a+s));a+=s;return{ref:null,topic:o,event:i,payload:JSON.parse(n.decode(e.slice(a,e.byteLength)))}}}class an{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(rn||(rn={}));const on=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce(((n,s)=>(n[s]=ln(s,e,t,r),n)),{})},ln=(e,t,n,r)=>{const s=t.find((t=>t.name===e)),a=null===s||void 0===s?void 0:s.type,o=n[e];return a&&!r.includes(a)?cn(a,o):un(o)},cn=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return pn(t,n)}switch(e){case rn.bool:return dn(t);case rn.float4:case rn.float8:case rn.int2:case rn.int4:case rn.int8:case rn.numeric:case rn.oid:return hn(t);case rn.json:case rn.jsonb:return fn(t);case rn.timestamp:return mn(t);case rn.abstime:case rn.date:case rn.daterange:case rn.int4range:case rn.int8range:case rn.money:case rn.reltime:case rn.text:case rn.time:case rn.timestamptz:case rn.timetz:case rn.tsrange:case rn.tstzrange:default:return un(t)}},un=e=>e,dn=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},hn=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},fn=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},pn=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const a=e.slice(1,n);try{r=JSON.parse("["+a+"]")}catch(s){r=a?a.split(","):[]}return r.map((e=>cn(t,e)))}return e},mn=e=>"string"===typeof e?e.replace(" ","T"):e,gn=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class vn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Yt;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter((e=>e.status===t)).forEach((e=>e.callback(n)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var yn,bn,xn,wn;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(yn||(yn={}));class kn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kn.syncState(this.state,e,t,n),this.pendingDiffs.forEach((e=>{this.state=kn.syncDiff(this.state,e,t,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=kn.syncDiff(this.state,e,t,n),r())})),this.onJoin(((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave(((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,n,r){const s=this.cloneDeep(e),a=this.transformState(t),o={},i={};return this.map(s,((e,t)=>{a[e]||(i[e]=t)})),this.map(a,((e,t)=>{const n=s[e];if(n){const r=t.map((e=>e.presence_ref)),s=n.map((e=>e.presence_ref)),a=t.filter((e=>s.indexOf(e.presence_ref)<0)),l=n.filter((e=>r.indexOf(e.presence_ref)<0));a.length>0&&(o[e]=a),l.length>0&&(i[e]=l)}else o[e]=t})),this.syncDiff(s,{joins:o,leaves:i},n,r)}static syncDiff(e,t,n,r){const{joins:s,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(s,((t,r)=>{var s;const a=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(r),a.length>0){const n=e[t].map((e=>e.presence_ref)),r=a.filter((e=>n.indexOf(e.presence_ref)<0));e[t].unshift(...r)}n(t,a,r)})),this.map(a,((t,n)=>{let s=e[t];if(!s)return;const a=n.map((e=>e.presence_ref));s=s.filter((e=>a.indexOf(e.presence_ref)<0)),e[t]=s,r(t,s,n),0===s.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((n=>t(n,e[n])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):r,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(bn||(bn={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(xn||(xn={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(wn||(wn={}));class jn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new vn(this,en.join,this.params,this.timeout),this.rejoinTimer=new an((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=Zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=Zt.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("error",(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())})),this._on(en.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new kn(this),this.broadcastEndpointURL=gn(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Zt.closed){const{config:{broadcast:s,presence:a,private:o}}=this.params,i=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((e=>e.filter)))&&void 0!==r?r:[],l=!!this.bindings[xn.PRESENCE]&&this.bindings[xn.PRESENCE].length>0,c={},u={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:i,private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError((t=>null===e||void 0===e?void 0:e(wn.CHANNEL_ERROR,t))),this._onClose((()=>null===e||void 0===e?void 0:e(wn.CLOSED))),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,s=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,a=[];for(let r=0;r<s;r++){const s=t[r],{filter:{event:o,schema:i,table:l,filter:c}}=s,u=n&&n[r];if(!u||u.event!==o||u.schema!==i||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=Zt.errored,void(null===e||void 0===e||e(wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},s),{id:u.id}))}return this.bindings.postgres_changes=a,void(e&&e(wn.SUBSCRIBED))}null===e||void 0===e||e(wn.SUBSCRIBED)})).receive("error",(t=>{this.state=Zt.errored,null===e||void 0===e||e(wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null===e||void 0===e||e(wn.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Zt.joined&&e===xn.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then((()=>this.subscribe()))),this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise((n=>{var r,s,a;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(s=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===s?void 0:s.broadcast)||void 0===a?void 0:a.ack)||n("ok"),o.receive("ok",(()=>n("ok"))),o.receive("error",(()=>n("error"))),o.receive("timeout",(()=>n("timed out")))}));{const{event:a,payload:o}=e,i={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,i,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(s){return"AbortError"===s.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Zt.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(en.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise((r=>{n=new vn(this,en.leave,{},e),n.receive("ok",(()=>{t(),r("ok")})).receive("timeout",(()=>{t(),r("timed out")})).receive("error",(()=>{r("error")})),n.send(),this._canPush()||n.trigger("ok",{})})).finally((()=>{null===n||void 0===n||n.destroy()}))}teardown(){this.pushBuffer.forEach((e=>e.destroy())),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Zt.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,s=setTimeout((()=>r.abort()),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(s),a}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new vn(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,s;const a=e.toLocaleLowerCase(),{close:o,error:i,leave:l,join:c}=en;if(n&&[o,i,l,c].indexOf(a)>=0&&n!==this._joinRef())return;let u=this._onMessage(a,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===a})).map((e=>e.callback(u,n))):null===(s=this.bindings[a])||void 0===s||s.filter((e=>{var n,r,s,o,i,l;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,o=null===(n=e.filter)||void 0===n?void 0:n.event;return a&&(null===(r=t.ids)||void 0===r?void 0:r.includes(a))&&("*"===o||(null===o||void 0===o?void 0:o.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const n=null===(i=null===(o=null===e||void 0===e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===i?void 0:i.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a})).map((e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:s,errors:a}=e,o={schema:t,table:n,commit_timestamp:r,eventType:s,new:{},old:{},errors:a};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)}))}_isClosed(){return this.state===Zt.closed}_isJoined(){return this.state===Zt.joined}_isJoining(){return this.state===Zt.joining}_isLeaving(){return this.state===Zt.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&jn.isEqual(e.filter,t))}))),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(en.close,{},e)}_onError(e){this._on(en.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=on(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=on(e.columns,e.old_record)),t}}const _n=()=>{},Sn=25e3,Nn=10,En=100,Cn=[1e3,2e3,5e3,1e4];class Tn{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yt,this.transport=null,this.heartbeatIntervalMs=Sn,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_n,this.ref=0,this.reconnectTimer=null,this.logger=_n,this.conn=null,this.sendBuffer=[],this.serializer=new sn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)})).catch((e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")}))}:fetch),function(){return t(...arguments)}},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(tn.websocket),this.httpEndpoint=gn(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jt.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout((()=>{this._setConnectionState("disconnected")}),100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xt.connecting:return nn.Connecting;case Xt.open:return nn.Open;case Xt.closing:return nn.Closing;default:return nn.Closed}}isConnected(){return this.connectionState()===nn.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find((e=>e.topic===n));if(r)return r;{const n=new jn("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:s}=e,a=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push","".concat(t," ").concat(n," (").concat(s,")"),r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout((()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()}),En);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t.topic!==e.topic))}_onConnMessage(e){this.decode(e.data,(e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:s}=e,a=s?"(".concat(s,")"):"",o=r.status||"";this.log("receive","".concat(o," ").concat(t," ").concat(n," ").concat(a).trim(),r),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(n,r,s))),this._triggerStateCallbacks("message",e)}))}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach((e=>e.teardown()))}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach((e=>e._trigger(en.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach((t=>{const n={access_token:e,version:Qt};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(en.access_token,{access_token:e})})))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch((t=>{this.log("error","error setting auth in ".concat(e),t)}))}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach((n=>{try{n(t)}catch(r){this.log("error","error in ".concat(e," callback"),r)}}))}catch(n){this.log("error","error triggering ".concat(e," callbacks"),n)}}_setupReconnectionTimer(){this.reconnectTimer=new an((async()=>{setTimeout((async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Nn)}),this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,s,a,o,i,l;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:Yt,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:Sn,this.worker=null!==(s=null===e||void 0===e?void 0:e.worker)&&void 0!==s&&s,this.accessToken=null!==(a=null===e||void 0===e?void 0:e.accessToken)&&void 0!==a?a:null,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(o=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==o?o:e=>Cn[e-1]||1e4,this.encode=null!==(i=null===e||void 0===e?void 0:e.encode)&&void 0!==i?i:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null===e||void 0===e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class Pn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function On(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class Rn extends Pn{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class An extends Pn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Ln=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function o(e){try{l(r.next(e))}catch(t){a(t)}}function i(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((r=r.apply(e,t||[])).next())}))};const In=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},Dn=e=>{if(Array.isArray(e))return e.map((e=>Dn(e)));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((e=>{let[n,r]=e;const s=n.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[s]=Dn(r)})),t};var Un=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function o(e){try{l(r.next(e))}catch(t){a(t)}}function i(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((r=r.apply(e,t||[])).next())}))};const zn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Mn=(e,t,r)=>Un(void 0,void 0,void 0,(function*(){const s=yield Ln(void 0,void 0,void 0,(function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response}));e instanceof s&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then((n=>{const r=e.status||500,s=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new Rn(zn(n),r,s))})).catch((e=>{t(new An(zn(e),e))})):t(new An(zn(e),e))})),Bn=(e,t,n,r)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(s.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,(null===t||void 0===t?void 0:t.duplex)&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n)):s};function Fn(e,t,n,r,s,a){return Un(this,void 0,void 0,(function*(){return new Promise(((o,i)=>{e(n,Bn(t,r,s,a)).then((e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()})).then((e=>o(e))).catch((e=>Mn(e,i,r)))}))}))}function qn(e,t,n,r){return Un(this,void 0,void 0,(function*(){return Fn(e,"GET",t,n,r)}))}function Wn(e,t,n,r,s){return Un(this,void 0,void 0,(function*(){return Fn(e,"POST",t,r,s,n)}))}function Gn(e,t,n,r,s){return Un(this,void 0,void 0,(function*(){return Fn(e,"PUT",t,r,s,n)}))}function Hn(e,t,n,r,s){return Un(this,void 0,void 0,(function*(){return Fn(e,"DELETE",t,r,s,n)}))}var Vn=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function o(e){try{l(r.next(e))}catch(t){a(t)}}function i(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((r=r.apply(e,t||[])).next())}))};const Kn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$n={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Jn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=In(r)}uploadOrUpdate(e,t,n,r){return Vn(this,void 0,void 0,(function*(){try{let s;const a=Object.assign(Object.assign({},$n),r);let o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)});const i=a.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),i&&s.append("metadata",this.encodeMetadata(i)),s.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),i&&s.append("metadata",this.encodeMetadata(i))):(s=n,o["cache-control"]="max-age=".concat(a.cacheControl),o["content-type"]=a.contentType,i&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(i)))),(null===r||void 0===r?void 0:r.headers)&&(o=Object.assign(Object.assign({},o),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?Gn:Wn)(this.fetch,"".concat(this.url,"/object/").concat(c),s,Object.assign({headers:o},(null===a||void 0===a?void 0:a.duplex)?{duplex:a.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(s){if(On(s))return{data:null,error:s};throw s}}))}upload(e,t,n){return Vn(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}uploadToSignedUrl(e,t,n,r){return Vn(this,void 0,void 0,(function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+"/object/upload/sign/".concat(a));o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:$n.upsert},r),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,a["cache-control"]="max-age=".concat(t.cacheControl),a["content-type"]=t.contentType);return{data:{path:s,fullPath:(yield Gn(this.fetch,o.toString(),e,{headers:a})).Key},error:null}}catch(i){if(On(i))return{data:null,error:i};throw i}}))}createSignedUploadUrl(e,t){return Vn(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const s=yield Wn(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new Pn("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}}))}update(e,t,n){return Vn(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}move(e,t,n){return Vn(this,void 0,void 0,(function*(){try{return{data:yield Wn(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}}))}copy(e,t,n){return Vn(this,void 0,void 0,(function*(){try{return{data:{path:(yield Wn(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}}))}createSignedUrl(e,t,n){return Vn(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e),s=yield Wn(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const a=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return s={signedUrl:encodeURI("".concat(this.url).concat(s.signedURL).concat(a))},{data:s,error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}}))}createSignedUrls(e,t,n){return Vn(this,void 0,void 0,(function*(){try{const r=yield Wn(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),s=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(s)):null}))),error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}}))}download(e,t){return Vn(this,void 0,void 0,(function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),s=r?"?".concat(r):"";try{const t=this._getFinalPath(e),r=yield qn(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(t).concat(s),{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(a){if(On(a))return{data:null,error:a};throw a}}))}info(e){return Vn(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield qn(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:Dn(e),error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}}))}exists(e){return Vn(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return Un(this,void 0,void 0,(function*(){return Fn(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)}))}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(On(n)&&n instanceof An){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}}))}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==s&&r.push(s);const a="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==o&&r.push(o);let i=r.join("&");return""!==i&&(i="?".concat(i)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(a,"/public/").concat(n).concat(i))}}}remove(e){return Vn(this,void 0,void 0,(function*(){try{return{data:yield Hn(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(On(t))return{data:null,error:t};throw t}}))}list(e,t,n){return Vn(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},Kn),t),{prefix:e||""});return{data:yield Wn(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const Qn={"X-Client-Info":"storage-js/".concat("2.10.5")};var Yn=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function o(e){try{l(r.next(e))}catch(t){a(t)}}function i(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((r=r.apply(e,t||[])).next())}))};class Xn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const s=new URL(e);if(null===r||void 0===r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."))}this.url=s.href,this.headers=Object.assign(Object.assign({},Qn),t),this.fetch=In(n)}listBuckets(){return Yn(this,void 0,void 0,(function*(){try{return{data:yield qn(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(On(e))return{data:null,error:e};throw e}}))}getBucket(e){return Yn(this,void 0,void 0,(function*(){try{return{data:yield qn(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(On(t))return{data:null,error:t};throw t}}))}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Yn(this,void 0,void 0,(function*(){try{return{data:yield Wn(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}}))}updateBucket(e,t){return Yn(this,void 0,void 0,(function*(){try{return{data:yield Gn(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}}))}emptyBucket(e){return Yn(this,void 0,void 0,(function*(){try{return{data:yield Wn(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(On(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return Yn(this,void 0,void 0,(function*(){try{return{data:yield Hn(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(On(t))return{data:null,error:t};throw t}}))}}class Zn extends Xn{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new Jn(this.url,this.headers,e,this.fetch)}}let er="";er="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const tr={headers:{"X-Client-Info":"supabase-js-".concat(er,"/").concat("2.55.0")}},nr={schema:"public"},rr={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sr={};var ar=n(630),or=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function o(e){try{l(r.next(e))}catch(t){a(t)}}function i(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((r=r.apply(e,t||[])).next())}))};const ir=e=>{let t;return t=e||("undefined"===typeof fetch?ar.default:fetch),function(){return t(...arguments)}},lr=(e,t,n)=>{const r=ir(n),s="undefined"===typeof Headers?ar.Headers:Headers;return(n,a)=>or(void 0,void 0,void 0,(function*(){var o;const i=null!==(o=yield t())&&void 0!==o?o:e;let l=new s(null===a||void 0===a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(i)),r(n,Object.assign(Object.assign({},a),{headers:l}))}))};var cr=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function o(e){try{l(r.next(e))}catch(t){a(t)}}function i(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((r=r.apply(e,t||[])).next())}))};const ur="2.71.1",dr=3e4,hr=9e4,fr={"X-Client-Info":"gotrue-js/".concat(ur)},pr="X-Supabase-Api-Version",mr={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},gr=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class vr extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function yr(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class br extends vr{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class xr extends vr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class wr extends vr{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class kr extends wr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class jr extends wr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _r extends wr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Sr extends wr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nr extends wr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Er extends wr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Cr(e){return yr(e)&&"AuthRetryableFetchError"===e.name}class Tr extends wr{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Pr extends wr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Or="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rr=" \t\n\r=".split(""),Ar=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Rr.length;t+=1)e[Rr[t].charCodeAt(0)]=-2;for(let t=0;t<Or.length;t+=1)e[Or[t].charCodeAt(0)]=t;return e})();function Lr(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Or[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Or[e]),t.queuedBits-=6}}function Ir(e,t,n){const r=Ar[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Dr(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let o=0;o<e.length;o+=1)Ir(e.charCodeAt(o),s,a);return t.join("")}function Ur(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function zr(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Ur(r,t)}}function Mr(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let s=0;s<e.length;s+=1)Ir(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Br(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach((e=>Lr(e,n,r))),Lr(null,n,r),t.join("")}const Fr=()=>"undefined"!==typeof window&&"undefined"!==typeof document,qr={tested:!1,writable:!1},Wr=()=>{if(!Fr())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(qr.tested)return qr.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),qr.tested=!0,qr.writable=!0}catch(t){qr.tested=!0,qr.writable=!1}return qr.writable};const Gr=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},Hr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Vr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Kr=async(e,t)=>{await e.removeItem(t)};class $r{constructor(){this.promise=new $r.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function Jr(e){const t=e.split(".");if(3!==t.length)throw new Pr("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!gr.test(t[n]))throw new Pr("JWT not in base64url format");return{header:JSON.parse(Dr(t[0])),payload:JSON.parse(Dr(t[1])),signature:Mr(t[2]),raw:{header:t[0],payload:t[1]}}}function Qr(e){return("0"+e.toString(16)).substr(-2)}async function Yr(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Qr).join("")}();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Hr(e,"".concat(t,"-code-verifier"),s);const a=await Yr(r);return[a,r===a?"plain":"s256"]}$r.promiseConstructor=Promise;const Zr=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const es=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ts(e){if(!es.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ns(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function rs(e){return JSON.parse(JSON.stringify(e))}var ss=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const as=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),os=[502,503,504];async function is(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new Er(as(e),0);if(os.includes(e.status))throw new Er(as(e),e.status);let r,s;try{r=await e.json()}catch(o){throw new xr(as(o),o)}const a=function(e){const t=e.headers.get(pr);if(!t)return null;if(!t.match(Zr))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(o){return null}}(e);if(a&&a.getTime()>=mr.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?s=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(s=r.error_code),s){if("weak_password"===s)throw new Tr(as(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===s)throw new kr}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0))throw new Tr(as(r),e.status,r.weak_password.reasons);throw new br(as(r),e.status||500,s)}async function ls(e,t,n,r){var s;const a=Object.assign({},null===r||void 0===r?void 0:r.headers);a[pr]||(a[pr]=mr.name),(null===r||void 0===r?void 0:r.jwt)&&(a.Authorization="Bearer ".concat(r.jwt));const o=null!==(s=null===r||void 0===r?void 0:r.query)&&void 0!==s?s:{};(null===r||void 0===r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);const i=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,n,r,s,a){const o=((e,t,n,r)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))})(t,r,s,a);let i;try{i=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Er(as(l),0)}i.ok||await is(i);if(null===r||void 0===r?void 0:r.noResolveJson)return i;try{return await i.json()}catch(l){await is(l)}}(e,t,n+i,{headers:a,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function cs(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function us(e){const t=cs(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function ds(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function hs(e){return{data:e,error:null}}function fs(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,o=ss(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},user:Object.assign({},o)},error:null}}function ps(e){return e}const ms=["global","local","others"];var gs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};class vs{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Gr(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ms[0];if(ms.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(ms.join(", ")));try{return await ls(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(yr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await ls(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ds})}catch(n){if(yr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=gs(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await ls(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:fs,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(yr(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ls(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:ds})}catch(t){if(yr(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,s,a,o,i;try{const l={nextPage:null,lastPage:0,total:0},c=await ls(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:ps});if(c.error)throw c.error;const u=await c.json(),d=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(i=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==i?i:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t})),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(yr(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){ts(e);try{return await ls(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:ds})}catch(t){if(yr(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ts(e);try{return await ls(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:ds})}catch(n){if(yr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ts(e);try{return await ls(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:ds})}catch(n){if(yr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ts(e.userId);try{const{data:t,error:n}=await ls(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(yr(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ts(e.userId),ts(e.id);try{return{data:await ls(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(yr(t))return{data:null,error:t};throw t}}}function ys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const bs=!!(globalThis&&Wr()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class xs extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ws extends xs{}async function ks(e,t,n){bs&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout((()=>{r.abort(),bs&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},(async r=>{if(!r){if(0===t)throw bs&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ws('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(bs)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}bs&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{bs&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const js={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fr,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _s(e,t,n){return await n()}const Ss={};class Ns{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ns.nextInstanceID,Ns.nextInstanceID+=1,this.instanceID>0&&Fr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},js),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new vs({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Gr(r.fetch),this.lock=r.lock||_s,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Fr()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=ks:this.lock=_s,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Wr()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ys(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=ys(this.memoryStorage)),Fr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=Ss[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Ss[this.storageKey]=Object.assign(Object.assign({},Ss[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Ss[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ss[this.storageKey]=Object.assign(Object.assign({},Ss[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(ur,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((e,n)=>{t[n]=e}))}catch(r){}return n.searchParams.forEach(((e,n)=>{t[n]=e})),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Fr()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),function(e){return yr(e)&&"AuthImplicitGrantRedirectError"===e.name}(s)){const t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout((async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return yr(t)?{error:t}:{error:new xr("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const s=await ls(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:cs}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const i=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(s){if(yr(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,n,r;try{let s;if("email"in e){const{email:n,password:r,options:a}=e;let o=null,i=null;"pkce"===this.flowType&&([o,i]=await Xr(this.storage,this.storageKey)),s=await ls(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:o,code_challenge_method:i},xform:cs})}else{if(!("phone"in e))throw new _r("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:o}=e;s=await ls(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:a,data:null!==(n=null===o||void 0===o?void 0:o.data)&&void 0!==n?n:{},channel:null!==(r=null===o||void 0===o?void 0:o.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:cs})}}const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const i=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(s){if(yr(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:s}=e;t=await ls(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:us})}else{if(!("phone"in e))throw new _r("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:s}=e;t=await ls(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:us})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new jr}}catch(t){if(yr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,n,r,s,a,o,i,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let v;if(Fr())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(y.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(y.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map((e=>"- ".concat(e)))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await ls(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:Br(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:cs});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new jr}}catch(m){if(yr(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await Vr(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:s}=await ls(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:cs});if(await Kr(this.storage,"".concat(this.storageKey,"-code-verifier")),s)throw s;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:s}):{data:{user:null,session:null,redirectType:null},error:new jr}}catch(s){if(yr(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:s,nonce:a}=e,o=await ls(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:cs}),{data:i,error:l}=o;return l?{data:{user:null,session:null},error:l}:i&&i.session&&i.user?(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:i,error:l}):{data:{user:null,session:null},error:new jr}}catch(t){if(yr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,s,a;try{if("email"in e){const{email:r,options:s}=e;let a=null,o=null;"pkce"===this.flowType&&([a,o]=await Xr(this.storage,this.storageKey));const{error:i}=await ls(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(n=null===s||void 0===s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:a,code_challenge_method:o},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:t,options:n}=e,{data:o,error:i}=await ls(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(s=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(a=null===n||void 0===n?void 0:n.channel)&&void 0!==a?a:"sms"}});return{data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:i}}throw new _r("You must provide either an email or phone number.")}catch(o){if(yr(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let r,s;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:a,error:o}=await ls(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:cs});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const i=a.session,l=a.user;return(null===i||void 0===i?void 0:i.access_token)&&(await this._saveSession(i),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(r){if(yr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let s=null,a=null;return"pkce"===this.flowType&&([s,a]=await Xr(this.storage,this.storageKey)),await ls(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:hs})}catch(s){if(yr(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new kr;const{error:r}=await ls(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}))}catch(e){if(yr(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:s}=e,{error:a}=await ls(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:n,type:r,options:s}=e,{data:a,error:o}=await ls(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:o}}throw new _r("You must provide either an email or phone number and a type")}catch(t){if(yr(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Vr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<hr;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await Vr(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=ns()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await ls(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:ds}):await this._useSession((async e=>{var t,n,r;const{data:s,error:a}=e;if(a)throw a;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await ls(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:ds}):{data:{user:null},error:new kr}}))}catch(t){if(yr(t))return function(e){return yr(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Kr(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession((async n=>{const{data:r,error:s}=n;if(s)throw s;if(!r.session)throw new kr;const a=r.session;let o=null,i=null;"pkce"===this.flowType&&null!=e.email&&([o,i]=await Xr(this.storage,this.storageKey));const{data:l,error:c}=await ls(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:i}),jwt:a.access_token,xform:ds});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}}))}catch(n){if(yr(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new kr;const t=Date.now()/1e3;let n=t,r=!0,s=null;const{payload:a}=Jr(e.access_token);if(a.exp&&(n=a.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:r,error:a}=await this._getUser(e.access_token);if(a)throw a;s={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(yr(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var n;if(!e){const{data:r,error:s}=t;if(s)throw s;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new kr;const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(yr(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Fr())throw new Sr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Sr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Nr("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Sr("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Nr("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:s,refresh_token:a,expires_in:o,expires_at:i,token_type:l}=e;if(!s||!o||!a||!l)throw new Sr("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(o);let d=c+u;i&&(d=parseInt(i));const h=d-c;1e3*h<=dr&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(s);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:s,expires_in:u,expires_at:d,refresh_token:a,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(yr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Vr(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession((async t=>{var n;const{data:r,error:s}=t;if(s)return{error:s};const a=null===(n=r.session)||void 0===n?void 0:n.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!function(e){return yr(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Kr(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession((async t=>{var n,r;try{const{data:{session:r},error:s}=t;if(s)throw s;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(s){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await Xr(this.storage,this.storageKey,!0));try{return await ls(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(yr(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(yr(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession((async t=>{var n,r,s,a,o;const{data:i,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await ls(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(a=i.session)||void 0===a?void 0:a.access_token)&&void 0!==o?o:void 0})}));if(r)throw r;return Fr()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(yr(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var n,r;const{data:s,error:a}=t;if(a)throw a;return await ls(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})}))}catch(t){if(yr(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const s=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await ls(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:cs})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Cr(t)&&Date.now()+n-s<dr},new Promise(((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await n(a);if(!r(a,null,t))return void e(t)}catch(s){if(!r(a,s))return void t(s)}})()})))}catch(s){if(this._debug(t,"error",s),yr(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Fr()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Vr(this.storage,this.storageKey);if(s&&this.userStorage){let t=await Vr(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:s.user},await Hr(this.userStorage,this.storageKey+"-user",t)),s.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:ns()}else if(s&&!s.user&&!s.user){const e=await Vr(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(s.user=e.user,await Kr(this.storage,this.storageKey+"-user"),await Hr(this.storage,this.storageKey,s)):s.user=ns()}if(this._debug(n,"session from storage",s),!this._isValidSession(s))return this._debug(n,"session is not valid"),void(null!==s&&await this._removeSession());const a=1e3*(null!==(t=s.expires_at)&&void 0!==t?t:1/0)-Date.now()<hr;if(this._debug(n,"session has".concat(a?"":" not"," expired with margin of ").concat(hr,"s")),a){if(this.autoRefreshToken&&s.refresh_token){const{error:e}=await this._callRefreshToken(s.refresh_token);e&&(console.error(e),Cr(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(s.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(s.user=e.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return this._debug(n,"error",s),void console.error(s)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new kr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new $r;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new kr;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(s){if(this._debug(r,"error",s),yr(s)){const e={session:null,error:s};return Cr(s)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],s=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(e,t)}catch(s){r.push(s)}}));if(await Promise.all(s),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Hr(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=rs(e);await Hr(this.storage,this.storageKey,r)}else{const e=rs(t);await Hr(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await Kr(this.storage,this.storageKey),await Kr(this.storage,this.storageKey+"-code-verifier"),await Kr(this.storage,this.storageKey+"-user"),this.userStorage&&await Kr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Fr()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),dr);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/dr);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(dr,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof xs))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fr()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await Xr(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await ls(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(yr(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var n,r;const{data:s,error:a}=t;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:i,error:l}=await ls(this.fetch,"POST","".concat(this.url,"/factors"),{body:o,headers:this.headers,jwt:null===(n=null===s||void 0===s?void 0:s.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===i||void 0===i?void 0:i.totp)||void 0===r?void 0:r.qr_code)&&(i.totp.qr_code="data:image/svg+xml;utf-8,".concat(i.totp.qr_code)),{data:i,error:null})}))}catch(t){if(yr(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;if(s)return{data:null,error:s};const{data:a,error:o}=await ls(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})}))}catch(t){if(yr(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await ls(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(yr(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),s=n.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:n,totp:r,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,n;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Jr(r.access_token);let o=null;a.aal&&(o=a.aal);let i=o;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==n?n:[]).length>0&&(i="aal2");return{data:{currentLevel:o,nextLevel:i,currentAuthenticationMethods:a.amr||[]},error:null}}))))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find((t=>t.kid===e));if(t)return t;const n=Date.now();if(t=this.jwks.keys.find((t=>t.kid===e)),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:s}=await ls(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(s)throw s;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find((t=>t.kid===e)),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:s,signature:a,raw:{header:o,payload:i}}=Jr(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(s.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:s,header:r,signature:a},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,a,function(e){const t=[];return zr(e,(e=>t.push(e))),new Uint8Array(t)}("".concat(o,".").concat(i))))throw new Pr("Invalid JWT signature");return{data:{claims:s,header:r,signature:a},error:null}}catch(n){if(yr(n))return{data:null,error:n};throw n}}}Ns.nextInstanceID=0;const Es=Ns;class Cs extends Es{constructor(e){super(e)}}var Ts=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function o(e){try{l(r.next(e))}catch(t){a(t)}}function i(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((r=r.apply(e,t||[])).next())}))};class Ps{constructor(e,t,n){var r,s,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=(i=e).endsWith("/")?i:i+"/";var i;const l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c="sb-".concat(l.hostname.split(".")[0],"-auth-token"),u=function(e,t){var n,r;const{db:s,auth:a,realtime:o,global:i}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),i),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===i||void 0===i?void 0:i.headers)&&void 0!==r?r:{})}),accessToken:()=>cr(this,void 0,void 0,(function*(){return""}))};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:nr,realtime:sr,auth:Object.assign(Object.assign({},rr),{storageKey:c}),global:tr});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(s=u.global.headers)&&void 0!==s?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(a=u.auth)&&void 0!==a?a:{},this.headers,u.global.fetch),this.fetch=lr(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Wt(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Zn(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ft(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Ts(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey}))}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:o,storageKey:i,flowType:l,lock:c,debug:u}=e;const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Cs({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:i,autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:o,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Tn(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)}))}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Os="https://kvuzryhwszngcddetala.supabase.co",Rs="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2dXpyeWh3c3puZ2NkZGV0YWxhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxNjM0MTYsImV4cCI6MjA3MDczOTQxNn0._VVBtKk89uUyZEE3OKy9ZberPetp37dVbEoxOigN1lU",As=((e,t,n)=>new Ps(e,t,n))(Os,Rs,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}});function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ls.apply(this,arguments)}var Is;console.log("DEBUG: Supabase URL:",Os),console.log("DEBUG: Supabase Key (first 20 chars):",Rs.substring(0,20)+"..."),console.log("DEBUG: Key length:",Rs.length),console.log("DEBUG: Environment variables loaded:",{hasUrl:!0,hasKey:!0}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Is||(Is={}));const Ds="popstate";function Us(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function zs(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Ms(e,t){return{usr:e.state,key:e.key,idx:t}}function Bs(e,t,n,r){return void 0===n&&(n=null),Ls({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?qs(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Fs(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function qs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ws(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,i=Is.Pop,l=null,c=u();function u(){return(o.state||{idx:null}).idx}function d(){i=Is.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:i,location:f.location,delta:t})}function h(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:Fs(e);return n=n.replace(/ $/,"%20"),Us(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,o.replaceState(Ls({},o.state,{idx:c}),""));let f={get action(){return i},get location(){return e(s,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ds,d),l=e,()=>{s.removeEventListener(Ds,d),l=null}},createHref:e=>t(s,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){i=Is.Push;let r=Bs(f.location,e,t);n&&n(r,e),c=u()+1;let d=Ms(r,c),h=f.createHref(r);try{o.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;s.location.assign(h)}a&&l&&l({action:i,location:f.location,delta:1})},replace:function(e,t){i=Is.Replace;let r=Bs(f.location,e,t);n&&n(r,e),c=u();let s=Ms(r,c),d=f.createHref(r);o.replaceState(s,"",d),a&&l&&l({action:i,location:f.location,delta:0})},go:e=>o.go(e)};return f}var Gs;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Gs||(Gs={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function Hs(e,t,n){return void 0===n&&(n="/"),Vs(e,t,n,!1)}function Vs(e,t,n,r){let s=oa(("string"===typeof t?qs(t):t).pathname||"/",n);if(null==s)return null;let a=Ks(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let o=null;for(let i=0;null==o&&i<a.length;++i){let e=aa(s);o=ra(a[i],e,r)}return o}function Ks(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};o.relativePath.startsWith("/")&&(Us(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let i=da([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(Us(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),Ks(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:na(i,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of $s(e.path))s(e,t,r);else s(e,t)})),t}function $s(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return s?[a,""]:[a];let o=$s(r.join("/")),i=[];return i.push(...o.map((e=>""===e?a:[a,e].join("/")))),s&&i.push(...o),i.map((t=>e.startsWith("/")&&""===t?"/":t))}const Js=/^:[\w-]+$/,Qs=3,Ys=2,Xs=1,Zs=10,ea=-2,ta=e=>"*"===e;function na(e,t){let n=e.split("/"),r=n.length;return n.some(ta)&&(r+=ea),t&&(r+=Ys),n.filter((e=>!ta(e))).reduce(((e,t)=>e+(Js.test(t)?Qs:""===t?Xs:Zs)),r)}function ra(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},a="/",o=[];for(let i=0;i<r.length;++i){let e=r[i],l=i===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=sa({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=sa({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),o.push({params:s,pathname:da([a,u.pathname]),pathnameBase:ha(da([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=da([a,u.pathnameBase]))}return o}function sa(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);zs("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let a=new RegExp(s,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=i[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:a,pathnameBase:o,pattern:e}}function aa(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return zs(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function oa(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ia(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function la(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function ca(e,t){let n=la(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function ua(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=qs(e):(s=Ls({},e),Us(!s.pathname||!s.pathname.includes("?"),ia("?","pathname","search",s)),Us(!s.pathname||!s.pathname.includes("#"),ia("#","pathname","hash",s)),Us(!s.search||!s.search.includes("#"),ia("#","search","hash",s)));let a,o=""===e||""===s.pathname,i=o?"/":s.pathname;if(null==i)a=n;else{let e=t.length-1;if(!r&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?qs(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:fa(r),hash:pa(s)}}(s,a),c=i&&"/"!==i&&i.endsWith("/"),u=(o||"."===i)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const da=e=>e.join("/").replace(/\/\/+/g,"/"),ha=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fa=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",pa=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function ma(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const ga=["post","put","patch","delete"],va=(new Set(ga),["get",...ga]);new Set(va),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ya.apply(this,arguments)}const ba=s.createContext(null);const xa=s.createContext(null);const wa=s.createContext(null);const ka=s.createContext(null);const ja=s.createContext({outlet:null,matches:[],isDataRoute:!1});const _a=s.createContext(null);function Sa(){return null!=s.useContext(ka)}function Na(){return Sa()||Us(!1),s.useContext(ka).location}function Ea(e){s.useContext(wa).static||s.useLayoutEffect(e)}function Ca(){let{isDataRoute:e}=s.useContext(ja);return e?function(){let{router:e}=Ua(Ia.UseNavigateStable),t=Ma(Da.UseNavigateStable),n=s.useRef(!1);return Ea((()=>{n.current=!0})),s.useCallback((function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,ya({fromRouteId:t},s)))}),[e,t])}():function(){Sa()||Us(!1);let e=s.useContext(ba),{basename:t,future:n,navigator:r}=s.useContext(wa),{matches:a}=s.useContext(ja),{pathname:o}=Na(),i=JSON.stringify(ca(a,n.v7_relativeSplatPath)),l=s.useRef(!1);return Ea((()=>{l.current=!0})),s.useCallback((function(n,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof n)return void r.go(n);let a=ua(n,JSON.parse(i),o,"path"===s.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:da([t,a.pathname])),(s.replace?r.replace:r.push)(a,s.state,s)}),[t,r,i,o,e])}()}function Ta(e,t,n,r){Sa()||Us(!1);let{navigator:a}=s.useContext(wa),{matches:o}=s.useContext(ja),i=o[o.length-1],l=i?i.params:{},c=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let u,d=Na();if(t){var h;let e="string"===typeof t?qs(t):t;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||Us(!1),u=e}else u=d;let f=u.pathname||"/",p=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=Hs(e,{pathname:p});let g=La(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:da([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:da([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n,r);return t&&g?s.createElement(ka.Provider,{value:{location:ya({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Is.Pop}},g):g}function Pa(){let e=function(){var e;let t=s.useContext(_a),n=za(Da.UseRouteError),r=Ma(Da.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=ma(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:a},n):null,null)}const Oa=s.createElement(Pa,null);class Ra extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(ja.Provider,{value:this.props.routeContext},s.createElement(_a.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Aa(e){let{routeContext:t,match:n,children:r}=e,a=s.useContext(ba);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(ja.Provider,{value:t},r)}function La(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let i=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=i.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||Us(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<i.length;s++){let e=i[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){c=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight(((e,r,a)=>{let o,d=!1,h=null,f=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||Oa,c&&(u<0&&0===a?(p="route-fallback",!1||Ba[p]||(Ba[p]=!0),d=!0,f=null):u===a&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,a+1)),g=()=>{let t;return t=o?h:d?f:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(Aa,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?s.createElement(Ra,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var Ia=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ia||{}),Da=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Da||{});function Ua(e){let t=s.useContext(ba);return t||Us(!1),t}function za(e){let t=s.useContext(xa);return t||Us(!1),t}function Ma(e){let t=function(){let e=s.useContext(ja);return e||Us(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||Us(!1),n.route.id}const Ba={};function Fa(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function qa(e){Us(!1)}function Wa(e){let{basename:t="/",children:n=null,location:r,navigationType:a=Is.Pop,navigator:o,static:i=!1,future:l}=e;Sa()&&Us(!1);let c=t.replace(/^\/*/,"/"),u=s.useMemo((()=>({basename:c,navigator:o,static:i,future:ya({v7_relativeSplatPath:!1},l)})),[c,l,o,i]);"string"===typeof r&&(r=qs(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,g=s.useMemo((()=>{let e=oa(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:a}}),[c,d,h,f,p,m,a]);return null==g?null:s.createElement(wa.Provider,{value:u},s.createElement(ka.Provider,{children:n,value:g}))}function Ga(e){let{children:t,location:n}=e;return Ta(Ha(t),n)}new Promise((()=>{}));s.Component;function Ha(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,((e,r)=>{if(!s.isValidElement(e))return;let a=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,Ha(e.props.children,a));e.type!==qa&&Us(!1),e.props.index&&e.props.children&&Us(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ha(e.props.children,a)),n.push(o)})),n}var Va=n(579);const Ka="".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUPABASE_URL:"https://kvuzryhwszngcddetala.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2dXpyeWh3c3puZ2NkZGV0YWxhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxNjM0MTYsImV4cCI6MjA3MDczOTQxNn0._VVBtKk89uUyZEE3OKy9ZberPetp37dVbEoxOigN1lU"}.REACT_APP_BACKEND_URL,"/api"),$a=e=>{let{onBack:t,handlePlanSelect:n}=e;const r=["Unlimited essay marking","Advanced analytics and insights","Detailed feedback and suggestions","Progress tracking","Priority support"],s={id:"unlimited_monthly",name:"Unlimited Monthly",price:"$4.99",period:"/month",features:r},a={id:"unlimited_yearly",name:"Unlimited Yearly",price:"$49",period:"/year",features:[...r.slice(0,-1),"Priority support (higher priority)"]};return(0,Va.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Va.jsxs)("div",{className:"text-center mb-10",children:[(0,Va.jsx)("h1",{className:"text-4xl font-fredoka font-bold mb-3",children:"Choose your plan"}),(0,Va.jsx)("span",{className:"inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-sm font-fredoka",children:"Intro pricing"})]}),(0,Va.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[(0,Va.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8",children:[(0,Va.jsxs)("div",{className:"text-center mb-6",children:[(0,Va.jsx)("h2",{className:"text-2xl font-fredoka font-bold text-gray-900 mb-2",children:s.name}),(0,Va.jsxs)("div",{className:"flex items-end justify-center gap-2",children:[(0,Va.jsx)("span",{className:"text-4xl font-bold text-blue-600",children:s.price}),(0,Va.jsx)("span",{className:"text-gray-600 mb-1",children:s.period})]}),(0,Va.jsx)("p",{className:"text-gray-600 font-fredoka mt-2",children:"Unlimited access, billed monthly"})]}),(0,Va.jsx)("div",{className:"space-y-3 mb-6",children:s.features.map(((e,t)=>(0,Va.jsxs)("div",{className:"flex items-start",children:[(0,Va.jsx)("div",{className:"flex-shrink-0 w-5 h-5 bg-green-500 text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5",children:"\u2713"}),(0,Va.jsx)("span",{className:"text-gray-700 font-fredoka",children:e})]},t)))}),(0,Va.jsx)("button",{onClick:()=>n(s),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold py-4 px-6 rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200 transform hover:scale-105 font-fredoka text-lg",children:"Get Unlimited - $4.99/m"}),(0,Va.jsx)("p",{className:"text-sm text-gray-500 font-fredoka text-center mt-4",children:"\ud83d\udd12 Secure payment \u2022 Cancel anytime \u2022 No setup fees"})]}),(0,Va.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-blue-500 p-8 relative overflow-hidden",children:[(0,Va.jsx)("div",{className:"absolute top-0 right-0 bg-blue-500 text-white px-4 py-2 rounded-bl-lg font-bold text-sm",children:"BEST VALUE"}),(0,Va.jsxs)("div",{className:"text-center mb-6",children:[(0,Va.jsx)("h2",{className:"text-2xl font-fredoka font-bold text-gray-900 mb-2",children:a.name}),(0,Va.jsxs)("div",{className:"flex items-end justify-center gap-2",children:[(0,Va.jsx)("span",{className:"text-4xl font-bold text-blue-600",children:a.price}),(0,Va.jsx)("span",{className:"text-gray-600 mb-1",children:a.period})]}),(0,Va.jsx)("p",{className:"text-gray-600 font-fredoka mt-2",children:"Same features, billed yearly"})]}),(0,Va.jsx)("div",{className:"space-y-3 mb-6",children:a.features.map(((e,t)=>(0,Va.jsxs)("div",{className:"flex items-start",children:[(0,Va.jsx)("div",{className:"flex-shrink-0 w-5 h-5 bg-green-500 text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5",children:"\u2713"}),(0,Va.jsx)("span",{className:"text-gray-700 font-fredoka",children:e})]},t)))}),(0,Va.jsx)("button",{onClick:()=>n(a),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold py-4 px-6 rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200 transform hover:scale-105 font-fredoka text-lg",children:"Get Unlimited - $49/year"}),(0,Va.jsx)("p",{className:"text-sm text-gray-500 font-fredoka text-center mt-4",children:"Includes higher priority support"})]})]})]})},Ja=e=>{let{isVisible:t,onClose:n}=e;return t?(0,Va.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Va.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[(0,Va.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Va.jsx)("h2",{className:"text-xl font-fredoka font-bold text-gray-900",children:"Keyboard Shortcuts"}),(0,Va.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:(0,Va.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Va.jsxs)("div",{className:"space-y-3",children:[(0,Va.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Va.jsx)("span",{className:"font-fredoka text-sm text-gray-700",children:"Dashboard"}),(0,Va.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-mono",children:"Alt + 1"})]}),(0,Va.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Va.jsx)("span",{className:"font-fredoka text-sm text-gray-700",children:"Analytics"}),(0,Va.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-mono",children:"Alt + 2"})]}),(0,Va.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Va.jsx)("span",{className:"font-fredoka text-sm text-gray-700",children:"History"}),(0,Va.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-mono",children:"Alt + 3"})]}),(0,Va.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Va.jsx)("span",{className:"font-fredoka text-sm text-gray-700",children:"Account"}),(0,Va.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-mono",children:"Alt + 4"})]}),(0,Va.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Va.jsx)("span",{className:"font-fredoka text-sm text-gray-700",children:"Submit Form"}),(0,Va.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-mono",children:"Ctrl + Enter"})]}),(0,Va.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Va.jsx)("span",{className:"font-fredoka text-sm text-gray-700",children:"Go Back/Close"}),(0,Va.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-mono",children:"Escape"})]}),(0,Va.jsx)("div",{className:"border-t pt-3 mt-3",children:(0,Va.jsxs)("p",{className:"text-xs text-gray-500 font-fredoka",children:["Press ",(0,Va.jsx)("kbd",{className:"px-1 bg-gray-100 rounded",children:"?"})," to show this help again"]})})]})]})}):null},Qa=e=>{let{onBack:t,upgradeType:n,page:r="analytics"}=e;const s="analytics"===r;return(0,Va.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[(0,Va.jsx)("div",{className:"w-full bg-white shadow-sm border-b border-gray-200",children:(0,Va.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Va.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Va.jsxs)("button",{onClick:t,className:"text-blue-600 hover:text-blue-800 flex items-center font-fredoka",children:[(0,Va.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]}),(0,Va.jsx)("h1",{className:"text-xl font-fredoka font-bold text-gray-900",children:s?"Analytics Dashboard":"Marking History"}),(0,Va.jsx)("div",{className:"bg-red-100 text-red-700 px-3 py-1 rounded-full text-xs font-fredoka font-medium",children:"\ud83d\udd12 Locked"})]})})}),(0,Va.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Va.jsxs)("div",{className:"text-center mb-12",children:[(0,Va.jsxs)("div",{className:"relative inline-block mb-8",children:[(0,Va.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:(0,Va.jsxs)("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Va.jsx)("rect",{x:"6",y:"10",width:"12",height:"8",rx:"3",strokeWidth:"2"}),(0,Va.jsx)("path",{d:"M9 10V7a3 3 0 116 0v3",strokeWidth:"2"}),(0,Va.jsx)("circle",{cx:"12",cy:"14",r:"1.5",fill:"currentColor"})]})}),(0,Va.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-yellow-400 rounded-full animate-bounce"}),(0,Va.jsx)("div",{className:"absolute -bottom-2 -left-2 w-4 h-4 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"0.5s"}})]}),(0,Va.jsx)("h1",{className:"text-4xl font-fredoka font-bold text-gray-900 mb-4",children:s?"\ud83d\udcca Analytics Dashboard":"\ud83d\udcda Marking History"}),(0,Va.jsx)("p",{className:"text-xl font-fredoka text-gray-600 max-w-2xl mx-auto mb-8",children:s?"Unlock detailed insights into your writing progress, skill development, and personalized recommendations.":"Access your complete marking history and track your progress over time."})]}),(0,Va.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:s?(0,Va.jsxs)(Va.Fragment,{children:[(0,Va.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200 relative overflow-hidden",children:[(0,Va.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/20 to-transparent"}),(0,Va.jsxs)("div",{className:"relative",children:[(0,Va.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udcc8"}),(0,Va.jsx)("h3",{className:"font-fredoka font-bold text-gray-900 mb-2",children:"Performance Tracking"}),(0,Va.jsx)("p",{className:"font-fredoka text-gray-600 text-sm",children:"Monitor your improvement across different question types"})]})]}),(0,Va.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200 relative overflow-hidden",children:[(0,Va.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 to-transparent"}),(0,Va.jsxs)("div",{className:"relative",children:[(0,Va.jsx)("div",{className:"text-3xl mb-3",children:"\ud83c\udfaf"}),(0,Va.jsx)("h3",{className:"font-fredoka font-bold text-gray-900 mb-2",children:"Skill Analysis"}),(0,Va.jsx)("p",{className:"font-fredoka text-gray-600 text-sm",children:"Identify strengths and areas for improvement"})]})]}),(0,Va.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200 relative overflow-hidden",children:[(0,Va.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500/20 to-transparent"}),(0,Va.jsxs)("div",{className:"relative",children:[(0,Va.jsx)("div",{className:"text-3xl mb-3",children:"\ud83c\udfc6"}),(0,Va.jsx)("h3",{className:"font-fredoka font-bold text-gray-900 mb-2",children:"Achievement System"}),(0,Va.jsx)("p",{className:"font-fredoka text-gray-600 text-sm",children:"Earn badges and track your writing milestones"})]})]})]}):(0,Va.jsxs)(Va.Fragment,{children:[(0,Va.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200 relative overflow-hidden",children:[(0,Va.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/20 to-transparent"}),(0,Va.jsxs)("div",{className:"relative",children:[(0,Va.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udccb"}),(0,Va.jsx)("h3",{className:"font-fredoka font-bold text-gray-900 mb-2",children:"Complete History"}),(0,Va.jsx)("p",{className:"font-fredoka text-gray-600 text-sm",children:"Access all your past essay evaluations"})]})]}),(0,Va.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200 relative overflow-hidden",children:[(0,Va.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/20 to-transparent"}),(0,Va.jsxs)("div",{className:"relative",children:[(0,Va.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udd0d"}),(0,Va.jsx)("h3",{className:"font-fredoka font-bold text-gray-900 mb-2",children:"Detailed Reviews"}),(0,Va.jsx)("p",{className:"font-fredoka text-gray-600 text-sm",children:"Re-read AI feedback and track improvements"})]})]}),(0,Va.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200 relative overflow-hidden",children:[(0,Va.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-500/20 to-transparent"}),(0,Va.jsxs)("div",{className:"relative",children:[(0,Va.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udcca"}),(0,Va.jsx)("h3",{className:"font-fredoka font-bold text-gray-900 mb-2",children:"Progress Timeline"}),(0,Va.jsx)("p",{className:"font-fredoka text-gray-600 text-sm",children:"See how your writing has evolved over time"})]})]})]})}),(0,Va.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-gray-200 max-w-2xl mx-auto",children:[(0,Va.jsxs)("h2",{className:"text-2xl font-fredoka font-bold text-gray-900 mb-6 text-center",children:["\ud83d\ude80 Upgrade to Unlock ",s?"Analytics":"History"]}),(0,Va.jsx)("div",{className:"space-y-4 mb-8",children:(0,Va.jsxs)("div",{className:"flex items-center p-4 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl text-white",children:[(0,Va.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mr-4",children:(0,Va.jsx)("span",{className:"text-white font-bold text-sm",children:"\u221e"})}),(0,Va.jsxs)("div",{className:"flex-1",children:[(0,Va.jsx)("h3",{className:"font-fredoka font-bold text-white",children:"Unlimited Plans"}),(0,Va.jsxs)("p",{className:"font-fredoka text-white/90 text-sm",children:["Unlimited questions + ",s?"Analytics Dashboard":"Complete History"," + Everything"]})]})]})}),(0,Va.jsx)("div",{className:"text-center",children:(0,Va.jsx)("button",{onClick:t,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-4 rounded-xl font-fredoka font-bold hover:from-blue-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:"\ud83c\udfaf View Pricing"})})]})]})]})},Ya=e=>{let{onBack:t,userStats:n,user:r,evaluations:a,onUpgrade:o}=e;const[i,l]=(0,s.useState)("week"),[c,u]=(0,s.useState)("all");if(!(()=>{var e;return"unlimited"===(null===(e=n.currentPlan)||void 0===e?void 0:e.toLowerCase())})())return(0,Va.jsx)(Qa,{onBack:t,upgradeType:"unlimited",page:"analytics"});const h=(a||[]).map((e=>{const t=(e.grade||"").match(/(\d+)\s*\/\s*(\d+)/),n=t?Number(t[1]):0,r=t?Number(t[2]):0,s=new Date(e.timestamp),a="".concat(s.getFullYear(),"-").concat(String(s.getMonth()+1).padStart(2,"0"),"-").concat(String(s.getDate()).padStart(2,"0")),o=(e.question_type||"unknown").toLowerCase(),i="string"===typeof e.ao1_marks?Number((e.ao1_marks.match(/\d+/)||[0])[0]):0,l="string"===typeof e.ao2_marks?Number((e.ao2_marks.match(/\d+/)||[0])[0]):0,c="string"===typeof e.reading_marks?Number((e.reading_marks.match(/\d+/)||[0])[0]):0,u="string"===typeof e.writing_marks?Number((e.writing_marks.match(/\d+/)||[0])[0]):0,h=r>0?n/r*100:0;return d(d({},e),{},{score:n,max:r,percent:h,dateKey:a,type:o,ao1:i,ao2:l,reading:c,writing:u})})),f=Object.values(h.reduce(((e,t)=>(e[t.dateKey]||(e[t.dateKey]={date:t.dateKey,total:0,count:0}),e[t.dateKey].total+=t.score,e[t.dateKey].count+=1,e)),{})).sort(((e,t)=>e.date.localeCompare(t.date))).map((e=>({date:e.date,average:Number((e.total/e.count).toFixed(2))}))),p=h.reduce(((e,t)=>{const n=t.type.replace("_"," ");return e[n]||(e[n]={type:n,total:0,count:0}),e[n].total+=t.score,e[n].count+=1,e}),{}),m=Object.values(p).map((e=>({type:e.type,average:Number((e.total/e.count).toFixed(2)),count:e.count}))),g=(h.map((e=>({date:e.dateKey,AO1:e.ao1,AO2:e.ao2,Reading:e.reading,Writing:e.writing}))),"week"===i?7:"month"===i?30:"quarter"===i?90:null),v=g?new Date(Date.now()-24*g*60*60*1e3):null,y=v?h.filter((e=>new Date(e.dateKey)>=v)):h,b=Object.values(y.reduce(((e,t)=>(e[t.dateKey]||(e[t.dateKey]={date:t.dateKey,total:0,count:0}),e[t.dateKey].total+=t.max>0?t.score/t.max*100:0,e[t.dateKey].count+=1,e)),{})).sort(((e,t)=>e.date.localeCompare(t.date))).map((e=>({date:e.date,average:Number((e.total/e.count).toFixed(2))}))),x=y.reduce(((e,t)=>{const n=t.type.replace("_"," ");return e[n]||(e[n]={type:n,total:0,count:0}),e[n].total+=t.max>0?t.score/t.max*100:0,e[n].count+=1,e}),{}),w=Object.values(x).map((e=>({type:e.type,average:Number((e.total/e.count).toFixed(2)),count:e.count}))),k=y.map((e=>({date:e.dateKey,AO1:e.ao1,AO2:e.ao2,Reading:e.reading,Writing:e.writing}))),j=(w.map((e=>({name:e.type,value:e.count}))).reduce(((e,t)=>e+t.value),0),y.length);return(0,Va.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Va.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Va.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Va.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Va.jsxs)("button",{onClick:t,className:"text-blue-600 hover:text-blue-800 flex items-center",children:[(0,Va.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]}),(0,Va.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Analytics Dashboard"}),(0,Va.jsx)("div",{})]})})}),(0,Va.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[(0,Va.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,Va.jsx)("div",{className:"flex items-center gap-2",children:["week","month","quarter","all"].map((e=>(0,Va.jsx)("button",{onClick:()=>l(e),className:"px-3 py-1.5 rounded-full text-sm border ".concat(i===e?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"),children:"week"===e?"7d":"month"===e?"30d":"quarter"===e?"90d":"All"},e)))}),(0,Va.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",(0,Va.jsx)("span",{className:"font-semibold text-gray-900",children:j})," responses"]})]}),(0,Va.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Va.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100",children:[(0,Va.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Average"}),(0,Va.jsxs)("div",{className:"text-3xl font-bold text-blue-600",children:[Math.round(b.reduce(((e,t)=>e+t.average),0)/(b.length||1)||0),"%"]}),(0,Va.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Across selected range (percent)"})]}),(0,Va.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100",children:[(0,Va.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Active Days"}),(0,Va.jsx)("div",{className:"text-3xl font-bold text-emerald-600",children:new Set(null===b||void 0===b?void 0:b.map((e=>e.date))).size||0}),(0,Va.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Days with submissions"})]}),(0,Va.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100",children:[(0,Va.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Types Attempted"}),(0,Va.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:w.length}),(0,Va.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Unique question types"})]}),(0,Va.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100",children:[(0,Va.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Best"}),(0,Va.jsxs)("div",{className:"text-3xl font-bold text-orange-600",children:[Math.round(Math.max(...h.map((e=>e.max>0?e.score/e.max*100:0)),0)),"%"]}),(0,Va.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Highest single percentage"})]})]}),(0,Va.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100",children:[(0,Va.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Va.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Type Insights"}),(0,Va.jsx)("span",{className:"text-xs bg-emerald-50 text-emerald-700 px-2 py-1 rounded-full",children:"Top performers"})]}),(0,Va.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:w.sort(((e,t)=>t.average-e.average)).slice(0,6).map(((e,t)=>(0,Va.jsxs)("div",{className:"rounded-xl border border-gray-100 p-4 bg-gray-50",children:[(0,Va.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Va.jsx)("div",{className:"font-medium capitalize text-gray-900 truncate",children:e.type}),(0,Va.jsxs)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-white border border-gray-200",children:["#",t+1]})]}),(0,Va.jsxs)("div",{className:"text-sm text-gray-600",children:["Average ",(0,Va.jsx)("span",{className:"font-semibold text-gray-900",children:e.average})," \u2022 Attempts ",(0,Va.jsx)("span",{className:"font-semibold text-gray-900",children:e.count})]})]},e.type)))})]}),(0,Va.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100",children:[(0,Va.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Va.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Recommendations"}),(0,Va.jsx)("span",{className:"text-xs bg-pink-50 text-pink-700 px-2 py-1 rounded-full",children:"Next steps"})]}),(0,Va.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.sort(((e,t)=>e.average-t.average)).slice(0,3).map((e=>(0,Va.jsxs)("div",{className:"rounded-xl border border-gray-100 p-4 bg-gray-50",children:[(0,Va.jsxs)("div",{className:"font-semibold capitalize text-gray-900 mb-1",children:["Practice more: ",e.type]}),(0,Va.jsxs)("ul",{className:"list-disc pl-5 text-sm text-gray-700 space-y-1",children:[(0,Va.jsx)("li",{children:"Review model answers and mark schemes for this type"}),(0,Va.jsx)("li",{children:"Focus on structure and clarity; set a word goal of +10%"}),(0,Va.jsx)("li",{children:"Attempt 2 new prompts this week in this category"})]})]},e.type))),(0,Va.jsxs)("div",{className:"rounded-xl border border-gray-100 p-4 bg-gray-50",children:[(0,Va.jsx)("div",{className:"font-semibold text-gray-900 mb-1",children:"General Tips"}),(0,Va.jsxs)("ul",{className:"list-disc pl-5 text-sm text-gray-700 space-y-1",children:[(0,Va.jsx)("li",{children:"Keep a personal glossary of advanced vocabulary"}),(0,Va.jsx)("li",{children:"Summarize feedback into 3 bullet points after each attempt"}),(0,Va.jsx)("li",{children:"Re-attempt your lowest-scoring type after 48 hours"})]})]})]})]}),(0,Va.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100",children:[(0,Va.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Va.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Component Strengths"}),(0,Va.jsx)("span",{className:"text-xs bg-indigo-50 text-indigo-700 px-2 py-1 rounded-full",children:"AO & Submarks"})]}),(0,Va.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["AO1","AO2","Reading","Writing"].map((e=>{const t=k.map((t=>t[e]||0)),n=Math.round(t.reduce(((e,t)=>e+t),0)/(t.length||1)),r=Math.max(...t,0);return(0,Va.jsxs)("div",{className:"rounded-xl border border-gray-100 p-4 bg-gray-50",children:[(0,Va.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:e}),(0,Va.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:n}),(0,Va.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Best: ",r]})]},e)}))})]}),(0,Va.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Va.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100 hover:shadow-md transition-shadow",children:[(0,Va.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:j}),(0,Va.jsx)("div",{className:"text-gray-600",children:"Total Responses"})]}),(0,Va.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100 hover:shadow-md transition-shadow",children:[(0,Va.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:Object.keys(f).length}),(0,Va.jsx)("div",{className:"text-gray-600",children:"Active Days"})]}),(0,Va.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100 hover:shadow-md transition-shadow",children:[(0,Va.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:m.length}),(0,Va.jsx)("div",{className:"text-gray-600",children:"Types Attempted"})]}),(0,Va.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow border border-gray-100 hover:shadow-md transition-shadow",children:[(0,Va.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:Math.max(...h.map((e=>e.score)),0)}),(0,Va.jsx)("div",{className:"text-gray-600",children:"Best Score"})]})]})]})]})},Xa=e=>{let{onBack:t,evaluations:n,userPlan:r}=e;const[a,o]=(0,s.useState)(null),[i,l]=(0,s.useState)(""),[c,u]=(0,s.useState)("all"),[d,h]=(0,s.useState)("newest"),[f,p]=(0,s.useState)([]),[m,g]=(0,s.useState)(!1),v=e=>{if(!e)return[];const t={igcse_writers_effect:{READING:15},igcse_descriptive:{READING:16,WRITING:24},igcse_narrative:{READING:16,WRITING:24},igcse_summary:{READING:10,WRITING:5},alevel_directed:{AO1:5,AO2:5},alevel_directed_writing:{AO1:5,AO2:5},alevel_comparative:{AO1:5,AO3:10},alevel_text_analysis:{AO1:5,AO3:20}},n=e.question_type,r=[];return({igcse_writers_effect:["READING"],igcse_descriptive:["READING","WRITING"],igcse_narrative:["READING","WRITING"],igcse_summary:["READING","WRITING"],alevel_directed:["AO1","AO2"],alevel_directed_writing:["AO1","AO2"],alevel_comparative:["AO1","AO3"],alevel_text_analysis:["AO1","AO3"]}[n]||[]).forEach((s=>{var a;let o="";"READING"===s&&(o=e.reading_marks||""),"WRITING"===s&&(o=e.writing_marks||""),"AO1"===s&&(o=e.ao1_marks||""),"AO2"===s&&(o=e.ao2_marks||""),"AO3"===s&&(o=e.ao2_marks||e.ao1_marks||"");const i=((e,t)=>{if(!e||"string"!==typeof e)return"";const n=e.replace(/\|/g," ").replace(/\s+/g," ").trim(),r=n.match(/(\d+)\s*\/\s*(\d+)/);if(r)return"".concat(r[1],"/").concat(r[2]);const s=n.match(/(\d+)\s*(?:out of|of)\s*(\d+)/i);if(s)return"".concat(s[1],"/").concat(s[2]);const a=n.match(/\d+/);return a&&t?"".concat(a[0],"/").concat(t):a?a[0]:""})(o,null===(a=t[n])||void 0===a?void 0:a[s]);i&&r.push({label:s,value:i})})),r},y=n.filter((e=>{const t=""===i||e.student_response.toLowerCase().includes(i.toLowerCase())||e.feedback.toLowerCase().includes(i.toLowerCase())||e.question_type.toLowerCase().includes(i.toLowerCase())||e.grade.toLowerCase().includes(i.toLowerCase()),n="all"===c||e.question_type.includes(c);return t&&n})).sort(((e,t)=>{var n,r,s,a;const o=new Date(e.timestamp),i=new Date(t.timestamp);switch(d){case"oldest":return o-i;case"newest":default:return i-o;case"grade_high":const l=parseInt((null===(n=e.grade.match(/\d+/))||void 0===n?void 0:n[0])||0);return parseInt((null===(r=t.grade.match(/\d+/))||void 0===r?void 0:r[0])||0)-l;case"grade_low":return parseInt((null===(s=e.grade.match(/\d+/))||void 0===s?void 0:s[0])||0)-parseInt((null===(a=t.grade.match(/\d+/))||void 0===a?void 0:a[0])||0)}}));if((0,s.useEffect)((()=>{const e=e=>{a&&"Escape"===e.key&&(e.preventDefault(),o(null)),m&&"Escape"===e.key&&(e.preventDefault(),g(!1))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[a,m]),"unlimited"!==(null===r||void 0===r?void 0:r.toLowerCase()))return(0,Va.jsx)(Qa,{onBack:t,upgradeType:"unlimited",page:"history"});const b=e=>{let{a:t,b:n}=e;const r=new Set((t||[]).map((e=>e.trim().toLowerCase()))),s=new Set((n||[]).map((e=>e.trim().toLowerCase()))),a=[...s].filter((e=>!r.has(e))),o=[...r].filter((e=>!s.has(e)));return(0,Va.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[a.map(((e,t)=>(0,Va.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800 border border-green-200",children:["+ ",e]},"added-".concat(t)))),o.map(((e,t)=>(0,Va.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full bg-red-100 text-red-800 border border-red-200",children:["- ",e]},"removed-".concat(t))))]})},x=e=>{var t,n,r,s;let{a:a,b:o,onClose:i}=e;if(!a||!o)return null;const l=parseInt((null===(t=a.grade.match(/\d+/))||void 0===t?void 0:t[0])||0),c=parseInt((null===(n=a.grade.match(/\/(\d+)/))||void 0===n?void 0:n[1])||0),u=parseInt((null===(r=o.grade.match(/\d+/))||void 0===r?void 0:r[0])||0),d=parseInt((null===(s=o.grade.match(/\/(\d+)/))||void 0===s?void 0:s[1])||0),h=v(a),f=v(o);return(0,Va.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-label":"Compare Evaluations",children:(0,Va.jsxs)("div",{className:"bg-white rounded-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto p-6",children:[(0,Va.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Va.jsx)("h2",{className:"text-xl font-bold",children:"Side-by-side Comparison"}),(0,Va.jsx)("button",{onClick:i,"aria-label":"Close compare",className:"text-gray-500 hover:text-gray-700",children:(0,Va.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Va.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Va.jsxs)("div",{className:"border rounded-xl p-4",children:[(0,Va.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Va.jsxs)("div",{children:[(0,Va.jsx)("div",{className:"text-sm text-gray-500",children:new Date(a.timestamp).toLocaleString()}),(0,Va.jsx)("div",{className:"font-semibold",children:a.question_type.replace("_"," ").replace(/\b\w/g,(e=>e.toUpperCase()))})]}),(0,Va.jsx)("div",{className:"text-blue-600 font-bold text-xl",children:a.grade})]}),(0,Va.jsx)("div",{className:"mt-3",children:(0,Va.jsx)("div",{className:"w-full h-2 bg-gray-200 rounded-full",children:(0,Va.jsx)("div",{className:"h-2 bg-blue-500 rounded-full",style:{width:c?"".concat(l/c*100,"%"):"0%"}})})}),(0,Va.jsxs)("div",{className:"mt-4",children:[(0,Va.jsx)("h4",{className:"font-semibold mb-2",children:"Submarks"}),(0,Va.jsx)("div",{className:"flex flex-wrap gap-2",children:h.map(((e,t)=>(0,Va.jsxs)("span",{className:"px-2 py-1 rounded bg-gray-100 text-gray-800 text-xs border",children:[e.label,": ",e.value]},t)))})]}),Array.isArray(a.strengths)&&a.strengths.length>0&&(0,Va.jsxs)("div",{className:"mt-4",children:[(0,Va.jsx)("h4",{className:"font-semibold mb-2",children:"Strengths"}),(0,Va.jsx)("ul",{className:"list-disc pl-5 text-sm text-green-800",children:a.strengths.map(((e,t)=>(0,Va.jsx)("li",{children:e},t)))})]}),Array.isArray(a.improvement_suggestions)&&a.improvement_suggestions.length>0&&(0,Va.jsxs)("div",{className:"mt-4",children:[(0,Va.jsx)("h4",{className:"font-semibold mb-2",children:"Improvements"}),(0,Va.jsx)("ul",{className:"list-disc pl-5 text-sm text-yellow-800",children:a.improvement_suggestions.map(((e,t)=>(0,Va.jsx)("li",{children:e},t)))})]})]}),(0,Va.jsxs)("div",{className:"border rounded-xl p-4",children:[(0,Va.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Va.jsxs)("div",{children:[(0,Va.jsx)("div",{className:"text-sm text-gray-500",children:new Date(o.timestamp).toLocaleString()}),(0,Va.jsx)("div",{className:"font-semibold",children:o.question_type.replace("_"," ").replace(/\b\w/g,(e=>e.toUpperCase()))})]}),(0,Va.jsx)("div",{className:"text-blue-600 font-bold text-xl",children:o.grade})]}),(0,Va.jsx)("div",{className:"mt-3",children:(0,Va.jsx)("div",{className:"w-full h-2 bg-gray-200 rounded-full",children:(0,Va.jsx)("div",{className:"h-2 bg-blue-500 rounded-full",style:{width:d?"".concat(u/d*100,"%"):"0%"}})})}),(0,Va.jsxs)("div",{className:"mt-4",children:[(0,Va.jsx)("h4",{className:"font-semibold mb-2",children:"Submarks"}),(0,Va.jsx)("div",{className:"flex flex-wrap gap-2",children:f.map(((e,t)=>(0,Va.jsxs)("span",{className:"px-2 py-1 rounded bg-gray-100 text-gray-800 text-xs border",children:[e.label,": ",e.value]},t)))})]}),Array.isArray(o.strengths)&&o.strengths.length>0&&(0,Va.jsxs)("div",{className:"mt-4",children:[(0,Va.jsx)("h4",{className:"font-semibold mb-2",children:"Strengths"}),(0,Va.jsx)("ul",{className:"list-disc pl-5 text-sm text-green-800",children:o.strengths.map(((e,t)=>(0,Va.jsx)("li",{children:e},t)))})]}),Array.isArray(o.improvement_suggestions)&&o.improvement_suggestions.length>0&&(0,Va.jsxs)("div",{className:"mt-4",children:[(0,Va.jsx)("h4",{className:"font-semibold mb-2",children:"Improvements"}),(0,Va.jsx)("ul",{className:"list-disc pl-5 text-sm text-yellow-800",children:o.improvement_suggestions.map(((e,t)=>(0,Va.jsx)("li",{children:e},t)))})]})]})]}),(0,Va.jsxs)("div",{className:"mt-6",children:[(0,Va.jsx)("h4",{className:"font-semibold",children:"Strengths Diff"}),(0,Va.jsx)(b,{a:a.strengths,b:o.strengths})]})]})})};return(0,Va.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Va.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Va.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Va.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Va.jsxs)("button",{onClick:t,className:"text-blue-600 hover:text-blue-800 flex items-center",children:[(0,Va.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]}),(0,Va.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Marking History"}),(0,Va.jsx)("div",{className:"flex items-center gap-3",children:(0,Va.jsx)("button",{onClick:()=>{2===f.length&&g(!0)},disabled:2!==f.length,className:"px-3 py-2 rounded-lg ".concat(2===f.length?"bg-blue-600 text-white":"bg-gray-200 text-gray-600 cursor-not-allowed"),"aria-label":"Compare selected evaluations",children:"Compare (2)"})})]})})}),(0,Va.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Va.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 mb-6",children:[(0,Va.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Va.jsxs)("div",{children:[(0,Va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,Va.jsxs)("div",{className:"relative",children:[(0,Va.jsx)("input",{type:"text",placeholder:"Search essays, feedback, or grades...",value:i,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,Va.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Va.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),(0,Va.jsxs)("div",{children:[(0,Va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Type"}),(0,Va.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"w-full py-2 px-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Va.jsx)("option",{value:"all",children:"All Types"}),(0,Va.jsx)("option",{value:"igcse",children:"IGCSE"}),(0,Va.jsx)("option",{value:"alevel",children:"A-Level"}),(0,Va.jsx)("option",{value:"summary",children:"Summary"}),(0,Va.jsx)("option",{value:"narrative",children:"Narrative"}),(0,Va.jsx)("option",{value:"descriptive",children:"Descriptive"}),(0,Va.jsx)("option",{value:"directed",children:"Directed Writing"})]})]}),(0,Va.jsxs)("div",{children:[(0,Va.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort by"}),(0,Va.jsxs)("select",{value:d,onChange:e=>h(e.target.value),className:"w-full py-2 px-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Va.jsx)("option",{value:"newest",children:"Newest First"}),(0,Va.jsx)("option",{value:"oldest",children:"Oldest First"}),(0,Va.jsx)("option",{value:"grade_high",children:"Highest Grade"}),(0,Va.jsx)("option",{value:"grade_low",children:"Lowest Grade"})]})]})]}),(0,Va.jsxs)("div",{className:"mt-4 text-sm text-gray-600 flex items-center justify-between",children:[(0,Va.jsxs)("div",{children:["Showing ",y.length," of ",n.length," evaluations",i&&(0,Va.jsxs)("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:['"',i,'"']})]}),(0,Va.jsxs)("div",{className:"text-xs text-gray-500",children:["Selected: ",f.length," / 2"]})]})]}),0===y.length?(0,Va.jsxs)("div",{className:"text-center py-12",children:[(0,Va.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcdd"}),(0,Va.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No evaluations yet"}),(0,Va.jsx)("p",{className:"text-gray-600",children:"Start your first assessment to see your history here."})]}):(0,Va.jsx)("div",{className:"space-y-4",children:y.map((e=>{const t=!!f.find((t=>t.id===e.id));return(0,Va.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm border ".concat(t?"border-blue-400 ring-2 ring-blue-200":"border-gray-200 hover:shadow-md"," transition-shadow"),children:(0,Va.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Va.jsxs)("div",{className:"flex-1",children:[(0,Va.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Va.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mr-4",children:e.question_type.replace("_"," ").replace(/\b\w/g,(e=>e.toUpperCase()))}),(0,Va.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:e.grade})]}),(0,Va.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:new Date(e.timestamp).toLocaleDateString()}),(0,Va.jsxs)("p",{className:"text-gray-700 text-sm",children:[e.student_response.substring(0,100),"..."]})]}),(0,Va.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Va.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,Va.jsx)("input",{type:"checkbox","aria-label":"Select for compare",checked:t,onChange:()=>(e=>{p((t=>t.find((t=>t.id===e.id))?t.filter((t=>t.id!==e.id)):t.length>=2?[t[1],e]:[...t,e]))})(e),className:"w-4 h-4"}),"Compare"]}),(0,Va.jsx)("button",{onClick:()=>o(e),className:"text-blue-600 hover:text-blue-800 font-medium","aria-label":"View details",children:"View Details"})]})]})},e.id)}))})]}),a&&(0,Va.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-label":"Evaluation Details",children:(0,Va.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,Va.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,Va.jsx)("h2",{className:"text-xl font-semibold",children:"Evaluation Details"}),(0,Va.jsx)("button",{onClick:()=>o(null),className:"text-gray-500 hover:text-gray-700","aria-label":"Close details",children:(0,Va.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Va.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:(0,Va.jsxs)("div",{className:"space-y-6",children:[(0,Va.jsxs)("div",{children:[(0,Va.jsx)("h3",{className:"font-semibold mb-2",children:"Grade"}),(0,Va.jsx)("p",{className:"text-blue-600 font-medium",children:a.grade})]}),(0,Va.jsx)("div",{children:(0,Va.jsx)("div",{className:"bg-gray-50 p-4 rounded-xl",children:(0,Va.jsx)("ul",{className:"list-disc pl-5 text-gray-700",children:(e=>{if(!e)return[];return e.split(/[.!?]+/).map((e=>e.trim())).filter((e=>e.length>10)).slice(0,10)})(a.feedback)})})}),a.strengths&&a.strengths.length>0&&(0,Va.jsxs)("div",{children:[(0,Va.jsx)("h3",{className:"font-semibold mb-2",children:"Strengths"}),(0,Va.jsx)("div",{className:"space-y-2",children:a.strengths.map(((e,t)=>(0,Va.jsx)("div",{className:"bg-green-50 p-3 rounded-xl",children:(0,Va.jsx)("p",{className:"text-green-800 text-sm",children:e})},t)))})]}),a.improvement_suggestions&&a.improvement_suggestions.length>0&&(0,Va.jsxs)("div",{children:[(0,Va.jsx)("h3",{className:"font-semibold mb-2",children:"Improvement Suggestions"}),(0,Va.jsx)("div",{className:"space-y-2",children:a.improvement_suggestions.map(((e,t)=>(0,Va.jsx)("div",{className:"bg-yellow-50 p-3 rounded-xl",children:(0,Va.jsx)("p",{className:"text-yellow-800 text-sm",children:e})},t)))})]})]})})]})}),m&&2===f.length&&(0,Va.jsx)(x,{a:f[0],b:f[1],onClose:()=>g(!1)})]})},Za=e=>{let{onBack:t,user:n,userStats:r,onLevelChange:a,showLevelPrompt:o=!1,darkMode:i,toggleDarkMode:l,onPricing:c}=e;const[u,d]=(0,s.useState)(""),[h,f]=(0,s.useState)(""),[p,m]=(0,s.useState)([]),[g,v]=(0,s.useState)(!1);(0,s.useEffect)((()=>{let e=!0;f("");const t=(null===n||void 0===n?void 0:n.uid)||(null===n||void 0===n?void 0:n.id);return n&&t&&(Lt.get("".concat(Ka,"/users/").concat(t)).then((t=>{var n;if(!e)return;let r=(null===(n=t.data.user)||void 0===n?void 0:n.academic_level)||"";r=r.toLowerCase().replace(/[^a-z]/g,""),d(r)})).catch((()=>{})),v(!0),Lt.get("".concat(Ka,"/transactions/").concat(t)).then((t=>{e&&(m(t.data.transactions||[]),v(!1))})).catch((()=>{e&&v(!1)}))),()=>{e=!1}}),[n]);const y=async e=>{const t=e.toLowerCase().replace(/[^a-z]/g,"");console.log("DEBUG: handleAcademicLevelChange called with level:",e,"normalized:",t),d(t),f("");const r=(null===n||void 0===n?void 0:n.uid)||(null===n||void 0===n?void 0:n.id);if(n&&r)try{console.log("DEBUG: Updating user level in backend:",{academic_level:e}),await Lt.put("".concat(Ka,"/users/").concat(r),{academic_level:e}),a&&a(t),o&&(console.log("DEBUG: Level prompt active, will redirect after update"),setTimeout((()=>{console.log("DEBUG: Reloading page to refresh state"),window.location.reload()}),500))}catch(s){console.error("DEBUG: Error updating level:",s),f("Failed to update level.")}else console.error("DEBUG: Cannot update level - user or user ID not available"),f("Please wait for authentication to complete.")};return(0,Va.jsxs)("div",{className:"min-h-screen bg-main",children:[(0,Va.jsx)("div",{className:"bg-card shadow-sm border-b border-pink-200",children:(0,Va.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Va.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Va.jsxs)("button",{onClick:t,className:"text-blue-600 hover:text-blue-800 flex items-center font-fredoka",children:[(0,Va.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]}),(0,Va.jsx)("h1",{className:"text-xl font-fredoka text-gray-900 font-bold",children:"Account"}),(0,Va.jsx)("div",{})]})})}),(0,Va.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o&&(0,Va.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mb-6",children:(0,Va.jsxs)("div",{className:"flex items-start",children:[(0,Va.jsx)("div",{className:"flex-shrink-0",children:(0,Va.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Va.jsxs)("div",{className:"ml-3",children:[(0,Va.jsx)("h3",{className:"text-lg font-fredoka font-semibold text-blue-900 mb-2",children:"Choose Your Academic Level"}),(0,Va.jsx)("p",{className:"text-blue-700 font-fredoka",children:"To get started with marking your questions, please select your academic level below. This helps us provide you with the most appropriate questions and marking criteria."})]})]})}),(0,Va.jsxs)("div",{className:"bg-card rounded-xl p-6 shadow-sm border border-pink-200 mb-6",children:[(0,Va.jsx)("h2",{className:"text-2xl font-fredoka font-bold text-gray-900 mb-6",children:"Academic Preferences"}),h&&(0,Va.jsx)("div",{className:"mb-2 text-red-600 font-fredoka",children:h}),(0,Va.jsx)("div",{className:"space-y-6",children:(0,Va.jsxs)("div",{children:[(0,Va.jsx)("h3",{className:"font-fredoka font-semibold text-gray-900 mb-3",children:"Current Academic Level"}),(0,Va.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Va.jsxs)("button",{onClick:()=>y("igcse"),className:"p-4 rounded-lg border-2 transition-all text-left ".concat("igcse"===u?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-blue-300"),children:[(0,Va.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Va.jsx)("span",{className:"text-xl mr-2",children:"\ud83c\udf93"}),(0,Va.jsx)("h4",{className:"font-fredoka font-bold text-gray-900",children:"IGCSE"}),"igcse"===u&&(0,Va.jsx)("svg",{className:"w-5 h-5 text-blue-500 ml-auto",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Va.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),(0,Va.jsx)("p",{className:"font-fredoka text-sm text-gray-600",children:"International General Certificate"}),(0,Va.jsx)("p",{className:"font-fredoka text-xs text-gray-500 mt-1",children:"Ages 14-16 \u2022 Secondary Level"})]}),(0,Va.jsxs)("button",{onClick:()=>y("alevel"),className:"p-4 rounded-lg border-2 transition-all text-left ".concat("alevel"===u?"border-pink-500 bg-pink-50":"border-gray-200 bg-white hover:border-pink-300"),children:[(0,Va.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Va.jsx)("span",{className:"text-xl mr-2",children:"\ud83d\ude80"}),(0,Va.jsx)("h4",{className:"font-fredoka font-bold text-gray-900",children:"A-Level"}),"alevel"===u&&(0,Va.jsx)("svg",{className:"w-5 h-5 text-pink-500 ml-auto",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Va.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),(0,Va.jsx)("p",{className:"font-fredoka text-sm text-gray-600",children:"Advanced Level English"}),(0,Va.jsx)("p",{className:"font-fredoka text-xs text-gray-500 mt-1",children:"Ages 16-18 \u2022 Pre-university"})]})]})]})})]}),(0,Va.jsxs)("div",{className:"bg-card rounded-xl p-6 shadow-sm border border-pink-200 mb-6",children:[(0,Va.jsx)("h2",{className:"text-2xl font-fredoka font-bold text-gray-900 mb-6",children:"Billing History"}),(0,Va.jsxs)("div",{className:"space-y-4",children:[(0,Va.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Va.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Va.jsxs)("div",{children:[(0,Va.jsx)("h3",{className:"font-fredoka font-semibold text-gray-900",children:"Current Plan"}),(0,Va.jsx)("p",{className:"font-fredoka text-sm text-gray-600 capitalize",children:r.currentPlan||"Basic"})]}),(0,Va.jsxs)("div",{className:"text-right",children:[(0,Va.jsx)("p",{className:"font-fredoka text-sm text-gray-600",children:"Credits Remaining"}),(0,Va.jsx)("p",{className:"font-fredoka font-bold text-blue-600",children:r.credits})]})]})}),(0,Va.jsxs)("div",{className:"space-y-3",children:[(0,Va.jsx)("h3",{className:"font-fredoka font-semibold text-gray-900",children:"Transaction History"}),g?(0,Va.jsx)("div",{className:"text-center py-4",children:(0,Va.jsx)("p",{className:"font-fredoka text-gray-600",children:"Loading transactions..."})}):p.length>0?(0,Va.jsx)("div",{className:"space-y-2",children:p.map(((e,t)=>{const n=(e.amount_inr/100/83).toFixed(2);const r=new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),s=new Date(e.created_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return(0,Va.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:(0,Va.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Va.jsxs)("div",{children:[(0,Va.jsx)("h4",{className:"font-fredoka font-semibold text-gray-900",children:"SUCCESS"===e.status?"Payment Successful":"Payment Pending"}),(0,Va.jsx)("p",{className:"font-fredoka text-sm text-gray-600",children:e.amount_inr>=49900?"Unlimited Plan":e.amount_inr>=29900?"Pro Plan":e.amount_inr>=9900?"Basic Plan":"Credit Purchase"}),(0,Va.jsxs)("p",{className:"font-fredoka text-xs text-gray-500",children:[r," at ",s]})]}),(0,Va.jsxs)("div",{className:"text-right",children:[(0,Va.jsxs)("p",{className:"font-fredoka font-bold text-green-600",children:["$",n]}),(0,Va.jsx)("span",{className:"font-fredoka text-xs px-2 py-1 rounded-full ".concat("SUCCESS"===e.status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"),children:e.status})]})]})},e.id||t)}))}):(0,Va.jsxs)("div",{className:"text-center py-4 bg-gray-50 rounded-lg",children:[(0,Va.jsx)("p",{className:"font-fredoka text-gray-600",children:"No transactions found"}),(0,Va.jsx)("p",{className:"font-fredoka text-sm text-gray-500 mt-1",children:"Your payment history will appear here"})]})]}),(0,Va.jsx)("div",{className:"text-center pt-4",children:(0,Va.jsx)("button",{onClick:c,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors font-fredoka font-medium",children:"View All Plans"})})]})]}),(0,Va.jsxs)("div",{className:"bg-card rounded-xl p-6 shadow-sm border border-pink-200 mb-6",children:[(0,Va.jsx)("h2",{className:"text-2xl font-fredoka font-bold text-gray-900 mb-6",children:"Preferences"}),(0,Va.jsxs)("div",{className:"space-y-4",children:[(0,Va.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Va.jsxs)("div",{children:[(0,Va.jsx)("h3",{className:"font-fredoka font-semibold text-gray-900",children:"Dark Mode"}),(0,Va.jsx)("p",{className:"font-fredoka text-sm text-gray-600",children:"Toggle dark theme (Still in beta, not reccomended)"})]}),(0,Va.jsx)("button",{onClick:l,className:"rounded-full p-1 w-12 h-6 relative transition-colors ".concat(i?"bg-blue-600":"bg-gray-200"),children:(0,Va.jsx)("div",{className:"bg-white rounded-full w-4 h-4 shadow transform transition-transform ".concat(i?"translate-x-6":"")})})]}),(0,Va.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Va.jsxs)("div",{children:[(0,Va.jsx)("h3",{className:"font-fredoka font-semibold text-gray-900",children:"Email Notifications"}),(0,Va.jsx)("p",{className:"font-fredoka text-sm text-gray-600",children:"Receive updates about your progress"})]}),(0,Va.jsx)("button",{className:"bg-blue-600 rounded-full p-1 w-12 h-6 relative",children:(0,Va.jsx)("div",{className:"bg-white rounded-full w-4 h-4 shadow transform translate-x-6 transition-transform"})})]})]})]})]})]})},eo=e=>{var t,n;let{questionTypes:r,onStartQuestion:a,onPricing:o,onHistory:i,onAnalytics:l,onAccountSettings:c,userStats:u,user:d,darkMode:h,onSignOut:f}=e;const[p,m]=(0,s.useState)(!1),g=()=>{var e;return"unlimited"===(null===(e=u.currentPlan)||void 0===e?void 0:e.toLowerCase())};return(0,Va.jsxs)("div",{className:"min-h-screen ".concat(h?"bg-black":"bg-main"),children:[(0,Va.jsx)("div",{className:"".concat(h?"bg-black border-gray-700":"bg-card border-pink-200"," shadow-sm border-b"),children:(0,Va.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Va.jsxs)("div",{className:"flex items-center justify-between h-20",children:[(0,Va.jsxs)("div",{className:"flex items-center",children:[(0,Va.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full overflow-hidden",children:(0,Va.jsx)("img",{src:"https://ik.imagekit.io/lqf8a8nmt/logo-modified.png?updatedAt=1752578868143",alt:"EnglishGPT Logo",className:"w-full h-full object-contain"})}),(0,Va.jsx)("span",{className:"ml-2 sm:ml-3 text-sm sm:text-lg font-fredoka ".concat(h?"text-white":"text-gray-900"," font-bold"),children:"EnglishGPT"})]}),(0,Va.jsxs)("div",{className:"hidden lg:flex items-center space-x-6",children:[(0,Va.jsx)("div",{className:"flex items-center space-x-4",children:g()?(0,Va.jsxs)(Va.Fragment,{children:[(0,Va.jsxs)("div",{className:"text-center",children:[(0,Va.jsx)("div",{className:"text-lg font-fredoka font-bold text-purple-600",children:u.questionsMarked}),(0,Va.jsx)("div",{className:"text-xs font-fredoka ".concat(h?"text-gray-300":"text-gray-600"),children:"Essays Marked"})]}),(0,Va.jsxs)("div",{className:"text-center",children:[(0,Va.jsx)("div",{className:"text-lg font-fredoka font-bold text-blue-600 capitalize",children:"Unlimited"}),(0,Va.jsx)("div",{className:"text-xs font-fredoka ".concat(h?"text-gray-300":"text-gray-600"),children:"Plan"})]})]}):(0,Va.jsxs)(Va.Fragment,{children:[(0,Va.jsxs)("div",{className:"text-center",children:[(0,Va.jsx)("div",{className:"text-lg font-fredoka font-bold text-blue-600",children:u.credits}),(0,Va.jsx)("div",{className:"text-xs font-fredoka ".concat(h?"text-gray-300":"text-gray-600"),children:"Credits"})]}),(0,Va.jsxs)("div",{className:"text-center",children:[(0,Va.jsx)("div",{className:"text-lg font-fredoka font-bold text-green-600 capitalize",children:"Free"}),(0,Va.jsx)("div",{className:"text-xs font-fredoka ".concat(h?"text-gray-300":"text-gray-600"),children:"Plan"})]}),(0,Va.jsxs)("div",{className:"text-center",children:[(0,Va.jsx)("div",{className:"text-lg font-fredoka font-bold text-purple-600",children:u.questionsMarked}),(0,Va.jsx)("div",{className:"text-xs font-fredoka ".concat(h?"text-gray-300":"text-gray-600"),children:"Marked"})]})]})}),!g()&&0===u.questionsMarked&&(0,Va.jsx)("div",{className:"".concat(h?"bg-blue-900 text-blue-300 border-blue-700":"bg-blue-50 text-blue-700 border-blue-200"," px-4 py-2 rounded-lg border"),children:(0,Va.jsx)("span",{className:"font-fredoka text-sm",children:"\ud83c\udf89 Welcome! You have 3 free credits. Upgrade to unlimited for $4.99/month!"})})]}),(0,Va.jsxs)("div",{className:"lg:hidden flex items-center space-x-2",children:[(0,Va.jsx)("div",{className:"flex items-center space-x-2 text-xs",children:g()?(0,Va.jsxs)(Va.Fragment,{children:[(0,Va.jsx)("div",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:(0,Va.jsx)("span",{className:"font-fredoka font-bold",children:u.questionsMarked})}),(0,Va.jsx)("div",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:(0,Va.jsx)("span",{className:"font-fredoka font-bold",children:"Unlimited"})})]}):(0,Va.jsxs)(Va.Fragment,{children:[(0,Va.jsx)("div",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:(0,Va.jsx)("span",{className:"font-fredoka font-bold",children:u.credits})}),(0,Va.jsx)("div",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full",children:(0,Va.jsx)("span",{className:"font-fredoka font-bold",children:"Free"})})]})}),!g()&&0===u.questionsMarked&&(0,Va.jsx)("div",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:(0,Va.jsx)("span",{className:"font-fredoka text-xs",children:"\ud83c\udf89 3 credits!"})})]}),(0,Va.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,Va.jsxs)("div",{className:"hidden md:flex items-center space-x-2 sm:space-x-3",children:[(0,Va.jsx)("a",{href:"https://www.reddit.com/r/everythingenglish/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-orange-600",children:(0,Va.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{d:"M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"})})}),(0,Va.jsx)("a",{href:"https://discord.gg/xRqB4BWCcJ",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-indigo-600",children:(0,Va.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.0002 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9554 2.4189-2.1568 2.4189Z"})})}),(0,Va.jsx)("a",{href:"https://www.youtube.com/@everythingenglishdotxyz",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-red-600",children:(0,Va.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),(0,Va.jsx)("a",{href:"https://www.instagram.com/everythingenglish.xyz",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-pink-600",children:(0,Va.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]}),(0,Va.jsx)("div",{className:"hidden sm:block w-px h-6 bg-gray-300"}),(0,Va.jsx)("button",{onClick:o,className:"font-fredoka bg-pink-500 text-white px-2 py-1 sm:px-4 sm:py-2 rounded-lg hover:bg-pink-600 transition-colors font-medium text-sm sm:text-base",children:"Pricing"}),(0,Va.jsxs)("button",{onClick:l,className:"hidden sm:flex font-fredoka text-gray-600 hover:text-gray-900 items-center text-sm",children:[(0,Va.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics ",!g()&&(0,Va.jsx)("span",{className:"ml-1 text-xs",children:"\ud83d\udd12"})]}),(0,Va.jsxs)("button",{onClick:i,className:"hidden sm:flex font-fredoka text-gray-600 hover:text-gray-900 items-center text-sm",children:[(0,Va.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"History ",!g()&&(0,Va.jsx)("span",{className:"ml-1 text-xs",children:"\ud83d\udd12"})]}),(0,Va.jsxs)("div",{className:"relative",children:[(0,Va.jsxs)("button",{onClick:()=>m(!p),className:"flex items-center space-x-2 sm:space-x-3 hover:bg-gray-50 p-1 sm:p-2 rounded-lg transition-colors",children:[(0,Va.jsx)("img",{src:(null===d||void 0===d||null===(t=d.user_metadata)||void 0===t?void 0:t.avatar_url)||"https://via.placeholder.com/32",alt:"User Profile",className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full"}),(0,Va.jsxs)("div",{className:"hidden sm:flex flex-col text-left",children:[(0,Va.jsx)("span",{className:"font-fredoka text-sm font-medium text-gray-900",children:(null===d||void 0===d||null===(n=d.user_metadata)||void 0===n?void 0:n.full_name)||"User"}),(0,Va.jsx)("span",{className:"font-fredoka text-xs text-gray-500",children:null===d||void 0===d?void 0:d.email})]}),(0,Va.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p&&(0,Va.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:(0,Va.jsxs)("div",{className:"py-1",children:[(0,Va.jsxs)("div",{className:"sm:hidden",children:[(0,Va.jsxs)("button",{onClick:()=>{l(),m(!1)},className:"w-full px-4 py-2 text-left font-fredoka text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,Va.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics ",!g()&&(0,Va.jsx)("span",{className:"ml-1 text-xs",children:"\ud83d\udd12"})]}),(0,Va.jsxs)("button",{onClick:()=>{i(),m(!1)},className:"w-full px-4 py-2 text-left font-fredoka text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,Va.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"History ",!g()&&(0,Va.jsx)("span",{className:"ml-1 text-xs",children:"\ud83d\udd12"})]}),("basic"!==u.currentPlan||u.questionsMarked>0)&&(0,Va.jsxs)("div",{className:"px-4 py-2 border-t border-gray-100",children:[(0,Va.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Va.jsx)("span",{className:"font-fredoka text-gray-600",children:"Credits:"}),(0,Va.jsx)("span",{className:"font-fredoka font-medium text-blue-600",children:u.credits})]}),(0,Va.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Va.jsx)("span",{className:"font-fredoka text-gray-600",children:"Plan:"}),(0,Va.jsx)("span",{className:"font-fredoka font-medium text-green-600",children:"basic"===u.currentPlan?"No Plan":u.currentPlan})]}),(0,Va.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Va.jsx)("span",{className:"font-fredoka text-gray-600",children:"Marked:"}),(0,Va.jsx)("span",{className:"font-fredoka font-medium text-purple-600",children:u.questionsMarked})]})]}),(0,Va.jsxs)("div",{className:"border-t border-gray-100",children:[(0,Va.jsxs)("a",{href:"https://discord.gg/xRqB4BWCcJ",target:"_blank",rel:"noopener noreferrer",className:"w-full px-4 py-2 text-left font-fredoka text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>m(!1),children:[(0,Va.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.0002 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9554 2.4189-2.1568 2.4189Z"})}),"Join the Discord"]}),(0,Va.jsxs)("a",{href:"https://www.youtube.com/@everythingenglishdotxyz",target:"_blank",rel:"noopener noreferrer",className:"w-full px-4 py-2 text-left font-fredoka text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>m(!1),children:[(0,Va.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),"Join the YouTube"]}),(0,Va.jsxs)("a",{href:"https://www.instagram.com/everythingenglish.xyz",target:"_blank",rel:"noopener noreferrer",className:"w-full px-4 py-2 text-left font-fredoka text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>m(!1),children:[(0,Va.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),"Join the Instagram"]}),(0,Va.jsxs)("a",{href:"https://www.reddit.com/r/everythingenglish/",target:"_blank",rel:"noopener noreferrer",className:"w-full px-4 py-2 text-left font-fredoka text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>m(!1),children:[(0,Va.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{d:"M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"})}),"Join the Reddit"]})]}),(0,Va.jsx)("div",{className:"border-t border-gray-100"})]}),(0,Va.jsxs)("button",{onClick:()=>{c(),m(!1)},className:"w-full px-4 py-2 text-left font-fredoka text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,Va.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Account Settings"]}),(0,Va.jsx)("div",{className:"border-t border-gray-100"}),(0,Va.jsxs)("button",{onClick:async()=>{await f(),m(!1)},className:"w-full px-4 py-2 text-left font-fredoka text-red-700 hover:bg-red-50 flex items-center",children:[(0,Va.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})})]})]})]})})}),(0,Va.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Va.jsxs)("div",{className:"text-center mb-12",children:[(0,Va.jsx)("div",{className:"flex justify-center mb-6",children:(0,Va.jsxs)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center relative",children:[(0,Va.jsx)("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{d:"M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z"})}),(0,Va.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-yellow-400 rounded-full"})]})}),(0,Va.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"EnglishGPT"}),(0,Va.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto mb-8",children:"Get instant, professional feedback on your English essays and assignments"}),(0,Va.jsx)("button",{onClick:a,className:"bg-black text-white px-8 py-4 rounded-xl font-semibold hover:bg-gray-800 transition-colors text-lg",children:"Mark a Question"})]}),(0,Va.jsxs)("div",{className:"space-y-12",children:[(0,Va.jsxs)("div",{className:"mb-12",children:[(0,Va.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Va.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 text-white px-4 py-2 rounded-lg mr-4",children:(0,Va.jsx)("span",{className:"font-bold",children:"IGCSE"})}),(0,Va.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"International General Certificate of Secondary Education"})]}),(0,Va.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-6",children:[(0,Va.jsxs)("div",{className:"bg-pink-50 rounded-xl p-4 sm:p-6 cursor-pointer hover:bg-pink-100 transition-all duration-300 border border-pink-100 hover:border-pink-300 hover:shadow-lg",children:[(0,Va.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg flex items-center justify-center text-white mb-3 sm:mb-4 text-xl sm:text-2xl",style:{background:"#3b82f6"},children:"\ud83d\udcc4"}),(0,Va.jsx)("h3",{className:"font-fredoka text-base sm:text-lg text-gray-900 mb-2 font-semibold",children:"Summary"}),(0,Va.jsx)("p",{className:"font-fredoka text-gray-600 text-xs sm:text-sm mb-3 sm:mb-4",children:"Condensing key information from texts"}),(0,Va.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2 flex-wrap gap-1",children:[(0,Va.jsx)("span",{className:"font-fredoka text-xs text-gray-600 bg-white px-2 py-1 rounded border border-gray-200",children:"IGCSE"}),(0,Va.jsx)("span",{className:"font-fredoka text-xs text-blue-700 bg-blue-50 px-2 py-1 rounded border border-blue-100",children:"Mark scheme required"})]})]}),(0,Va.jsxs)("div",{className:"bg-pink-50 rounded-xl p-6 cursor-pointer hover:bg-pink-100 transition-all duration-300 border border-pink-100 hover:border-pink-300 hover:shadow-lg",children:[(0,Va.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white mb-4 text-2xl",style:{background:"#8b5cf6"},children:"\ud83d\udcd6"}),(0,Va.jsx)("h3",{className:"font-fredoka text-lg text-gray-900 mb-2 font-semibold",children:"Narrative"}),(0,Va.jsx)("p",{className:"font-fredoka text-gray-600 text-sm mb-4",children:"Creative storytelling and structure"}),(0,Va.jsx)("div",{className:"flex items-center space-x-2",children:(0,Va.jsx)("span",{className:"font-fredoka text-xs text-gray-600 bg-white px-2 py-1 rounded border border-gray-200",children:"IGCSE"})})]}),(0,Va.jsxs)("div",{className:"bg-pink-50 rounded-xl p-6 cursor-pointer hover:bg-pink-100 transition-all duration-300 border border-pink-100 hover:border-pink-300 hover:shadow-lg",children:[(0,Va.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white mb-4 text-2xl",style:{background:"#22c55e"},children:"\ud83d\uddbc\ufe0f"}),(0,Va.jsx)("h3",{className:"font-fredoka text-lg text-gray-900 mb-2 font-semibold",children:"Descriptive"}),(0,Va.jsx)("p",{className:"font-fredoka text-gray-600 text-sm mb-4",children:"Vivid imagery and atmospheric writing"}),(0,Va.jsx)("div",{className:"flex items-center space-x-2",children:(0,Va.jsx)("span",{className:"font-fredoka text-xs text-gray-600 bg-white px-2 py-1 rounded border border-gray-200",children:"IGCSE"})})]}),(0,Va.jsxs)("div",{className:"bg-pink-50 rounded-xl p-6 cursor-pointer hover:bg-pink-100 transition-all duration-300 border border-pink-100 hover:border-pink-300 hover:shadow-lg",children:[(0,Va.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white mb-4 text-2xl",style:{background:"#f59e42"},children:"\u26a1"}),(0,Va.jsx)("h3",{className:"font-fredoka text-lg text-gray-900 mb-2 font-semibold",children:"Writer's Effect"}),(0,Va.jsx)("p",{className:"font-fredoka text-gray-600 text-sm mb-4",children:"Language analysis and impact"}),(0,Va.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Va.jsx)("span",{className:"font-fredoka text-xs text-gray-600 bg-white px-2 py-1 rounded border border-gray-200",children:"IGCSE"}),(0,Va.jsx)("span",{className:"font-fredoka text-xs text-blue-700 bg-blue-50 px-2 py-1 rounded border border-blue-100",children:"Mark scheme optional"})]})]}),(0,Va.jsxs)("div",{className:"bg-pink-50 rounded-xl p-6 cursor-pointer hover:bg-pink-100 transition-all duration-300 border border-pink-100 hover:border-pink-300 hover:shadow-lg",children:[(0,Va.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white mb-4 text-2xl",style:{background:"#6366f1"},children:"\u270d\ufe0f"}),(0,Va.jsx)("h3",{className:"font-fredoka text-lg text-gray-900 mb-2 font-semibold",children:"Directed Writing"}),(0,Va.jsx)("p",{className:"font-fredoka text-gray-600 text-sm mb-4",children:"Transform text into specific formats"}),(0,Va.jsx)("div",{className:"flex items-center space-x-2",children:(0,Va.jsx)("span",{className:"font-fredoka text-xs text-gray-600 bg-white px-2 py-1 rounded border border-gray-200",children:"IGCSE"})})]})]})]}),(0,Va.jsxs)("div",{children:[(0,Va.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Va.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-red-500 text-white px-4 py-2 rounded-lg mr-4",children:(0,Va.jsx)("span",{className:"font-bold",children:"A-Level"})}),(0,Va.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Advanced Level English"})]}),(0,Va.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Va.jsxs)("div",{className:"bg-pink-50 rounded-xl p-6 cursor-pointer hover:bg-pink-100 transition-all duration-300 border border-pink-100 hover:border-pink-300 hover:shadow-lg",children:[(0,Va.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white mb-4 text-2xl",style:{background:"#ef4444"},children:"\ud83d\udcca"}),(0,Va.jsx)("h3",{className:"font-fredoka text-lg text-gray-900 mb-2 font-semibold",children:"Reflective Commentary"}),(0,Va.jsx)("p",{className:"font-fredoka text-gray-600 text-sm mb-4",children:"Critical reflection and personal response"}),(0,Va.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Va.jsx)("span",{className:"font-fredoka text-xs text-gray-600 bg-white px-2 py-1 rounded border border-gray-200",children:"A-Level English (9093)"}),(0,Va.jsx)("span",{className:"font-fredoka text-xs text-blue-700 bg-blue-50 px-2 py-1 rounded border border-blue-100",children:"Mark scheme required"})]})]}),(0,Va.jsxs)("div",{className:"bg-pink-50 rounded-xl p-6 cursor-pointer hover:bg-pink-100 transition-all duration-300 border border-pink-100 hover:border-pink-300 hover:shadow-lg",children:[(0,Va.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white mb-4 text-2xl",style:{background:"#22c55e"},children:"\u270f\ufe0f"}),(0,Va.jsx)("h3",{className:"font-fredoka text-lg text-gray-900 mb-2 font-semibold",children:"Directed Writing"}),(0,Va.jsx)("p",{className:"font-fredoka text-gray-600 text-sm mb-4",children:"Task-specific writing with audience awareness"}),(0,Va.jsx)("div",{className:"flex items-center space-x-2",children:(0,Va.jsx)("span",{className:"font-fredoka text-xs text-gray-600 bg-white px-2 py-1 rounded border border-gray-200",children:"A-Level English (9093)"})})]}),(0,Va.jsxs)("div",{className:"bg-pink-50 rounded-xl p-6 cursor-pointer hover:bg-pink-100 transition-all duration-300 border border-pink-100 hover:border-pink-300 hover:shadow-lg",children:[(0,Va.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white mb-4 text-2xl",style:{background:"#ec4899"},children:"\ud83d\udd0d"}),(0,Va.jsx)("h3",{className:"font-fredoka text-lg text-gray-900 mb-2 font-semibold",children:"Text Analysis"}),(0,Va.jsx)("p",{className:"font-fredoka text-gray-600 text-sm mb-4",children:"Literary analysis and critical interpretation"}),(0,Va.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Va.jsx)("span",{className:"font-fredoka text-xs text-gray-600 bg-white px-2 py-1 rounded border border-gray-200",children:"A-Level English (9093)"}),(0,Va.jsx)("span",{className:"font-fredoka text-xs text-blue-700 bg-blue-50 px-2 py-1 rounded border border-blue-100",children:"Mark scheme required"})]})]})]})]})]})]})]})},to=e=>{let{questionTypes:t,onSelectQuestionType:n,onBack:r,onEvaluate:a,selectedLevel:o,darkMode:i}=e;const[l,c]=(0,s.useState)(null),[u,h]=(0,s.useState)(""),[f,p]=(0,s.useState)(!1),[m,g]=(0,s.useState)(!1),[v,y]=(0,s.useState)(!1),[b,x]=(0,s.useState)(null),[w,k]=(0,s.useState)(!1),j=(0,s.useRef)(null);(0,s.useEffect)((()=>{const e=localStorage.getItem("draft_student_response");e&&!u&&(h(e),y(!0),setTimeout((()=>y(!1)),3e3))}),[]),(0,s.useEffect)((()=>{const e="draft_student_response",t=setTimeout((()=>{u&&u.trim().length>0?(localStorage.setItem(e,u),x(Date.now())):localStorage.removeItem(e)}),400);return()=>clearTimeout(t)}),[u]);const _=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const n=j.current;if(!n)return;const{selectionStart:r,selectionEnd:s,value:a}=n,o=a.substring(0,r),i=a.substring(r,s)||"text",l=a.substring(s),c="".concat(o).concat(e).concat(i).concat(t).concat(l);h(c),setTimeout((()=>{const s=r+e.length+i.length+t.length;n.focus(),n.setSelectionRange(s,s)}),0)},S=u.trim().split(/\s+/).filter((e=>e.length>0)).length,N=e=>{let{count:t,goal:n}=e;const r=Math.max(0,Math.min(100,Math.floor(t/n*100))),s="conic-gradient(#3b82f6 ".concat(r,"%, ").concat(i?"#374151":"#e5e7eb"," ").concat(r,"% 100%)");return(0,Va.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Va.jsxs)("div",{className:"relative w-12 h-12","aria-label":"Word count progress",children:[(0,Va.jsx)("div",{className:"w-12 h-12 rounded-full",style:{backgroundImage:s}}),(0,Va.jsxs)("div",{className:"absolute inset-1 rounded-full flex items-center justify-center text-xs ".concat(i?"bg-black text-white":"bg-white text-gray-800"),children:[r,"%"]})]}),(0,Va.jsxs)("div",{className:"text-sm ".concat(i?"text-gray-300":"text-gray-600"),children:[(0,Va.jsxs)("div",{className:"font-semibold",children:[t," / ",n," words"]}),b&&(0,Va.jsxs)("div",{className:"text-xs",children:["Saved ",Math.max(0,Math.floor((Date.now()-b)/6e4))," min ago"]})]})]})},E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(l&&u.trim()){if("igcse_writers_effect"===l.id){if(e)return void n(d(d({},l),{},{studentResponse:u,requires_marking_scheme:!0}));{const e={question_type:l.id,student_response:u,marking_scheme:null};return void a(e)}}if(!0===l.requires_marking_scheme)n(d(d({},l),{},{studentResponse:u}));else{const e={question_type:l.id,student_response:u,marking_scheme:null};a(e)}}},C=e=>({igcse_summary:"\ud83d\udcc4",igcse_narrative:"\ud83d\udcd6",igcse_descriptive:"\ud83d\uddbc\ufe0f",igcse_writers_effect:"\u26a1",igcse_directed:"\u270d\ufe0f",alevel_comparative:"\ud83d\udcca",alevel_directed:"\u270f\ufe0f",alevel_text_analysis:"\ud83d\udd0d"}[e]||"\ud83d\udcdd"),T=(()=>{if(!t||0===t.length)return{questions:[],levelName:"Loading...",fullName:"Loading...",color:"gray",gradient:"from-gray-500 to-gray-600"};console.log("DEBUG: All question types:",t),console.log("DEBUG: Selected level:",o);const e=t.filter((e=>"IGCSE"===e.category)).map((e=>d(d({},e),{},{requiresScheme:e.requires_marking_scheme,icon:C(e.id)}))),n=t.filter((e=>e.category.includes("A-Level"))).map((e=>d(d({},e),{},{requiresScheme:e.requires_marking_scheme,icon:C(e.id)})));return console.log("DEBUG: IGCSE questions:",e),console.log("DEBUG: A-Level questions:",n),"igcse"===o?{questions:e,levelName:"IGCSE",fullName:"International GCSE",color:"blue",gradient:"from-blue-500 to-green-500"}:"alevel"===o?{questions:n,levelName:"A-Level",fullName:"Advanced Level",color:"purple",gradient:"from-purple-500 to-red-500"}:{questions:[...e,...n],levelName:"All Levels",fullName:"IGCSE & A-Level",color:"gray",gradient:"from-gray-500 to-gray-600"}})();return(0,Va.jsx)("div",{className:"min-h-screen ".concat(i?"bg-black":"bg-gray-50"," p-4"),children:(0,Va.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,Va.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Va.jsxs)("div",{className:"".concat(i?"bg-black border-gray-700":"bg-white border-gray-100"," rounded-2xl p-6 shadow-sm border"),children:[(0,Va.jsx)("h2",{className:"text-lg font-fredoka font-bold ".concat(i?"text-white":"text-gray-900"," mb-4"),children:"\ud83d\udcda Choose Question Type"}),(0,Va.jsxs)("div",{className:"mb-4 flex items-center",children:[(0,Va.jsx)("div",{className:"bg-gradient-to-r ".concat(T.gradient," text-white px-2 py-1 rounded-md mr-2"),children:(0,Va.jsx)("span",{className:"font-fredoka font-bold text-xs",children:T.levelName})}),(0,Va.jsx)("h3",{className:"font-fredoka font-semibold ".concat(i?"text-gray-300":"text-gray-700"," text-sm"),children:T.fullName})]}),(0,Va.jsx)("div",{className:"space-y-2",children:T.questions.length>0?T.questions.map((e=>(0,Va.jsx)("button",{onClick:()=>{return c(t=e),p(!0),void("igcse_writers_effect"===t.id?g(!0):g(!1));var t},className:"w-full p-3 rounded-lg text-left transition-all duration-200 border ".concat((null===l||void 0===l?void 0:l.id)===e.id?"".concat(i?"border-blue-500 bg-gray-800":"border-blue-500 bg-blue-50"," shadow-md"):"".concat(i?"border-gray-700 bg-black hover:border-blue-400 hover:bg-gray-800":"border-gray-200 bg-white hover:border-blue-300 hover:bg-blue-50")),"aria-pressed":(null===l||void 0===l?void 0:l.id)===e.id,children:(0,Va.jsxs)("div",{className:"flex items-center",children:[(0,Va.jsx)("span",{className:"text-lg mr-2",children:e.icon}),(0,Va.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Va.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Va.jsx)("h4",{className:"font-fredoka font-bold ".concat(i?"text-white":"text-gray-900"," text-sm truncate"),children:e.name}),(null===l||void 0===l?void 0:l.id)===e.id&&(0,Va.jsx)("svg",{className:"w-4 h-4 text-blue-500 flex-shrink-0 ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Va.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),(0,Va.jsx)("p",{className:"font-fredoka ".concat(i?"text-gray-300":"text-gray-600"," text-xs mt-1"),children:e.description})]})]})},e.id))):(0,Va.jsx)("div",{className:"p-4 text-center ".concat(i?"text-gray-400":"text-gray-500"),children:(0,Va.jsxs)("p",{className:"font-fredoka text-sm",children:["No questions found for ",T.levelName]})})}),(0,Va.jsxs)("div",{className:"".concat(i?"bg-gray-900 border-gray-700":"bg-gray-50 border-gray-200"," rounded-2xl p-4 border mt-6"),children:[(0,Va.jsx)("h3",{className:"font-fredoka font-bold mb-2 ".concat(i?"text-white":"text-gray-900"),children:"Getting Started"}),(0,Va.jsxs)("p",{className:"".concat(i?"text-gray-300":"text-gray-600"," text-sm mb-3"),children:["Use these tips to improve your ",(null===l||void 0===l?void 0:l.name)||T.levelName," response:"]}),(0,Va.jsxs)("ul",{className:"list-disc pl-6 space-y-1 ".concat(i?"text-gray-300":"text-gray-700"," text-sm"),children:[(0,Va.jsx)("li",{children:"Plan briefly: outline intro, key points, and conclusion."}),(0,Va.jsx)("li",{children:"Use precise vocabulary and vary sentence structure."}),(0,Va.jsx)("li",{children:"Keep a consistent tone and answer the prompt directly."}),(0,Va.jsx)("li",{children:"Target word goal shown on the progress ring."})]}),(0,Va.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,Va.jsx)("button",{onClick:()=>k(!0),className:"px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-100",children:"View Example"}),(0,Va.jsx)("button",{onClick:()=>h((e=>(e?e+"\n\n":"")+({igcse_summary:"Summarize the key arguments of an article about climate change impacts on coastal cities.",igcse_narrative:"Write a narrative about a time when an unexpected event changed your day completely.",igcse_descriptive:"Describe a bustling city market at sunset using vivid sensory details.",igcse_writers_effect:"Analyze how the author uses metaphor and contrast to create tension in a short passage.",igcse_directed:"Write a letter to your local council proposing a new community garden.",alevel_directed:"Write a speech arguing for the benefits of gap years before university.",alevel_text_analysis:"Analyze how the writer presents memory and identity in an unseen prose extract.",alevel_comparative:"Compare how two poets explore the theme of loss."}[null===l||void 0===l?void 0:l.id]||"Write about a meaningful experience and what you learned from it."))),className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:"Generate Prompt"})]})]})]}),(0,Va.jsxs)("div",{className:"".concat(i?"bg-black border-gray-700":"bg-white border-gray-100"," rounded-2xl p-6 shadow-sm border lg:col-span-2"),children:[(0,Va.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Va.jsx)("h2",{className:"text-2xl font-fredoka font-bold ".concat(i?"text-white":"text-gray-900"),children:"\ud83d\udcdd Your Essay"}),l&&(0,Va.jsxs)("div",{className:"flex items-center ".concat(i?"bg-gray-800":"bg-blue-50"," px-3 py-1 rounded-full"),children:[(0,Va.jsx)("span",{className:"text-2xl mr-2",children:l.icon}),(0,Va.jsx)("span",{className:"font-fredoka text-sm font-medium ".concat(i?"text-blue-400":"text-blue-700"),children:l.name})]})]}),v&&(0,Va.jsx)("div",{className:"mb-3 text-xs text-green-700 bg-green-50 border border-green-200 rounded px-3 py-2",children:"Restored unsaved draft."}),(0,Va.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Va.jsx)("button",{onClick:()=>_("**"),className:"px-3 py-1 text-sm rounded border border-gray-300 hover:bg-gray-100",children:"Bold"}),(0,Va.jsx)("button",{onClick:()=>_("*"),className:"px-3 py-1 text-sm rounded border border-gray-300 hover:bg-gray-100",children:"Italic"}),(0,Va.jsx)("button",{onClick:()=>{const e=j.current;if(!e)return;const{selectionStart:t,selectionEnd:n,value:r}=e,s=r.substring(0,t),a=r.substring(n),o="".concat(s,"\n\n").concat(a);h(o),setTimeout((()=>{const n=t+2;e.focus(),e.setSelectionRange(n,n)}),0)},className:"px-3 py-1 text-sm rounded border border-gray-300 hover:bg-gray-100",children:"Paragraph"}),(0,Va.jsx)("button",{onClick:r,className:"ml-auto px-3 py-1 text-sm rounded border border-blue-300 text-blue-700 hover:bg-blue-50",children:"\u2190 Back"})]}),(0,Va.jsx)("textarea",{value:u,onChange:e=>h(e.target.value),placeholder:"Type or paste your ".concat(T.levelName," essay answer here...\n\n\u2728 Select a question type from the left panel and write your response to get instant AI feedback!"),className:"w-full h-80 p-6 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none font-fredoka text-gray-700 placeholder-gray-400 leading-relaxed","aria-label":"Essay input",ref:j}),(0,Va.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,Va.jsx)(N,{count:S,goal:(()=>{if(!l)return 300;return{igcse_summary:120,igcse_narrative:350,igcse_descriptive:350,igcse_writers_effect:200,igcse_directed:250,alevel_directed:500,alevel_text_analysis:600,alevel_comparative:700}[l.id]||300})()}),m&&l&&u.trim()&&(0,Va.jsxs)("div",{className:"flex gap-3",children:[(0,Va.jsx)("button",{onClick:()=>E(!1),className:"bg-gradient-to-r from-green-500 to-blue-500 text-white px-6 py-2 rounded-lg font-fredoka font-bold hover:from-green-600 hover:to-blue-600 transition-all duration-300 shadow-md",children:"\ud83d\ude80 Skip Scheme"}),(0,Va.jsx)("button",{onClick:()=>E(!0),className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-6 py-2 rounded-lg font-fredoka font-bold hover:from-yellow-600 hover:to-orange-600 transition-all duration-300 shadow-md",children:"\ud83d\udccb Add Scheme"})]}),f&&l&&u.trim()&&!m&&(0,Va.jsx)("button",{onClick:E,className:"bg-gradient-to-r from-pink-500 to-blue-500 text-white px-8 py-3 rounded-xl font-fredoka font-bold hover:from-pink-600 hover:to-blue-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:!0===l.requiresScheme?"Add Marking Scheme \u2192":"\ud83d\ude80 Get AI Feedback Now \u2192"})]}),w&&(0,Va.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Va.jsxs)("div",{className:"".concat(i?"bg-black border-gray-700 text-white":"bg-white border-gray-200 text-gray-900"," rounded-2xl max-w-2xl w-full p-6 border"),children:[(0,Va.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Va.jsxs)("h3",{className:"text-lg font-semibold",children:["Example ",(null===l||void 0===l?void 0:l.name)||"Essay"]}),(0,Va.jsx)("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-gray-700",children:"\u2715"})]}),(0,Va.jsx)("div",{className:"".concat(i?"bg-gray-900":"bg-gray-50"," rounded-xl p-4 text-sm leading-6"),children:(P=null===l||void 0===l?void 0:l.id,{igcse_summary:"Example summary: The article outlines three main points... (concise neutral tone).",igcse_narrative:"Example narrative: The wind clawed at the shutters as I stepped outside...",igcse_descriptive:"Example descriptive: The marketplace hummed\u2014a tapestry of scents and colours...",igcse_writers_effect:"Example analysis: The simile \u201clike a coiled spring\u201d compresses tension...",igcse_directed:"Example directed writing: Dear Councillors, I propose establishing a community garden...",alevel_directed:"Example directed: Esteemed audience, today I contend that...",alevel_text_analysis:"Example analysis: The narrator\u2019s fragmented syntax mirrors her fractured memory...",alevel_comparative:"Example comparative: While Poet A elegizes loss with restraint, Poet B embraces raw immediacy..."}[P]||"A focused, well-structured response illustrating expectations for this task type.")})]})})]})]})})});var P},no=e=>{let{selectedQuestionType:t,onBack:n,onEvaluate:r,darkMode:a}=e;const[o,i]=(0,s.useState)(""),[l,c]=(0,s.useState)("text"),[u,d]=(0,s.useState)(!1),[h,f]=(0,s.useState)(""),[p,m]=(0,s.useState)(!1),[g,v]=(0,s.useState)(0),[y,b]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=localStorage.getItem("draft_marking_scheme");e&&!o&&(i(e),b(!0),setTimeout((()=>b(!1)),3e3))}),[]),(0,s.useEffect)((()=>{const e="draft_marking_scheme",t=setTimeout((()=>{o&&o.trim().length>0?localStorage.setItem(e,o):localStorage.removeItem(e)}),400);return()=>clearTimeout(t)}),[o]);const x=["\ud83e\udd16 AI is analyzing your essay...","\ud83d\udcdd Checking grammar and structure...","\ud83c\udfaf Evaluating content quality...","\u2728 Analyzing writing style and flow...","\ud83d\udd0d Examining vocabulary usage...","\ud83d\udcca Assessing argument structure...","\u26a1 Generating personalized feedback...","\ud83c\udfad Reviewing literary techniques...","\ud83d\udca1 Identifying key strengths...","\ud83c\udfa8 Evaluating descriptive language...","\ud83e\udde0 Processing complex ideas...","\ud83d\udcd6 Checking coherence and clarity...","\ud83c\udfc6 Measuring against marking criteria...","\ud83c\udf1f Crafting improvement suggestions...","\ud83c\udfaa Analyzing tone and mood...","\ud83d\udd2c Examining evidence and examples...","\ud83c\udfb5 Checking rhythm and pacing...","\ud83c\udf08 Evaluating creativity and originality...","\u2b50 Finalizing detailed assessment...","\ud83c\udf89 Almost done! Preparing your results..."],w=e=>{"file"===e&&"text"===l?m(!0):c(e)},k=e=>{let{selectedQuestionType:t,loadingMessages:n,currentMessageIndex:r}=e;return(0,Va.jsx)("div",{className:"min-h-screen ".concat(a?"bg-black":"bg-main"," flex items-center justify-center"),children:(0,Va.jsx)("div",{className:"text-center max-w-md",children:(0,Va.jsxs)("div",{className:"loading-animation",children:[(0,Va.jsxs)("div",{className:"loading-dots",children:[(0,Va.jsx)("div",{className:"loading-dot"}),(0,Va.jsx)("div",{className:"loading-dot"}),(0,Va.jsx)("div",{className:"loading-dot"})]}),(0,Va.jsx)("div",{className:"loading-text",children:n&&n[r]?n[r]:"\ud83e\udd16 AI is analyzing your essay..."}),(0,Va.jsxs)("div",{className:"loading-subtext",children:["Our AI is carefully analyzing your ",null===t||void 0===t?void 0:t.name," submission. This may take up to 60 seconds."]})]})})})};return u?(0,Va.jsx)(k,{selectedQuestionType:t,loadingMessages:x,currentMessageIndex:g}):(0,Va.jsxs)("div",{className:"min-h-screen ".concat(a?"bg-black":"bg-gray-50"," p-4"),children:[(0,Va.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Va.jsxs)("div",{className:"text-center mb-8",children:[(0,Va.jsxs)("button",{onClick:n,className:"text-blue-600 hover:text-blue-800 mb-4 flex items-center mx-auto",children:[(0,Va.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Essay"]}),(0,Va.jsx)("h1",{className:"text-3xl font-bold ".concat(a?"text-white":"text-gray-900"," mb-2"),children:"\ud83d\udccb Add Marking Scheme"}),(0,Va.jsx)("p",{className:"".concat(a?"text-gray-300":"text-gray-600"),children:"Your essay is ready! Now add the marking scheme for accurate evaluation."})]}),y&&(0,Va.jsx)("div",{className:"mb-4 text-xs text-green-700 bg-green-50 border border-green-200 rounded px-3 py-2",children:"Restored unsaved marking scheme."}),(0,Va.jsxs)("div",{className:"".concat(a?"bg-green-900 border-green-700":"bg-green-50 border-green-200"," rounded-xl p-4 mb-6 border"),children:[(0,Va.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Va.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,Va.jsxs)("h3",{className:"font-semibold ".concat(a?"text-green-300":"text-green-800"),children:["Essay Ready (",t.name,")"]})]}),(0,Va.jsxs)("p",{className:"".concat(a?"text-green-200":"text-green-700"," text-sm"),children:[t.studentResponse.substring(0,150),"..."]})]}),(0,Va.jsxs)("div",{className:"".concat(a?"bg-black border-gray-700":"bg-white border-gray-100"," rounded-2xl p-6 mb-6 shadow-sm border"),children:[(0,Va.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Va.jsx)("h2",{className:"text-xl font-semibold ".concat(a?"text-white":"text-gray-900"),children:"Marking Scheme"}),(0,Va.jsx)("span",{className:"text-sm px-3 py-1 rounded-full font-medium bg-red-100 text-red-700",children:"Required"})]}),(0,Va.jsx)("div",{className:"flex mb-4",children:(0,Va.jsxs)("div",{className:"".concat(a?"bg-gray-800":"bg-gray-100"," rounded-xl p-1 flex"),children:[(0,Va.jsx)("button",{onClick:()=>w("text"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("text"===l?"".concat(a?"bg-gray-700 text-blue-400":"bg-white text-blue-600"," shadow-sm"):"".concat(a?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900")),children:"Paste Text"}),(0,Va.jsx)("button",{onClick:()=>w("file"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("file"===l?"".concat(a?"bg-gray-700 text-blue-400":"bg-white text-blue-600"," shadow-sm"):"".concat(a?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900")),children:"Upload File"})]})}),"text"===l?(0,Va.jsx)("textarea",{value:o,onChange:e=>i(e.target.value),placeholder:"Paste your marking scheme here...",className:"w-full h-40 p-4 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):(0,Va.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center",children:[(0,Va.jsx)("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>{const t=e.target.files[0];t&&(async e=>{d(!0),f("");try{const t=new FormData;t.append("file",e);const n=await Lt.post("".concat(Ka,"/process-file"),t,{headers:{"Content-Type":"multipart/form-data"}});i(n.data.extracted_text),f("")}catch(h){f("Failed to process file. Please try pasting the text instead.")}finally{d(!1)}})(t)},className:"hidden",id:"file-upload"}),(0,Va.jsx)("label",{htmlFor:"file-upload",className:"bg-blue-500 text-white px-6 py-3 rounded-xl hover:bg-blue-600 transition-colors cursor-pointer",children:"Choose File"}),(0,Va.jsx)("p",{className:"text-gray-600 mt-2",children:"Supports PDF, JPG, PNG files"})]}),o&&(0,Va.jsx)("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-xl",children:(0,Va.jsx)("p",{className:"text-green-800 font-medium",children:"\u2713 Marking scheme loaded successfully"})}),(0,Va.jsx)("div",{className:"mt-6 text-center",children:(0,Va.jsx)("button",{onClick:async()=>{if(!0===t.requiresScheme&&!o.trim())return void f("This question type requires a marking scheme");d(!0),f(""),v(0);const e=setInterval((()=>{v((t=>t>=x.length-1?(clearInterval(e),t):t+1))}),1500);try{const n={question_type:t.id,student_response:t.studentResponse,marking_scheme:o||null};await r(n),clearInterval(e)}catch(h){clearInterval(e),f("Failed to evaluate submission. Please try again."),d(!1)}},disabled:u||!o.trim(),className:"bg-black text-white px-8 py-3 rounded-xl font-semibold hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"\ud83d\ude80 Get AI Feedback"})})]}),h&&(0,Va.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-red-700",children:h})]}),p&&(0,Va.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Va.jsx)("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:(0,Va.jsxs)("div",{className:"text-center",children:[(0,Va.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Va.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.98-.833-2.75 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Va.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload File Warning"}),(0,Va.jsx)("p",{className:"text-gray-600 mb-6",children:"Uploading a file is not recommended for accuracy reasons. Text pasting provides better results and more reliable AI evaluation. Are you sure you want to continue with file upload?"}),(0,Va.jsxs)("div",{className:"flex space-x-3",children:[(0,Va.jsx)("button",{onClick:()=>{m(!1)},className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,Va.jsx)("button",{onClick:()=>{c("file"),m(!1)},className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors",children:"Upload File"})]})]})})})]})},ro=e=>{let{evaluation:t,onNewEvaluation:n,userPlan:r,darkMode:a}=e;const[o,i]=(0,s.useState)("Summary"),[l,c]=(0,s.useState)({open:!1,category:"overall"}),[u,d]=(0,s.useState)(!1),[h,f]=(0,s.useState)(null),[p,m]=(0,s.useState)(""),g=(Na(),(0,s.useRef)(null)),v=(0,s.useRef)(null);(0,s.useEffect)((()=>{const e=e=>{if(l.open){if("Escape"===e.key&&(e.preventDefault(),c({open:!1,category:"overall"}),f(null),m("")),"Enter"!==e.key||e.shiftKey||(e.preventDefault(),u||null===h||w()),"Tab"===e.key&&g.current){const t=g.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=t[0],r=t[t.length-1];e.shiftKey?document.activeElement===n&&(e.preventDefault(),r.focus()):document.activeElement===r&&(e.preventDefault(),n.focus())}}else"1"===e.key&&i("Summary"),"2"===e.key&&i("Strengths"),"3"===e.key&&i("Improvements"),"ArrowLeft"===e.key&&i((e=>"Strengths"===e?"Summary":"Improvements"===e?"Strengths":"Improvements")),"ArrowRight"===e.key&&i((e=>"Summary"===e?"Strengths":"Strengths"===e?"Improvements":"Summary"))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[l.open,u,h]),(0,s.useEffect)((()=>{l.open&&setTimeout((()=>{var e;null===(e=v.current)||void 0===e||e.focus()}),0)}),[l.open]);const y=(e=>{const t=e.match(/(\d+)\/(\d+)/g);if(t){let e=0,n=0;return t.forEach((t=>{const[r,s]=t.split("/").map(Number);e+=r,n+=s})),{score:e,maxScore:n,percentage:(e/n*100).toFixed(1)}}return{score:0,maxScore:40,percentage:0}})(t.grade),b=(x=y.percentage)>=90?"A*":x>=80?"A":x>=70?"B":x>=60?"C":x>=50?"D":x>=40?"E":"U";var x;const w=async()=>{if(t&&null!==h){d(!0);try{await Lt.post("".concat(Ka,"/feedback"),{evaluation_id:t.id||(null===t||void 0===t?void 0:t.evaluation_id)||(null===t||void 0===t?void 0:t.timestamp)||"unknown",user_id:t.user_id,category:l.category,accurate:!!h,comments:p||null}),c({open:!1,category:"overall"}),f(null),m("")}catch(e){console.error("Feedback submit failed",e)}finally{d(!1)}}};return(0,Va.jsxs)("div",{className:"min-h-screen ".concat(a?"bg-black":"bg-gray-50"," p-4"),children:[(0,Va.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Va.jsxs)("div",{className:"".concat(a?"bg-black border-gray-700":"bg-white border-gray-100"," rounded-2xl p-8 mb-6 shadow-sm border"),children:[(0,Va.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,Va.jsx)("h2",{className:"text-xl font-semibold ".concat(a?"text-white":"text-gray-900"),children:"Overall Score"}),(0,Va.jsxs)("div",{className:"text-2xl font-bold ".concat(a?"text-white":"text-gray-900"),children:["Grade ",b]})]}),(0,Va.jsxs)("div",{className:"flex flex-col items-center justify-center py-6",children:[(0,Va.jsxs)("div",{className:"text-6xl font-extrabold text-blue-600 mb-2",children:[y.score,"/",y.maxScore]}),(0,Va.jsx)("div",{className:"text-blue-600 text-lg font-semibold",children:"Total Score"})]}),(0,Va.jsx)("div",{className:"w-full h-3 ".concat(a?"bg-gray-700":"bg-gray-200"," rounded-full mt-2 mb-1"),children:(0,Va.jsx)("div",{className:"h-3 rounded-full bg-blue-500 transition-all duration-500",style:{width:"".concat(Math.min(y.percentage,100),"%")}})}),(0,Va.jsx)("div",{className:"flex flex-wrap justify-center gap-6 mt-4",children:(e=>{if(!e)return[];const t={igcse_writers_effect:{READING:15},igcse_descriptive:{READING:16,WRITING:24},igcse_narrative:{READING:16,WRITING:24},igcse_summary:{READING:10,WRITING:5},alevel_directed:{AO1:5,AO2:5},alevel_directed_writing:{AO1:5,AO2:5},alevel_comparative:{AO1:5,AO3:10},alevel_text_analysis:{AO1:5,AO3:20}},n=e.question_type,r=[];return({igcse_writers_effect:["READING"],igcse_descriptive:["READING","WRITING"],igcse_narrative:["READING","WRITING"],igcse_summary:["READING","WRITING"],alevel_directed:["AO1","AO2"],alevel_directed_writing:["AO1","AO2"],alevel_comparative:["AO1","AO3"],alevel_text_analysis:["AO1","AO3"]}[n]||[]).forEach((s=>{var a;let o="";"READING"===s&&(o=e.reading_marks||""),"WRITING"===s&&(o=e.writing_marks||""),"AO1"===s&&(o=e.ao1_marks||""),"AO2"===s&&(o=e.ao2_marks||""),"AO3"===s&&(o=e.ao2_marks||e.ao1_marks||"");const i=((e,t)=>{if(!e||"string"!==typeof e)return"";const n=e.replace(/\|/g," ").replace(/\s+/g," ").trim(),r=n.match(/(\d+)\s*\/\s*(\d+)/);if(r)return"".concat(r[1],"/").concat(r[2]);const s=n.match(/(\d+)\s*(?:out of|of)\s*(\d+)/i);if(s)return"".concat(s[1],"/").concat(s[2]);const a=n.match(/\d+/);return a&&t?"".concat(a[0],"/").concat(t):a?a[0]:""})(o,null===(a=t[n])||void 0===a?void 0:a[s]);i&&r.push({label:"READING"===s||"WRITING"===s?s.charAt(0)+s.slice(1).toLowerCase():s,value:i})})),r})(t).map(((e,t)=>(0,Va.jsxs)("div",{className:"text-center px-4 py-2 rounded-xl bg-green-50 border border-green-200",children:[(0,Va.jsx)("div",{className:"text-2xl font-extrabold text-green-700 tracking-tight",children:e.value}),(0,Va.jsx)("div",{className:"text-green-700 text-sm mt-0.5",children:e.label})]},e.label+t)))})]}),(0,Va.jsxs)("div",{className:"".concat(a?"bg-black border-gray-700":"bg-white border-gray-200"," rounded-xl p-4 mb-6 border flex items-center justify-between"),children:[(0,Va.jsx)("div",{className:"".concat(a?"text-gray-200":"text-gray-800"," font-medium"),children:"Was this marking accurate?"}),(0,Va.jsx)("button",{onClick:()=>c({open:!0,category:"overall"}),className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:"Give feedback"})]}),(0,Va.jsxs)("div",{className:"".concat(a?"bg-black border-gray-700":"bg-white border-gray-100"," rounded-2xl p-6 mb-6 shadow-sm border"),children:[(0,Va.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Va.jsx)("h2",{className:"text-xl font-semibold ".concat(a?"text-white":"text-gray-900"),children:"Detailed Feedback"})}),(0,Va.jsx)("div",{className:"flex border-b border-gray-200 mb-6",children:["Summary","Strengths","Improvements"].map((e=>(0,Va.jsx)("button",{onClick:()=>i(e),className:"px-6 py-3 font-medium transition-colors border-b-2 ".concat(o===e?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:e},e)))}),(0,Va.jsxs)("div",{className:"min-h-[200px]",children:["Summary"===o&&(0,Va.jsxs)("div",{className:"space-y-4",children:[(0,Va.jsx)("h4",{className:"font-semibold text-gray-800 mb-4",children:"Detailed Feedback"}),(0,Va.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,Va.jsx)("ul",{className:"list-disc pl-5 text-gray-700 leading-relaxed space-y-2",children:(e=>{if(!e)return[];return e.split(/[.!?]+/).map((e=>e.trim())).filter((e=>e.length>10)).slice(0,10)})(t.feedback)})})]}),"Strengths"===o&&(0,Va.jsxs)("div",{className:"space-y-4",children:[(0,Va.jsx)("h4",{className:"font-semibold text-green-800 mb-4",children:"What You Did Well"}),(0,Va.jsx)("div",{className:"space-y-3",children:(()=>{let e=[];if(t.strengths&&Array.isArray(t.strengths))e=t.strengths.filter((e=>e&&e.trim()&&e.trim().length>0));else if(t.strengths&&"string"===typeof t.strengths){const n=t.strengths.trim();n.includes("|")?e=n.split("|").map((e=>e.trim())).filter((e=>e&&e.length>0)):n.includes("\n")?e=n.split("\n").map((e=>e.trim())).filter((e=>e&&e.length>0)):n&&n.length>0&&(e=[n])}return e=e.filter((e=>e&&e.trim()&&e.trim().length>0)),e.length>0?e.map(((e,t)=>(0,Va.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 hover:bg-green-100 transition-colors",children:(0,Va.jsxs)("div",{className:"flex items-start",children:[(0,Va.jsx)("div",{className:"flex-shrink-0 w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:t+1}),(0,Va.jsx)("div",{className:"flex-1",children:(0,Va.jsx)("p",{className:"text-green-800 font-medium leading-relaxed",children:e})})]})},t))):(0,Va.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,Va.jsxs)("p",{className:"text-green-700 text-center",children:["No specific strengths identified in this evaluation.",t.strengths&&(0,Va.jsxs)("span",{className:"block text-xs text-gray-500 mt-2",children:["Debug: ",typeof t.strengths," - ",JSON.stringify(t.strengths)]})]})})})()})]}),"Improvements"===o&&(0,Va.jsxs)("div",{className:"space-y-4",children:[(0,Va.jsx)("h4",{className:"font-semibold text-yellow-800 mb-4",children:"Areas for Improvement"}),(0,Va.jsx)("div",{className:"space-y-3",children:t.improvement_suggestions&&t.improvement_suggestions.length>0?t.improvement_suggestions.flatMap(((e,t)=>e.split(/\s*(?=\d+\.)/g).map((e=>e.trim())).filter(Boolean).map(((e,n)=>(0,Va.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 hover:bg-yellow-100 transition-colors",children:(0,Va.jsxs)("div",{className:"flex items-start",children:[(0,Va.jsx)("div",{className:"flex-shrink-0 w-6 h-6 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:n+1}),(0,Va.jsx)("div",{className:"flex-1",children:(0,Va.jsx)("p",{className:"text-yellow-800 font-medium leading-relaxed",children:e.replace(/^(\d+\.)\s*/,"")})})]})},t+"-"+n))))):(0,Va.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,Va.jsx)("p",{className:"text-yellow-700 text-center",children:"No specific improvements suggested. Great work!"})})})]})]})]}),(0,Va.jsx)("div",{className:"text-center",children:(0,Va.jsx)("button",{onClick:n,className:"bg-black text-white px-8 py-4 rounded-xl font-semibold hover:bg-gray-800 transition-colors",children:"Start New Question"})})]}),"Strengths"===o&&(0,Va.jsxs)("div",{className:"".concat(a?"bg-black border-gray-700":"bg-white border-gray-200"," rounded-xl p-4 mb-6 border flex items-center justify-between"),children:[(0,Va.jsx)("div",{className:"".concat(a?"text-gray-200":"text-gray-800"," font-medium"),children:"Was this strengths summary accurate?"}),(0,Va.jsx)("button",{onClick:()=>c({open:!0,category:"strengths"}),className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:"Give feedback"})]}),"Improvements"===o&&(0,Va.jsxs)("div",{className:"".concat(a?"bg-black border-gray-700":"bg-white border-gray-200"," rounded-xl p-4 mb-6 border flex items-center justify-between"),children:[(0,Va.jsx)("div",{className:"".concat(a?"text-gray-200":"text-gray-800"," font-medium"),children:"Was this improvements summary accurate?"}),(0,Va.jsx)("button",{onClick:()=>c({open:!0,category:"improvements"}),className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:"Give feedback"})]}),l.open&&(0,Va.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",role:"dialog","aria-modal":"true","aria-label":"Feedback on marking accuracy",children:(0,Va.jsxs)("div",{ref:g,className:"".concat(a?"bg-black text-white border-gray-700":"bg-white text-gray-900"," border rounded-2xl p-6 max-w-md mx-4 shadow-xl w-full"),children:[(0,Va.jsxs)("h3",{className:"text-lg font-semibold mb-2",children:["overall"===l.category&&"Was this marking accurate?","strengths"===l.category&&"Was this strengths summary accurate?","improvements"===l.category&&"Was this improvements summary accurate?"]}),(0,Va.jsxs)("div",{className:"flex gap-3 mt-3",children:[(0,Va.jsx)("button",{ref:v,onClick:()=>f(!0),className:"px-4 py-2 rounded-lg border ".concat(!0===h?"bg-green-600 text-white":"bg-transparent"),"aria-pressed":!0===h,children:"Yes"}),(0,Va.jsx)("button",{onClick:()=>f(!1),className:"px-4 py-2 rounded-lg border ".concat(!1===h?"bg-red-600 text-white":"bg-transparent"),"aria-pressed":!1===h,children:"No"})]}),(0,Va.jsx)("textarea",{value:p,onChange:e=>m(e.target.value),placeholder:"Optional comments",className:"".concat(a?"bg-black border-gray-700 text-white":"bg-white border-gray-300 text-gray-900"," mt-4 w-full border rounded-lg p-3"),rows:3,"aria-label":"Additional comments"}),(0,Va.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,Va.jsx)("button",{onClick:()=>{c({open:!1,category:"overall"}),f(null),m("")},className:"px-4 py-2 rounded-lg border","aria-label":"Cancel feedback",children:"Cancel"}),(0,Va.jsx)("button",{onClick:w,disabled:u||null===h,className:"px-4 py-2 rounded-lg ".concat(u||null===h?"bg-gray-300":"bg-blue-600 text-white"),"aria-disabled":u||null===h,children:u?"Submitting...":"Submit"})]})]})})]})},so=e=>{let{isOpen:t,onClose:n,message:r,darkMode:s}=e;return t?(0,Va.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Va.jsxs)("div",{className:"".concat(s?"bg-black text-white border border-gray-700":"bg-white text-gray-900"," rounded-2xl p-6 max-w-md mx-4 shadow-xl"),children:[(0,Va.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Va.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:(0,Va.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Va.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.98-.833-2.75 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Va.jsx)("h3",{className:"text-lg font-semibold ".concat(s?"text-white":"text-gray-900"),children:"Essay Error"})]}),(0,Va.jsx)("p",{className:"".concat(s?"text-gray-200":"text-gray-700"," mb-6 leading-relaxed"),children:r}),(0,Va.jsx)("div",{className:"flex justify-end",children:(0,Va.jsx)("button",{onClick:n,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Got it"})})]})}):null},ao=()=>{const[e,t]=(0,s.useState)("dashboard"),n=Ca(),[r,a]=(0,s.useState)([]),[o,i]=(0,s.useState)(null),[l,c]=(0,s.useState)(null),[u,h]=(0,s.useState)(!1),[f,p]=(0,s.useState)(null),[m,g]=(0,s.useState)(!1),[v,y]=(0,s.useState)(!1),[b,x]=(0,s.useState)(""),[w,k]=(0,s.useState)(!1),[j,_]=(0,s.useState)({questionsMarked:0,credits:3,currentPlan:"free"}),S=e=>{let{onDiscord:t,onGoogle:n}=e;return(0,Va.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Va.jsx)("header",{className:"border-b",children:(0,Va.jsxs)("div",{className:"max-w-6xl mx-auto flex items-center justify-between py-4 px-4",children:[(0,Va.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Va.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#8B5FBF]"}),(0,Va.jsx)("span",{className:"font-bold text-lg",children:"EnglishGPT"})]}),(0,Va.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Va.jsx)("button",{onClick:t,className:"hidden sm:inline-flex px-4 py-2 rounded-lg border hover:bg-gray-50",children:"Sign in"}),(0,Va.jsx)("button",{onClick:t,className:"px-4 py-2 rounded-lg text-white",style:{background:"#8B5FBF"},children:"Get Started"})]})]})}),(0,Va.jsxs)("section",{className:"relative overflow-hidden",children:[(0,Va.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-[#F0EBFF] to-white pointer-events-none"}),(0,Va.jsx)("div",{className:"relative max-w-6xl mx-auto px-4 py-16",children:(0,Va.jsxs)("div",{className:"grid md:grid-cols-2 gap-10 items-center",children:[(0,Va.jsxs)("div",{children:[(0,Va.jsx)("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight mb-4",children:"Ace English with AI-powered marking and coaching"}),(0,Va.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:"Get instant, criteria-aligned feedback for IGCSE and A-Level. Clear marks, strengths, and targeted improvements \u2014 every time."}),(0,Va.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,Va.jsx)("button",{onClick:t,className:"px-6 py-3 rounded-xl text-white",style:{background:"#8B5FBF"},children:"Sign in with Discord"}),(0,Va.jsx)("button",{onClick:n,className:"px-6 py-3 rounded-xl border",children:"Sign in with Google"})]}),(0,Va.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"No credit card required"})]}),(0,Va.jsx)("div",{children:(0,Va.jsxs)("div",{className:"rounded-2xl border shadow-sm p-4 bg-white",children:[(0,Va.jsx)("div",{className:"rounded-xl bg-gray-50 p-6 border text-sm text-gray-700",children:"\u201cYour narrative uses striking sensory details. Great control of structure. Work on varied sentence openings to lift rhythm.\u201d"}),(0,Va.jsxs)("div",{className:"grid grid-cols-3 gap-3 mt-4 text-center",children:[(0,Va.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[(0,Va.jsx)("div",{className:"text-2xl font-bold text-green-700",children:"16/24"}),(0,Va.jsx)("div",{className:"text-sm text-green-700",children:"Style"})]}),(0,Va.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[(0,Va.jsx)("div",{className:"text-2xl font-bold text-blue-700",children:"12/16"}),(0,Va.jsx)("div",{className:"text-sm text-blue-700",children:"Content"})]}),(0,Va.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4",children:[(0,Va.jsx)("div",{className:"text-2xl font-bold text-purple-700",children:"28/40"}),(0,Va.jsx)("div",{className:"text-sm text-purple-700",children:"Total"})]})]})]})})]})})]}),(0,Va.jsx)("section",{className:"max-w-6xl mx-auto px-4 py-12",children:(0,Va.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:[{title:"Real mark schemes",desc:"Aligned to IGCSE and A-Level criteria for fair, consistent marking."},{title:"Actionable feedback",desc:"Concise strengths and improvements you can use immediately."},{title:"History & analytics",desc:"Track progress and trends; unlock recommendations over time."}].map(((e,t)=>(0,Va.jsxs)("div",{className:"border rounded-2xl p-6",children:[(0,Va.jsx)("div",{className:"w-10 h-10 rounded-lg mb-4",style:{background:"#8B5FBF"}}),(0,Va.jsx)("h3",{className:"font-semibold text-lg mb-2",children:e.title}),(0,Va.jsx)("p",{className:"text-gray-600 text-sm",children:e.desc})]},t)))})}),(0,Va.jsx)("section",{className:"max-w-6xl mx-auto px-4 pb-16",children:(0,Va.jsxs)("div",{className:"border rounded-2xl p-8 flex flex-col md:flex-row items-center justify-between bg-white",children:[(0,Va.jsxs)("div",{children:[(0,Va.jsx)("h3",{className:"font-bold text-xl mb-1",children:"Ready to improve faster?"}),(0,Va.jsx)("p",{className:"text-gray-600",children:"Sign in and start marking in under a minute."})]}),(0,Va.jsx)("div",{className:"mt-4 md:mt-0",children:(0,Va.jsx)("button",{onClick:t,className:"px-6 py-3 rounded-xl text-white",style:{background:"#8B5FBF"},children:"Get started"})})]})})]})},[N,E]=(0,s.useState)([]),[C,T]=(0,s.useState)(null),[P,O]=(0,s.useState)(!0),[R,A]=(0,s.useState)(!1),[L,I]=(0,s.useState)({open:!1,category:"overall"}),[D,U]=(0,s.useState)(!1),[z,M]=(0,s.useState)(null),[B,F]=(0,s.useState)(""),[q,W]=(0,s.useState)({userUpdate:!1,dataLoad:!1,planUpdate:!1,historyLoad:!1,fileUpload:!1}),G=(e,t)=>{W((n=>d(d({},n),{},{[e]:t})))},H=Na(),V={pricing:"pricing",history:"history",analytics:"analytics",write:"questionTypes"},K={pricing:"pricing",history:"history",analytics:"analytics",questionTypes:"write"};(0,s.useEffect)((()=>{const n=H&&H.pathname||"";if(n.startsWith("/results/"))return;if(!n.startsWith("/dashboard"))return;const r=(new URLSearchParams(H&&H.search||"").get("tab")||"").toLowerCase();r&&V[r]?e!==V[r]&&t(V[r]):"dashboard"!==e&&t("dashboard")}),[H.pathname,H.search]),(0,s.useEffect)((()=>{const t=H&&H.pathname||"";if(t.startsWith("/results/"))return;const r=K[e];if(r){new URLSearchParams(H&&H.search||"").get("tab")===r&&t.startsWith("/dashboard")||n("/dashboard?tab=".concat(r),{replace:!1})}else"dashboard"===e&&(!t.startsWith("/dashboard")||H&&H.search)&&n("/dashboard",{replace:!1})}),[e]);const[$,J]=(0,s.useState)([]),[Q,Y]=(0,s.useState)(-1),[X,Z]=(0,s.useState)("");(0,s.useEffect)((()=>{const n=n=>{const r=document.activeElement,s=r&&("INPUT"===r.tagName||"TEXTAREA"===r.tagName||"true"===r.contentEditable);if(!n.ctrlKey||"z"!==n.key||n.shiftKey||!s){if(n.ctrlKey&&"y"===n.key||n.ctrlKey&&n.shiftKey&&"Z"===n.key){if(s)return;n.preventDefault(),Q<$.length-1&&(Y(Q+1),Z($[Q+1]))}if(s||(n.altKey&&"1"===n.key&&(n.preventDefault(),t("dashboard")),n.altKey&&"2"===n.key&&(n.preventDefault(),t("analytics")),n.altKey&&"3"===n.key&&(n.preventDefault(),t("history")),n.altKey&&"4"===n.key&&(n.preventDefault(),t("account")),"Escape"===n.key&&(n.preventDefault(),w?k(!1):v?y(!1):"dashboard"!==e&&t("dashboard")),("?"===n.key||n.shiftKey&&"/"===n.key)&&(n.preventDefault(),k(!0))),n.ctrlKey&&"s"===n.key&&n.preventDefault(),n.ctrlKey&&"Enter"===n.key&&s&&"TEXTAREA"===r.tagName){n.preventDefault();const e=document.querySelector('button[type="submit"], button:contains("Submit"), button:contains("Evaluate")');e&&e.click()}}};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)}),[Q,$,e,v,w]);const ee=["\ud83e\udd16 AI is analyzing your essay...","\ud83d\udcdd Checking grammar and structure...","\ud83c\udfaf Evaluating content quality...","\u2728 Analyzing writing style and flow...","\ud83d\udd0d Examining vocabulary usage...","\ud83d\udcca Assessing argument structure...","\ud83c\udfad Reviewing literary techniques...","\ud83d\udca1 Identifying key strengths...","\ud83c\udfa8 Evaluating descriptive language...","\ud83e\udde0 Processing complex ideas...","\ud83d\udcd6 Checking coherence and clarity...","\ud83c\udfc6 Measuring against marking criteria...","\ud83c\udf1f Crafting improvement suggestions...","\ud83c\udfaa Analyzing tone and mood...","\ud83d\udd2c Examining evidence and examples...","\ud83c\udfb5 Checking rhythm and pacing...","\ud83c\udf08 Evaluating creativity and originality...","\u26a1 Generating personalized feedback...","\u2b50 Finalizing detailed assessment...","\ud83c\udf89 Almost done! Preparing your results..."],[te,ne]=(0,s.useState)(0);(0,s.useEffect)((()=>{if(R){const e=setInterval((()=>{ne((e=>(e+1)%ee.length))}),2e3);return()=>clearInterval(e)}ne(0)}),[R,ee.length]),(0,s.useEffect)((()=>{(async()=>{try{const e=new URL(window.location.href),t=e.searchParams,n=new URLSearchParams((window.location.hash||"").replace(/^#/,"")),r=t.get("code")||n.get("code");if(r){console.log("DEBUG: Detected OAuth PKCE code param");const{data:t,error:n}=await As.auth.exchangeCodeForSession(r);console.log("DEBUG: exchangeCodeForSession result:",{data:t,error:n});const s=await As.auth.getUser();console.log("DEBUG: getUser after code exchange:",s);const a=e.search.replace(/([?&])code=[^&]*&?/,"$1").replace(/[?&]$/,"");window.history.replaceState({},document.title,window.location.pathname+a),window.location.hash&&window.history.replaceState({},document.title,window.location.pathname+a)}}catch(e){console.error("DEBUG: Error hydrating session from URL:",e)}})().finally((async()=>{console.log("DEBUG: Getting session...");try{var e;const{data:{session:t},error:r}=await As.auth.getSession();console.log("DEBUG: Session data:",t),console.log("DEBUG: Session error:",r),null!==t&&void 0!==t&&null!==(e=t.user)&&void 0!==e&&e.id?(T(t.user),re(t.user),n("/dashboard",{replace:!0})):(T(null),_({questionsMarked:0,credits:3,currentPlan:"free"}),E([]))}catch(t){console.error("DEBUG: Exception getting session:",t),T(null),_({questionsMarked:0,credits:3,currentPlan:"free"}),E([])}finally{O(!1)}}));const{data:{subscription:e}}=As.auth.onAuthStateChange(((e,t)=>{var r,s;switch(console.log("DEBUG: Auth state change:",e,null===t||void 0===t||null===(r=t.user)||void 0===r?void 0:r.id),console.log("DEBUG: Full session object:",t),e){case"SIGNED_IN":case"INITIAL_SESSION":case"TOKEN_REFRESHED":null!==t&&void 0!==t&&null!==(s=t.user)&&void 0!==s&&s.id&&(T(t.user),re(t.user),window.history.replaceState({},document.title,window.location.pathname+window.location.search),n("/dashboard",{replace:!0}));break;default:T(null),_({questionsMarked:0,credits:3,currentPlan:"free"}),E([]),n("/",{replace:!0})}O(!1)}));return()=>e.unsubscribe()}),[]);const re=async e=>{if(console.log("DEBUG: loadUserData called with:",e),e)if(e.id)if("undefined"!==e.id&&void 0!==e.id){G("dataLoad",!0);try{var t;console.log("DEBUG: Loading user data for:",e.id);const n={user_id:e.id,email:e.email,name:(null===(t=e.user_metadata)||void 0===t?void 0:t.full_name)||e.email};console.log("DEBUG: Sending user data to backend:",n);const r=(await Lt.post("".concat(Ka,"/users"),n)).data.user;T(r),_({questionsMarked:r.questions_marked||0,credits:r.credits||3,currentPlan:r.current_plan||"free"}),g(r.dark_mode||!1),G("historyLoad",!0);const s=await Lt.get("".concat(Ka,"/history/").concat(e.id));E(s.data.evaluations||[]),G("historyLoad",!1),console.log("DEBUG: User data loaded successfully")}catch(r){var n;console.error("Error loading user data:",r),console.error("Error details:",null===(n=r.response)||void 0===n?void 0:n.data)}finally{G("dataLoad",!1)}}else console.error("User ID is undefined:",e.id);else console.error("No user ID in supabaseUser:",e);else console.error("No user object provided to loadUserData")},se=async()=>{const e=(null===C||void 0===C?void 0:C.uid)||(null===C||void 0===C?void 0:C.id);if(!C||!e)return void console.error("Cannot update dark mode: user not ready");const t=!m;g(t);try{await Lt.put("".concat(Ka,"/users/").concat(e,"/preferences"),{dark_mode:t})}catch(n){console.error("Error updating dark mode preference:",n)}},ae=async e=>{const t=(null===C||void 0===C?void 0:C.uid)||(null===C||void 0===C?void 0:C.id);if(!C||!t)return void console.error("Cannot update academic level: user not ready");const n=e.toLowerCase().replace(/[^a-z]/g,"");console.log("DEBUG: onLevelChange called with:",e,"normalized:",n),c(n);try{console.log("DEBUG: Updating user level in backend:",{academic_level:e}),await Lt.put("".concat(Ka,"/users/").concat(t),{academic_level:e}),console.log("DEBUG: User level updated successfully")}catch(r){console.error("DEBUG: Error updating level:",r)}},oe=async()=>{try{const{data:e,error:t}=await As.auth.signInWithOAuth({provider:"discord",options:{redirectTo:"undefined"!==typeof window?window.location.origin:"http://localhost:3000",flowType:"pkce"}});if(t)throw t}catch(e){console.error("Error signing in with Discord:",e),alert("Discord sign-in is not configured. Please try Google sign-in.")}},ie=async()=>{try{const{data:e,error:t}=await As.auth.signInWithOAuth({provider:"google",options:{redirectTo:"undefined"!==typeof window?window.location.origin:"http://localhost:3000",flowType:"pkce"}});if(t)throw t}catch(e){console.error("Error signing in with Google:",e),alert("Google sign-in is not configured. Please try Discord sign-in.")}},le=async()=>{try{const{error:e}=await As.auth.signOut();if(e)throw e;T(null)}catch(e){console.error("Error signing out:",e)}},ce=n=>{let{children:s}=n;return P?(0,Va.jsx)("div",{className:"min-h-screen ".concat(m?"bg-gray-900 text-white":"bg-main"," flex items-center justify-center"),children:(0,Va.jsxs)("div",{className:"text-center",children:[(0,Va.jsx)("div",{className:"loading-animation",children:(0,Va.jsxs)("div",{className:"loading-dots",children:[(0,Va.jsx)("div",{className:"loading-dot"}),(0,Va.jsx)("div",{className:"loading-dot"}),(0,Va.jsx)("div",{className:"loading-dot"})]})}),(0,Va.jsx)("p",{className:"mt-4 font-fredoka",children:"Authenticating..."}),(0,Va.jsx)("p",{className:"mt-2 text-sm opacity-75",children:"Please wait while we set up your account"})]})}):C?(0,Va.jsxs)("div",{className:m?"dark":"",children:["dashboard"===e&&(0,Va.jsx)(eo,{questionTypes:r,onStartQuestion:ue,onPricing:()=>t("pricing"),onHistory:()=>t("history"),onAnalytics:()=>t("analytics"),onAccountSettings:()=>t("accountSettings"),userStats:j,user:C,darkMode:m,onSignOut:le}),"questionTypes"===e&&(0,Va.jsx)(to,{questionTypes:r,onSelectQuestionType:de,onBack:ge,onEvaluate:he,selectedLevel:l,darkMode:m}),"assessment"===e&&(0,Va.jsx)(no,{selectedQuestionType:o,onBack:ge,onEvaluate:he,darkMode:m}),"results"===e&&f&&(0,Va.jsx)(ro,{evaluation:f,onNewEvaluation:fe,userPlan:j.currentPlan,darkMode:m}),"pricing"===e&&(0,Va.jsx)($a,{onBack:ge,handlePlanSelect:me}),"history"===e&&(0,Va.jsx)(Xa,{onBack:ge,evaluations:N,userPlan:j.currentPlan}),"analytics"===e&&(0,Va.jsx)(Ya,{onBack:ge,userStats:j,user:C,evaluations:N,onUpgrade:()=>t("pricing")}),"accountSettings"===e&&(0,Va.jsx)(Za,{onBack:ge,user:C,userStats:j,onLevelChange:ae,showLevelPrompt:u,darkMode:m,toggleDarkMode:se,onPricing:()=>t("pricing")})]}):(0,Va.jsx)("div",{className:"min-h-screen ".concat(m?"bg-gray-900 text-white":"bg-main"," flex items-center justify-center"),children:(0,Va.jsxs)("div",{className:"text-center max-w-md mx-auto px-4",children:[(0,Va.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full overflow-hidden",children:(0,Va.jsx)("img",{src:"https://ik.imagekit.io/lqf8a8nmt/logo-modified.png?updatedAt=1752578868143",alt:"EnglishGPT Logo",className:"w-full h-full object-contain"})}),(0,Va.jsx)("h1",{className:"text-3xl font-fredoka font-bold mb-4",children:"Welcome to EnglishGPT"}),(0,Va.jsx)("p",{className:"text-lg mb-8 font-fredoka",children:"Your AI-powered English essay marking assistant"}),(0,Va.jsxs)("button",{onClick:oe,className:"bg-[#5865F2] text-white px-10 py-4 rounded-xl font-semibold hover:bg-[#4752C4] transition-colors flex items-center justify-center mx-auto mb-4 w-full max-w-sm text-lg",children:[(0,Va.jsx)("svg",{className:"w-6 h-6 mr-3",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Va.jsx)("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"})}),"Sign in with Discord"]}),(0,Va.jsxs)("button",{onClick:ie,className:"bg-blue-600 text-white px-6 py-2.5 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center mx-auto w-full max-w-xs text-sm",children:[(0,Va.jsxs)("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[(0,Va.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,Va.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,Va.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,Va.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})]})})};(0,s.useEffect)((()=>{(async()=>{try{const e=await Lt.get("".concat(Ka,"/question-types"));a(e.data.question_types)}catch(e){console.error("Error loading question types:",e)}})()}),[]);const ue=()=>{console.log("DEBUG: handleStartQuestion called, selectedLevel:",l),l?(console.log("DEBUG: Level found, going to questionTypes"),t("questionTypes")):(console.log("DEBUG: No level found, redirecting to account settings"),h(!0),t("accountSettings"))};(0,s.useEffect)((()=>{const e=(null===C||void 0===C?void 0:C.uid)||(null===C||void 0===C?void 0:C.id);if(C&&e){console.log("DEBUG: Fetching user level for:",e);(async()=>{try{var t;let n=null===(t=(await Lt.get("".concat(Ka,"/users/").concat(e))).data.user)||void 0===t?void 0:t.academic_level;console.log("DEBUG: Fetched academic level:",n),n&&"N/A"!==n?(n=n.toLowerCase().replace(/[^a-z]/g,""),console.log("DEBUG: Normalized level:",n),c(n)):console.log("DEBUG: No level set or level is N/A")}catch(r){var n;console.error("Error fetching user level:",r),console.error("Error details:",null===(n=r.response)||void 0===n?void 0:n.data)}})()}else console.log("DEBUG: No user or user ID available for fetching level")}),[C]);const de=e=>{i(e),t("assessment")},he=async e=>{if(!e)return;const t=(null===C||void 0===C?void 0:C.uid)||(null===C||void 0===C?void 0:C.id);if(!C||!t)return console.error("Cannot evaluate: user not ready"),x("Please wait for authentication to complete."),void y(!0);const r=((e,t)=>{const n=e.trim().split(/\s+/).filter((e=>e.length>0)).length;if("igcse_summary"===t);else{if(1<n&&n<100)return{isValid:!1,error:"Your essay is too short. You have ".concat(n," words, but you need at least 100 words for a proper evaluation. We understand you might want to test our AI, for that, please look at our examples on the dashboard. Please write a more detailed response to get meaningful feedback.")};if(1===n)return{isValid:!1,error:"Your essay is too long. You have ".concat(n," word, but you need at least 100 words for a proper evaluation. We understand you might want to test our AI, for that, please look at our examples on the dashboard. Please write a more detailed response to get meaningful feedback.")}}const r=e.toLowerCase(),s=["test","hello","world","random","testing","sample","example","demo","essay","essay writing","essay help","essay writing help","essay writing service","essay writing assistant","essay writing tool","essay writing software","essay writing app","essay writing online","essay writing tool","essay writing software","essay writing app","essay writing online","okay"].filter((e=>r.includes(e))).length,a=new Set(r.split(/\s+/).filter((e=>e.length>0))),o=r.split(/\s+/).filter((e=>e.length>0)).length;return s>2||a.size/o<.3?{isValid:!1,error:"Your essay appears to be test content or contains repetitive text. Please write a proper essay with meaningful content to get accurate feedback. The AI needs real content to provide helpful analysis."}:e.trim().length<200?{isValid:!1,error:"Your essay is too brief for meaningful analysis. Please write a more detailed response (at least 200 characters) to receive comprehensive feedback."}:{isValid:!0}})(e.student_response,e.question_type);if(!r.isValid)return x(r.error),void y(!0);A(!0);try{var s;const r=d(d({},e),{},{user_id:t}),a=await Lt.post("".concat(Ka,"/evaluate"),r);p(a.data),E((e=>[a.data,...e])),"unlimited"===j.currentPlan?_((e=>d(d({},e),{},{questionsMarked:e.questionsMarked+1,credits:"free"===e.currentPlan?e.credits-1:e.credits}))):_((e=>d(d({},e),{},{credits:e.credits-1,questionsMarked:e.questionsMarked+1,showWelcomeMessage:!1}))),null!==a&&void 0!==a&&null!==(s=a.data)&&void 0!==s&&s.id?n("/results/".concat(a.data.id)):n("/dashboard")}catch(i){var a,o;console.error("Error evaluating submission:",i),402===(null===(a=i.response)||void 0===a?void 0:a.status)?(x("No credits remaining. Please upgrade to unlimited for unlimited marking."),y(!0)):429===(null===(o=i.response)||void 0===o?void 0:o.status)&&(x("Rate limit exceeded. Please try again later."),y(!0))}finally{A(!1)}},fe=()=>{i(null),p(null),t("questionTypes")},pe=()=>{const{id:e}=function(){let{matches:e}=s.useContext(ja),t=e[e.length-1];return t?t.params:{}}(),[t,n]=(0,s.useState)(!0),[r,a]=(0,s.useState)(null),o=Ca();return(0,s.useEffect)((()=>{let t=!0;return(async()=>{try{const n=await Lt.get("".concat(Ka,"/evaluations/").concat(e));if(!t)return;a(n.data.evaluation)}catch(r){console.error("Failed to load evaluation:",r)}finally{t&&n(!1)}})(),()=>{t=!1}}),[e]),t?(0,Va.jsx)("div",{className:"min-h-screen ".concat(m?"bg-gray-900 text-white":"bg-main"," flex items-center justify-center"),children:(0,Va.jsxs)("div",{className:"text-center",children:[(0,Va.jsx)("div",{className:"loading-animation",children:(0,Va.jsxs)("div",{className:"loading-dots",children:[(0,Va.jsx)("div",{className:"loading-dot"}),(0,Va.jsx)("div",{className:"loading-dot"}),(0,Va.jsx)("div",{className:"loading-dot"})]})}),(0,Va.jsx)("p",{className:"mt-4 font-fredoka",children:"Loading result..."})]})}):r?(0,Va.jsx)("div",{className:m?"dark":"",children:(0,Va.jsx)(ro,{evaluation:r,onNewEvaluation:fe,userPlan:j.currentPlan,darkMode:m})}):(0,Va.jsx)("div",{className:"min-h-screen ".concat(m?"bg-gray-900 text-white":"bg-main"," flex items-center justify-center"),children:(0,Va.jsxs)("div",{className:"text-center",children:[(0,Va.jsx)("h1",{className:"text-2xl font-fredoka font-bold mb-2",children:"Result not found"}),(0,Va.jsx)("p",{className:"text-gray-600",children:"The evaluation you are looking for does not exist or has been removed."}),(0,Va.jsx)("button",{onClick:()=>o("/"),className:"mt-6 bg-blue-600 text-white px-4 py-2 rounded-lg",children:"Go Home"})]})})},me=async e=>{const n=(null===C||void 0===C?void 0:C.uid)||(null===C||void 0===C?void 0:C.id);if(C&&n)try{null===e||void 0===e||e.id;const r={current_plan:"unlimited",updated_at:(new Date).toISOString()};await Lt.put("".concat(Ka,"/users/").concat(n),r),_((e=>d(d({},e),{},{currentPlan:"unlimited",showWelcomeMessage:!1}))),t("dashboard")}catch(r){console.error("Error updating plan:",r)}else console.error("Cannot update plan: user not ready")},ge=()=>{"questionTypes"===e?t("dashboard"):"assessment"===e?t("questionTypes"):"pricing"!==e&&"history"!==e&&"analytics"!==e&&"accountSettings"!==e||(t("dashboard"),h(!1),t("results"))};return R?(0,Va.jsx)("div",{className:"min-h-screen ".concat(m?"bg-gray-900 text-white":"bg-main"," flex items-center justify-center"),children:(0,Va.jsx)("div",{className:"text-center max-w-md",children:(0,Va.jsxs)("div",{className:"loading-animation",children:[(0,Va.jsxs)("div",{className:"loading-dots",children:[(0,Va.jsx)("div",{className:"loading-dot"}),(0,Va.jsx)("div",{className:"loading-dot"}),(0,Va.jsx)("div",{className:"loading-dot"})]}),(0,Va.jsx)("div",{className:"loading-text",children:ee[te]})]})})}):(0,Va.jsxs)(Ga,{children:[(0,Va.jsx)(qa,{path:"/results/:id",element:(0,Va.jsx)(pe,{})}),(0,Va.jsx)(qa,{path:"/",element:(0,Va.jsx)(S,{onDiscord:oe,onGoogle:ie})}),(0,Va.jsx)(qa,{path:"/dashboard",element:(0,Va.jsx)("div",{className:m?"dark":"",children:(0,Va.jsx)(ce,{})})}),(0,Va.jsx)(qa,{path:"*",element:(0,Va.jsxs)("div",{className:m?"dark":"",children:[(0,Va.jsx)(ce,{}),(0,Va.jsx)(so,{isOpen:v,onClose:()=>y(!1),message:b,darkMode:m}),(0,Va.jsx)(Ja,{isVisible:w,onClose:()=>k(!1)})]})})]})};var oo=n(950),io=n.t(oo,2);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(fo){}new Map;const lo=a.startTransition;io.flushSync,a.useId;function co(e){let{basename:t,children:n,future:r,window:a}=e,o=s.useRef();var i;null==o.current&&(o.current=(void 0===(i={window:a,v5Compat:!0})&&(i={}),Ws((function(e,t){let{pathname:n,search:r,hash:s}=e.location;return Bs("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Fs(t)}),null,i)));let l=o.current,[c,u]=s.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=s.useCallback((e=>{d&&lo?lo((()=>u(e))):u(e)}),[u,d]);return s.useLayoutEffect((()=>l.listen(h)),[l,h]),s.useEffect((()=>Fa(r)),[r]),s.createElement(Wa,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var uo,ho;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(uo||(uo={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ho||(ho={}));o.createRoot(document.getElementById("root")).render((0,Va.jsx)(s.StrictMode,{children:(0,Va.jsx)(co,{children:(0,Va.jsx)(ao,{})})}))})();
//# sourceMappingURL=main.2d48e3f9.js.map